(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Vd={exports:{}},Hu={};var E2;function oy(){if(E2)return Hu;E2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var k2;function ly(){return k2||(k2=1,Vd.exports=oy()),Vd.exports}var p=ly(),Yd={exports:{}},Zt={};var C2;function cy(){if(C2)return Zt;C2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=k&&G[k]||G["@@iterator"],typeof G=="function"?G:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function N(G,L,I){this.props=G,this.context=L,this.refs=T,this.updater=I||j}N.prototype.isReactComponent={},N.prototype.setState=function(G,L){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,L,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function P(){}P.prototype=N.prototype;function D(G,L,I){this.props=G,this.context=L,this.refs=T,this.updater=I||j}var U=D.prototype=new P;U.constructor=D,S(U,N.prototype),U.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var te={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Y(G,L,I){var W=I.ref;return{$$typeof:r,type:G,key:L,ref:W!==void 0?W:null,props:I}}function ge(G,L){return Y(G.type,L,G.props)}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function H(G){var L={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(I){return L[I]})}var se=/\/+/g;function ae(G,L){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):L.toString(36)}function we(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ce,ce):(G.status="pending",G.then(function(L){G.status==="pending"&&(G.status="fulfilled",G.value=L)},function(L){G.status==="pending"&&(G.status="rejected",G.reason=L)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ee(G,L,I,W,ie){var ue=typeof G;(ue==="undefined"||ue==="boolean")&&(G=null);var pe=!1;if(G===null)pe=!0;else switch(ue){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(G.$$typeof){case r:case e:pe=!0;break;case b:return pe=G._init,ee(pe(G._payload),L,I,W,ie)}}if(pe)return ie=ie(G),pe=W===""?"."+ae(G,0):W,le(ie)?(I="",pe!=null&&(I=pe.replace(se,"$&/")+"/"),ee(ie,L,I,"",function(Pe){return Pe})):ie!=null&&(M(ie)&&(ie=ge(ie,I+(ie.key==null||G&&G.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+pe)),L.push(ie)),1;pe=0;var ke=W===""?".":W+":";if(le(G))for(var je=0;je<G.length;je++)W=G[je],ue=ke+ae(W,je),pe+=ee(W,L,I,ue,ie);else if(je=w(G),typeof je=="function")for(G=je.call(G),je=0;!(W=G.next()).done;)W=W.value,ue=ke+ae(W,je++),pe+=ee(W,L,I,ue,ie);else if(ue==="object"){if(typeof G.then=="function")return ee(we(G),L,I,W,ie);throw L=String(G),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(G,L,I){if(G==null)return G;var W=[],ie=0;return ee(G,W,"","",function(ue){return L.call(I,ue,ie++)}),W}function re(G){if(G._status===-1){var L=G._result;L=L(),L.then(function(I){(G._status===0||G._status===-1)&&(G._status=1,G._result=I)},function(I){(G._status===0||G._status===-1)&&(G._status=2,G._result=I)}),G._status===-1&&(G._status=0,G._result=L)}if(G._status===1)return G._result.default;throw G._result}var xe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Le={map:X,forEach:function(G,L,I){X(G,function(){L.apply(this,arguments)},I)},count:function(G){var L=0;return X(G,function(){L++}),L},toArray:function(G){return X(G,function(L){return L})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Zt.Activity=A,Zt.Children=Le,Zt.Component=N,Zt.Fragment=n,Zt.Profiler=o,Zt.PureComponent=D,Zt.StrictMode=a,Zt.Suspense=d,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return te.H.useMemoCache(G)}},Zt.cache=function(G){return function(){return G.apply(null,arguments)}},Zt.cacheSignal=function(){return null},Zt.cloneElement=function(G,L,I){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var W=S({},G.props),ie=G.key;if(L!=null)for(ue in L.key!==void 0&&(ie=""+L.key),L)!$.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(W[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)W.children=I;else if(1<ue){for(var pe=Array(ue),ke=0;ke<ue;ke++)pe[ke]=arguments[ke+2];W.children=pe}return Y(G.type,ie,W)},Zt.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},Zt.createElement=function(G,L,I){var W,ie={},ue=null;if(L!=null)for(W in L.key!==void 0&&(ue=""+L.key),L)$.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=L[W]);var pe=arguments.length-2;if(pe===1)ie.children=I;else if(1<pe){for(var ke=Array(pe),je=0;je<pe;je++)ke[je]=arguments[je+2];ie.children=ke}if(G&&G.defaultProps)for(W in pe=G.defaultProps,pe)ie[W]===void 0&&(ie[W]=pe[W]);return Y(G,ue,ie)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(G){return{$$typeof:h,render:G}},Zt.isValidElement=M,Zt.lazy=function(G){return{$$typeof:b,_payload:{_status:-1,_result:G},_init:re}},Zt.memo=function(G,L){return{$$typeof:m,type:G,compare:L===void 0?null:L}},Zt.startTransition=function(G){var L=te.T,I={};te.T=I;try{var W=G(),ie=te.S;ie!==null&&ie(I,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ce,xe)}catch(ue){xe(ue)}finally{L!==null&&I.types!==null&&(L.types=I.types),te.T=L}},Zt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Zt.use=function(G){return te.H.use(G)},Zt.useActionState=function(G,L,I){return te.H.useActionState(G,L,I)},Zt.useCallback=function(G,L){return te.H.useCallback(G,L)},Zt.useContext=function(G){return te.H.useContext(G)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(G,L){return te.H.useDeferredValue(G,L)},Zt.useEffect=function(G,L){return te.H.useEffect(G,L)},Zt.useEffectEvent=function(G){return te.H.useEffectEvent(G)},Zt.useId=function(){return te.H.useId()},Zt.useImperativeHandle=function(G,L,I){return te.H.useImperativeHandle(G,L,I)},Zt.useInsertionEffect=function(G,L){return te.H.useInsertionEffect(G,L)},Zt.useLayoutEffect=function(G,L){return te.H.useLayoutEffect(G,L)},Zt.useMemo=function(G,L){return te.H.useMemo(G,L)},Zt.useOptimistic=function(G,L){return te.H.useOptimistic(G,L)},Zt.useReducer=function(G,L,I){return te.H.useReducer(G,L,I)},Zt.useRef=function(G){return te.H.useRef(G)},Zt.useState=function(G){return te.H.useState(G)},Zt.useSyncExternalStore=function(G,L,I){return te.H.useSyncExternalStore(G,L,I)},Zt.useTransition=function(){return te.H.useTransition()},Zt.version="19.2.1",Zt}var T2;function ep(){return T2||(T2=1,Yd.exports=cy()),Yd.exports}var We=ep(),Wd={exports:{}},$u={},Kd={exports:{}},Jd={};var L2;function uy(){return L2||(L2=1,(function(r){function e(ee,X){var re=ee.length;ee.push(X);e:for(;0<re;){var xe=re-1>>>1,Le=ee[xe];if(0<o(Le,X))ee[xe]=X,ee[re]=Le,re=xe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var X=ee[0],re=ee.pop();if(re!==X){ee[0]=re;e:for(var xe=0,Le=ee.length,G=Le>>>1;xe<G;){var L=2*(xe+1)-1,I=ee[L],W=L+1,ie=ee[W];if(0>o(I,re))W<Le&&0>o(ie,I)?(ee[xe]=ie,ee[W]=re,xe=W):(ee[xe]=I,ee[L]=re,xe=L);else if(W<Le&&0>o(ie,re))ee[xe]=ie,ee[W]=re,xe=W;else break e}}return X}function o(ee,X){var re=ee.sortIndex-X.sortIndex;return re!==0?re:ee.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var d=[],m=[],b=1,A=null,k=3,w=!1,j=!1,S=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var X=n(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=ee)a(m),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(m)}}function le(ee){if(S=!1,U(ee),!j)if(n(d)!==null)j=!0,ce||(ce=!0,H());else{var X=n(m);X!==null&&we(le,X.startTime-ee)}}var ce=!1,te=-1,$=5,Y=-1;function ge(){return T?!0:!(r.unstable_now()-Y<$)}function M(){if(T=!1,ce){var ee=r.unstable_now();Y=ee;var X=!0;try{e:{j=!1,S&&(S=!1,P(te),te=-1),w=!0;var re=k;try{t:{for(U(ee),A=n(d);A!==null&&!(A.expirationTime>ee&&ge());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,k=A.priorityLevel;var Le=xe(A.expirationTime<=ee);if(ee=r.unstable_now(),typeof Le=="function"){A.callback=Le,U(ee),X=!0;break t}A===n(d)&&a(d),U(ee)}else a(d);A=n(d)}if(A!==null)X=!0;else{var G=n(m);G!==null&&we(le,G.startTime-ee),X=!1}}break e}finally{A=null,k=re,w=!1}X=void 0}}finally{X?H():ce=!1}}}var H;if(typeof D=="function")H=function(){D(M)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ae=se.port2;se.port1.onmessage=M,H=function(){ae.postMessage(null)}}else H=function(){N(M,0)};function we(ee,X){te=N(function(){ee(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var X=3;break;default:X=k}var re=k;k=X;try{return ee()}finally{k=re}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=k;k=ee;try{return X()}finally{k=re}},r.unstable_scheduleCallback=function(ee,X,re){var xe=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?xe+re:xe):re=xe,ee){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=re+Le,ee={id:b++,callback:X,priorityLevel:ee,startTime:re,expirationTime:Le,sortIndex:-1},re>xe?(ee.sortIndex=re,e(m,ee),n(d)===null&&ee===n(m)&&(S?(P(te),te=-1):S=!0,we(le,re-xe))):(ee.sortIndex=Le,e(d,ee),j||w||(j=!0,ce||(ce=!0,H()))),ee},r.unstable_shouldYield=ge,r.unstable_wrapCallback=function(ee){var X=k;return function(){var re=k;k=X;try{return ee.apply(this,arguments)}finally{k=re}}}})(Jd)),Jd}var O2;function hy(){return O2||(O2=1,Kd.exports=uy()),Kd.exports}var Xd={exports:{}},Er={};var R2;function fy(){if(R2)return Er;R2=1;var r=ep();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,m,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:d,containerInfo:m,implementation:b}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Er.createPortal=function(d,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,b)},Er.flushSync=function(d){var m=c.T,b=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=m,a.p=b,a.d.f()}},Er.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(d,m))},Er.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Er.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin),k=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?a.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:k,fetchPriority:w}):b==="script"&&a.d.X(d,{crossOrigin:A,integrity:k,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Er.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);a.d.M(d,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(d)},Er.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin);a.d.L(d,b,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Er.preloadModule=function(d,m){if(typeof d=="string")if(m){var b=h(m.as,m.crossOrigin);a.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(d)},Er.requestFormReset=function(d){a.d.r(d)},Er.unstable_batchedUpdates=function(d,m){return d(m)},Er.useFormState=function(d,m,b){return c.H.useFormState(d,m,b)},Er.useFormStatus=function(){return c.H.useHostTransitionStatus()},Er.version="19.2.1",Er}var D2;function dy(){if(D2)return Xd.exports;D2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=fy(),Xd.exports}var P2;function py(){if(P2)return $u;P2=1;var r=hy(),e=ep(),n=dy();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(l(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,u=i;;){var g=s.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){s=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===s)return d(g),t;if(y===u)return d(g),i;y=y.sibling}throw Error(a(188))}if(s.return!==u.return)s=g,u=y;else{for(var C=!1,F=g.child;F;){if(F===s){C=!0,s=g,u=y;break}if(F===u){C=!0,u=g,s=y;break}F=F.sibling}if(!C){for(F=y.child;F;){if(F===s){C=!0,s=y,u=g;break}if(F===u){C=!0,u=y,s=g;break}F=F.sibling}if(!C)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var se=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case D:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case $:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var we=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},xe=[],Le=-1;function G(t){return{current:t}}function L(t){0>Le||(t.current=xe[Le],xe[Le]=null,Le--)}function I(t,i){Le++,xe[Le]=t.current,t.current=i}var W=G(null),ie=G(null),ue=G(null),pe=G(null);function ke(t,i){switch(I(ue,i),I(ie,t),I(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?J1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=J1(i),t=X1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(W),I(W,t)}function je(){L(W),L(ie),L(ue)}function Pe(t){t.memoizedState!==null&&I(pe,t);var i=W.current,s=X1(i,t.type);i!==s&&(I(ie,t),I(W,s))}function Ve(t){ie.current===t&&(L(W),L(ie)),pe.current===t&&(L(pe),Uu._currentValue=re)}var Ze,Xe;function it(t){if(Ze===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ze=i&&i[1]||"",Xe=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+t+Xe}var K=!1;function Ke(t,i){if(!t||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(Te){var Ce=Te}Reflect.construct(t,[],Ie)}else{try{Ie.call()}catch(Te){Ce=Te}t.call(Ie.prototype)}}else{try{throw Error()}catch(Te){Ce=Te}(Ie=t())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(Te){if(Te&&Ce&&typeof Te.stack=="string")return[Te.stack,Ce.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),C=y[0],F=y[1];if(C&&F){var oe=C.split(`
`),Ee=F.split(`
`);for(g=u=0;u<oe.length&&!oe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Ee.length&&!Ee[g].includes("DetermineComponentFrameRoot");)g++;if(u===oe.length||g===Ee.length)for(u=oe.length-1,g=Ee.length-1;1<=u&&0<=g&&oe[u]!==Ee[g];)g--;for(;1<=u&&0<=g;u--,g--)if(oe[u]!==Ee[g]){if(u!==1||g!==1)do if(u--,g--,0>g||oe[u]!==Ee[g]){var De=`
`+oe[u].replace(" at new "," at ");return t.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",t.displayName)),De}while(1<=u&&0<=g);break}}}finally{K=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?it(s):""}function Kt(t,i){switch(t.tag){case 26:case 27:case 5:return it(t.type);case 16:return it("Lazy");case 13:return t.child!==i&&i!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return it("Activity");default:return""}}function vt(t){try{var i="",s=null;do i+=Kt(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var $e=Object.prototype.hasOwnProperty,St=r.unstable_scheduleCallback,et=r.unstable_cancelCallback,At=r.unstable_shouldYield,yt=r.unstable_requestPaint,Wt=r.unstable_now,It=r.unstable_getCurrentPriorityLevel,zt=r.unstable_ImmediatePriority,sn=r.unstable_UserBlockingPriority,tn=r.unstable_NormalPriority,ft=r.unstable_LowPriority,Ht=r.unstable_IdlePriority,dt=r.log,Xn=r.unstable_setDisableYieldValue,rn=null,Et=null;function Bt(t){if(typeof dt=="function"&&Xn(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(rn,t)}catch{}}var on=Math.clz32?Math.clz32:Lt,Nt=Math.log,On=Math.LN2;function Lt(t){return t>>>=0,t===0?32:31-(Nt(t)/On|0)|0}var Mt=256,En=262144,Jt=4194304;function mt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function un(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var g=0,y=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var F=u&134217727;return F!==0?(u=F&~y,u!==0?g=mt(u):(C&=F,C!==0?g=mt(C):s||(s=F&~t,s!==0&&(g=mt(s))))):(F=u&~y,F!==0?g=mt(F):C!==0?g=mt(C):s||(s=u&~t,s!==0&&(g=mt(s)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,s=i&-i,y>=s||y===32&&(s&4194048)!==0)?i:g}function Or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Pi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(){var t=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),t}function _r(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function bt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function la(t,i,s,u,g,y){var C=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var F=t.entanglements,oe=t.expirationTimes,Ee=t.hiddenUpdates;for(s=C&~s;0<s;){var De=31-on(s),Ie=1<<De;F[De]=0,oe[De]=-1;var Ce=Ee[De];if(Ce!==null)for(Ee[De]=null,De=0;De<Ce.length;De++){var Te=Ce[De];Te!==null&&(Te.lane&=-536870913)}s&=~Ie}u!==0&&Ir(t,u,0),y!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=y&~(C&~i))}function Ir(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-on(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function or(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-on(s),g=1<<u;g&i|t[u]&i&&(t[u]|=i),s&=~g}}function lr(t,i){var s=i&-i;return s=(s&42)!==0?1:Un(s),(s&(t.suspendedLanes|i))!==0?0:s}function Un(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:w2(t.type))}function Aa(t,i){var s=X.p;try{return X.p=t,i()}finally{X.p=s}}var Hi=Math.random().toString(36).slice(2),kn="__reactFiber$"+Hi,Rn="__reactProps$"+Hi,vi="__reactContainer$"+Hi,cr="__reactEvents$"+Hi,xr="__reactListeners$"+Hi,ja="__reactHandles$"+Hi,Sr="__reactResources$"+Hi,Dn="__reactMarker$"+Hi;function zr(t){delete t[kn],delete t[Rn],delete t[cr],delete t[xr],delete t[ja]}function Rr(t){var i=t[kn];if(i)return i;for(var s=t.parentNode;s;){if(i=s[vi]||s[kn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=r2(t);t!==null;){if(s=t[kn])return s;t=r2(t)}return i}t=s,s=t.parentNode}return null}function ne(t){if(t=t[kn]||t[vi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function me(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function qe(t){var i=t[Sr];return i||(i=t[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Fe(t){t[Dn]=!0}var ot=new Set,rt={};function $t(t,i){at(t,i),at(t+"Capture",i)}function at(t,i){for(rt[t]=i,t=0;t<i.length;t++)ot.add(i[t])}var He=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qe={},kt={};function Bi(t){return $e.call(kt,t)?!0:$e.call(Qe,t)?!1:He.test(t)?kt[t]=!0:(Qe[t]=!0,!1)}function Ot(t,i,s){if(Bi(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ur(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Hr(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ll(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ea(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return g.call(this)},set:function(C){s=""+C,y.call(this,C)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(C){s=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function xs(t){if(!t._valueTracker){var i=ll(t)?"checked":"value";t._valueTracker=Ea(t,i,""+t[i])}}function cl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=ll(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function yi(t){return t.replace(ki,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xo(t,i,s,u,g,y,C,F){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+mn(i)):t.value!==""+mn(i)&&(t.value=""+mn(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?ul(t,C,mn(i)):s!=null?ul(t,C,mn(s)):u!=null&&t.removeAttribute("value"),g==null&&y!=null&&(t.defaultChecked=!!y),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?t.name=""+mn(F):t.removeAttribute("name")}function Jl(t,i,s,u,g,y,C,F){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){xs(t);return}s=s!=null?""+mn(s):"",i=i!=null?""+mn(i):s,F||i===t.value||(t.value=i),t.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=F?t.checked:!!u,t.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),xs(t)}function ul(t,i,s){i==="number"&&hr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fr(t,i,s,u){if(t=t.options,i){i={};for(var g=0;g<s.length;g++)i["$"+s[g]]=!0;for(s=0;s<t.length;s++)g=i.hasOwnProperty("$"+t[s].value),t[s].selected!==g&&(t[s].selected=g),g&&u&&(t[s].defaultSelected=!0)}else{for(s=""+mn(s),i=null,g=0;g<t.length;g++){if(t[g].value===s){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}i!==null||t[g].disabled||(i=t[g])}i!==null&&(i.selected=!0)}}function hl(t,i,s){if(i!=null&&(i=""+mn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+mn(s):""}function fl(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(we(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=mn(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),xs(t)}function ca(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||$s.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ql(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&s[g]!==u&&Xl(t,g,u)}else for(var y in i)i.hasOwnProperty(y)&&Xl(t,y,i[y])}function dl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return Zl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ua(){}var $a=null;function Gs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Rt=null;function ec(t){var i=ne(t);if(i&&(t=i.stateNode)){var s=t[Rn]||null;e:switch(t=i.stateNode,i.type){case"input":if(xo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yi(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var g=u[Rn]||null;if(!g)throw Error(a(90));xo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&cl(u)}break e;case"textarea":hl(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&fr(t,!!s.multiple,i,!1)}}}var gl=!1;function tc(t,i,s){if(gl)return t(i,s);gl=!0;try{var u=t(i);return u}finally{if(gl=!1,(Ss!==null||Rt!==null)&&(Dh(),Ss&&(i=Ss,t=Rt,Rt=Ss=null,ec(i),t)))for(i=0;i<t.length;i++)ec(t[i])}}function Dr(t,i){var s=t.stateNode;if(s===null)return null;var u=s[Rn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=!1;if($i)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{ml=!1}var Pr=null,Ys=null,ka=null;function nc(){if(ka)return ka;var t,i=Ys,s=i.length,u,g="value"in Pr?Pr.value:Pr.textContent,y=g.length;for(t=0;t<s&&i[t]===g[t];t++);var C=s-t;for(u=1;u<=C&&i[s-u]===g[y-u];u++);return ka=g.slice(t,1<u?1-u:void 0)}function $r(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function So(){return!0}function No(){return!1}function Mi(t){function i(s,u,g,y,C){this._reactName=s,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(s=t[F],this[F]=s?s(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?So:No,this.isPropagationStopped=No,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),i}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=Mi(Ca),Ga=A({},Ca,{view:0,detail:0}),Ao=Mi(Ga),Ws,Va,Ya,Ks=A({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(Ws=t.screenX-Ya.screenX,Va=t.screenY-Ya.screenY):Va=Ws=0,Ya=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),vl=Mi(Ks),Wa=A({},Ks,{dataTransfer:0}),Ka=Mi(Wa),ic=A({},Ga,{relatedTarget:0}),Ja=Mi(ic),rc=A({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Mi(rc),O=A({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z=Mi(O),he=A({},Ca,{data:0}),ye=Mi(he),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pt(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lt[t])?!!i[t]:!1}function qt(){return pt}var Xt=A({},Ga,{key:function(t){if(t.key){var i=Be[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ge[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qt,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vn=Mi(Xt),Qn=A({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=Mi(Qn),Fn=A({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qt}),Ci=Mi(Fn),bi=A({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gi=Mi(bi),Xa=A({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Mi(Xa),Qa=A({},Ca,{newState:0,oldState:0}),yl=Mi(Qa),jo=[9,13,27,32],Ta=$i&&"CompositionEvent"in window,fa=null;$i&&"documentMode"in document&&(fa=document.documentMode);var Js=$i&&"TextEvent"in window&&!fa,Za=$i&&(!Ta||fa&&8<fa&&11>=fa),qi=" ",Ns=!1;function As(t,i){switch(t){case"keyup":return jo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function dr(t,i){switch(t){case"compositionend":return Eo(i);case"keypress":return i.which!==32?null:(Ns=!0,qi);case"textInput":return t=i.data,t===qi&&Ns?null:t;default:return null}}function es(t,i){if(La)return t==="compositionend"||!Ta&&As(t,i)?(t=nc(),ka=Ys=Pr=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Za&&i.locale!=="ko"?null:i.data;default:return null}}var ko={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ko[t.type]:i==="textarea"}function Br(t,i,s,u){Ss?Rt?Rt.push(u):Rt=[u]:Ss=u,i=Ih(i,"onChange"),0<i.length&&(s=new Gr("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var da=null,ts=null;function wl(t){$1(t,0)}function pa(t){var i=me(t);if(cl(i))return t}function js(t,i){if(t==="change")return i}var Ar=!1;if($i){var pr;if($i){var Oa="oninput"in document;if(!Oa){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),Oa=typeof Ra.oninput=="function"}pr=Oa}else pr=!1;Ar=pr&&(!document.documentMode||9<document.documentMode)}function ns(){da&&(da.detachEvent("onpropertychange",Co),ts=da=null)}function Co(t){if(t.propertyName==="value"&&pa(ts)){var i=[];Br(i,ts,t,Gs(t)),tc(wl,i)}}function To(t,i,s){t==="focusin"?(ns(),da=i,ts=s,da.attachEvent("onpropertychange",Co)):t==="focusout"&&ns()}function hi(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pa(ts)}function ac(t,i){if(t==="click")return pa(i)}function Da(t,i){if(t==="input"||t==="change")return pa(i)}function Pa(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Vi=typeof Object.is=="function"?Object.is:Pa;function is(t,i){if(Vi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var g=s[u];if(!$e.call(i,g)||!Vi(t[g],i[g]))return!1}return!0}function Lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oo(t,i){var s=Lo(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lo(s)}}function rs(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?rs(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function as(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=hr(t.document)}return i}function Ba(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Xs=$i&&"documentMode"in document&&11>=document.documentMode,Mr=null,ss=null,er=null,Vr=!1;function Sn(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vr||Mr==null||Mr!==hr(u)||(u=Mr,"selectionStart"in u&&Ba(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),er&&is(er,u)||(er=u,u=Ih(ss,"onSelect"),0<u.length&&(i=new Gr("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=Mr)))}function yn(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var In={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},fi={},Ma={};$i&&(Ma=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function ga(t){if(fi[t])return fi[t];if(!In[t])return t;var i=In[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ma)return fi[t]=i[s];return t}var Qs=ga("animationend"),_l=ga("animationiteration"),lu=ga("animationstart"),uh=ga("transitionrun"),hh=ga("transitionstart"),fh=ga("transitioncancel"),cu=ga("transitionend"),uu=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function Yr(t,i){uu.set(t,i),$t(i,[t])}var xl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qr=[],eo=0,sc=0;function Sl(){for(var t=eo,i=sc=eo=0;i<t;){var s=qr[i];qr[i++]=null;var u=qr[i];qr[i++]=null;var g=qr[i];qr[i++]=null;var y=qr[i];if(qr[i++]=null,u!==null&&g!==null){var C=u.pending;C===null?g.next=g:(g.next=C.next,C.next=g),u.pending=g}y!==0&&Al(s,g,y)}}function Nl(t,i,s,u){qr[eo++]=t,qr[eo++]=i,qr[eo++]=s,qr[eo++]=u,sc|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function oc(t,i,s,u){return Nl(t,i,s,u),tr(t)}function os(t,i){return Nl(t,null,null,i),tr(t)}function Al(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var g=!1,y=t.return;y!==null;)y.childLanes|=s,u=y.alternate,u!==null&&(u.childLanes|=s),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(g=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,g&&i!==null&&(g=31-on(s),t=y.hiddenUpdates,u=t[g],u===null?t[g]=[i]:u.push(i),i.lane=s|536870912),y):null}function tr(t){if(50<Ou)throw Ou=0,md=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Yi={};function lc(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,i,s,u){return new lc(t,i,s,u)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wr(t,i){var s=t.alternate;return s===null?(s=nr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jl(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ro(t,i,s,u,g,y){var C=0;if(u=t,typeof t=="function")cc(t)&&(C=1);else if(typeof t=="string")C=Kv(t,s,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Y:return t=nr(31,s,i,g),t.elementType=Y,t.lanes=y,t;case S:return Es(s.children,g,y,i);case T:C=8,g|=24;break;case N:return t=nr(12,s,i,g|2),t.elementType=N,t.lanes=y,t;case le:return t=nr(13,s,i,g),t.elementType=le,t.lanes=y,t;case ce:return t=nr(19,s,i,g),t.elementType=ce,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:C=10;break e;case P:C=9;break e;case U:C=11;break e;case te:C=14;break e;case $:C=16,u=null;break e}C=29,s=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=nr(C,s,i,g),i.elementType=t,i.type=u,i.lanes=y,i}function Es(t,i,s,u){return t=nr(7,t,u,i),t.lanes=s,t}function El(t,i,s){return t=nr(6,t,null,i),t.lanes=s,t}function uc(t){var i=nr(18,null,null,0);return i.stateNode=t,i}function Do(t,i,s){return i=nr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hc=new WeakMap;function Kr(t,i){if(typeof t=="object"&&t!==null){var s=hc.get(t);return s!==void 0?s:(i={value:t,source:i,stack:vt(i)},hc.set(t,i),i)}return{value:t,source:i,stack:vt(i)}}var Po=[],to=0,fc=null,kl=0,Jr=[],Xr=0,ks=null,Qr=1,Zr="";function Ur(t,i){Po[to++]=kl,Po[to++]=fc,fc=t,kl=i}function dh(t,i,s){Jr[Xr++]=Qr,Jr[Xr++]=Zr,Jr[Xr++]=ks,ks=t;var u=Qr;t=Zr;var g=32-on(u)-1;u&=~(1<<g),s+=1;var y=32-on(i)+g;if(30<y){var C=g-g%5;y=(u&(1<<C)-1).toString(32),u>>=C,g-=C,Qr=1<<32-on(i)+g|s<<g|u,Zr=y+t}else Qr=1<<y|s<<g|u,Zr=t}function hu(t){t.return!==null&&(Ur(t,1),dh(t,1,0))}function dc(t){for(;t===fc;)fc=Po[--to],Po[to]=null,kl=Po[--to],Po[to]=null;for(;t===ks;)ks=Jr[--Xr],Jr[Xr]=null,Zr=Jr[--Xr],Jr[Xr]=null,Qr=Jr[--Xr],Jr[Xr]=null}function ph(t,i){Jr[Xr++]=Qr,Jr[Xr++]=Zr,Jr[Xr++]=ks,Qr=i.id,Zr=i.overflow,ks=t}var Wi=null,Vn=null,hn=!1,gr=null,ai=!1,ma=Error(a(519));function Cs(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Kr(i,t)),ma}function fu(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[kn]=t,i[Rn]=u,s){case"dialog":dn("cancel",i),dn("close",i);break;case"iframe":case"object":case"embed":dn("load",i);break;case"video":case"audio":for(s=0;s<Du.length;s++)dn(Du[s],i);break;case"source":dn("error",i);break;case"img":case"image":case"link":dn("error",i),dn("load",i);break;case"details":dn("toggle",i);break;case"input":dn("invalid",i),Jl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":dn("invalid",i);break;case"textarea":dn("invalid",i),fl(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||W1(i.textContent,s)?(u.popover!=null&&(dn("beforetoggle",i),dn("toggle",i)),u.onScroll!=null&&dn("scroll",i),u.onScrollEnd!=null&&dn("scrollend",i),u.onClick!=null&&(i.onclick=ua),i=!0):i=!1,i||Cs(t,!0)}function ls(t){for(Wi=t.return;Wi;)switch(Wi.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Wi=Wi.return}}function Ki(t){if(t!==Wi)return!1;if(!hn)return ls(t),hn=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ld(t.type,t.memoizedProps)),s=!s),s&&Vn&&Cs(t),ls(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vn=i2(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Vn=i2(t)}else i===27?(i=Vn,Jo(t.type)?(t=Bd,Bd=null,Vn=t):Vn=i):Vn=Wi?Ia(t.stateNode.nextSibling):null;return!0}function no(){Vn=Wi=null,hn=!1}function du(){var t=gr;return t!==null&&(aa===null?aa=t:aa.push.apply(aa,t),gr=null),t}function Bo(t){gr===null?gr=[t]:gr.push(t)}var pc=G(null),Ts=null,qa=null;function Ls(t,i,s){I(pc,i._currentValue),i._currentValue=s}function ea(t){t._currentValue=pc.current,L(pc)}function Mo(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function io(t,i,s,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var F=y;y=g;for(var oe=0;oe<i.length;oe++)if(F.context===i[oe]){y.lanes|=s,F=y.alternate,F!==null&&(F.lanes|=s),Mo(y.return,s,t),u||(C=null);break e}y=F.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(a(341));C.lanes|=s,y=C.alternate,y!==null&&(y.lanes|=s),Mo(C,s,t),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===t){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Os(t,i,s,u){t=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var F=g.type;Vi(g.pendingProps.value,C.value)||(t!==null?t.push(F):t=[F])}}else if(g===pe.current){if(C=g.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Uu):t=[Uu])}g=g.return}t!==null&&io(i,t,s,u),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!Vi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){Ts=t,qa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ji(t){return gh(Ts,t)}function mc(t,i){return Ts===null&&Rs(t),gh(t,i)}function gh(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},qa===null){if(t===null)throw Error(a(308));qa=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qa=qa.next=i;return s}var Pf=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Bf=r.unstable_scheduleCallback,Mf=r.unstable_NormalPriority,di={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new Pf,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Bf(Mf,function(){t.controller.abort()})}var Tl=null,vc=0,f=0,v=null;function x(t,i){if(Tl===null){var s=Tl=[];vc=0,f=xd(),v={status:"pending",value:void 0,then:function(u){s.push(u)}}}return vc++,i.then(E,E),i}function E(){if(--vc===0&&Tl!==null){v!==null&&(v.status="fulfilled");var t=Tl;Tl=null,f=0,v=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function R(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(g){s.push(g)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<s.length;g++)(0,s[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<s.length;g++)(0,s[g])(void 0)}),u}var B=ee.S;ee.S=function(t,i){y1=Wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&x(t,i),B!==null&&B(t,i)};var q=G(null);function z(){var t=q.current;return t!==null?t:Wn.pooledCache}function V(t,i){i===null?I(q,q.current):I(q,i.pool)}function Q(){var t=z();return t===null?null:{parent:di._currentValue,pool:t}}var fe=Error(a(460)),Ne=Error(a(474)),J=Error(a(542)),ve={then:function(){}};function _e(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Re(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ua,ua),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ye(t),t;default:if(typeof i.status=="string")i.then(ua,ua);else{if(t=Wn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ye(t),t}throw Oe=i,fe}}function Se(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Oe=s,fe):s}}var Oe=null;function Me(){if(Oe===null)throw Error(a(459));var t=Oe;return Oe=null,t}function Ye(t){if(t===fe||t===J)throw Error(a(483))}var ze=null,ut=0;function tt(t){var i=ut;return ut+=1,ze===null&&(ze=[]),Re(ze,t,i)}function Gt(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function st(t,i){throw i.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cn(t){function i(be,de){if(t){var Ae=be.deletions;Ae===null?(be.deletions=[de],be.flags|=16):Ae.push(de)}}function s(be,de){if(!t)return null;for(;de!==null;)i(be,de),de=de.sibling;return null}function u(be){for(var de=new Map;be!==null;)be.key!==null?de.set(be.key,be):de.set(be.index,be),be=be.sibling;return de}function g(be,de){return be=Wr(be,de),be.index=0,be.sibling=null,be}function y(be,de,Ae){return be.index=Ae,t?(Ae=be.alternate,Ae!==null?(Ae=Ae.index,Ae<de?(be.flags|=67108866,de):Ae):(be.flags|=67108866,de)):(be.flags|=1048576,de)}function C(be){return t&&be.alternate===null&&(be.flags|=67108866),be}function F(be,de,Ae,Ue){return de===null||de.tag!==6?(de=El(Ae,be.mode,Ue),de.return=be,de):(de=g(de,Ae),de.return=be,de)}function oe(be,de,Ae,Ue){var Tt=Ae.type;return Tt===S?De(be,de,Ae.props.children,Ue,Ae.key):de!==null&&(de.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===$&&Se(Tt)===de.type)?(de=g(de,Ae.props),Gt(de,Ae),de.return=be,de):(de=Ro(Ae.type,Ae.key,Ae.props,null,be.mode,Ue),Gt(de,Ae),de.return=be,de)}function Ee(be,de,Ae,Ue){return de===null||de.tag!==4||de.stateNode.containerInfo!==Ae.containerInfo||de.stateNode.implementation!==Ae.implementation?(de=Do(Ae,be.mode,Ue),de.return=be,de):(de=g(de,Ae.children||[]),de.return=be,de)}function De(be,de,Ae,Ue,Tt){return de===null||de.tag!==7?(de=Es(Ae,be.mode,Ue,Tt),de.return=be,de):(de=g(de,Ae),de.return=be,de)}function Ie(be,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=El(""+de,be.mode,Ae),de.return=be,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return Ae=Ro(de.type,de.key,de.props,null,be.mode,Ae),Gt(Ae,de),Ae.return=be,Ae;case j:return de=Do(de,be.mode,Ae),de.return=be,de;case $:return de=Se(de),Ie(be,de,Ae)}if(we(de)||H(de))return de=Es(de,be.mode,Ae,null),de.return=be,de;if(typeof de.then=="function")return Ie(be,tt(de),Ae);if(de.$$typeof===D)return Ie(be,mc(be,de),Ae);st(be,de)}return null}function Ce(be,de,Ae,Ue){var Tt=de!==null?de.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Tt!==null?null:F(be,de,""+Ae,Ue);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return Ae.key===Tt?oe(be,de,Ae,Ue):null;case j:return Ae.key===Tt?Ee(be,de,Ae,Ue):null;case $:return Ae=Se(Ae),Ce(be,de,Ae,Ue)}if(we(Ae)||H(Ae))return Tt!==null?null:De(be,de,Ae,Ue,null);if(typeof Ae.then=="function")return Ce(be,de,tt(Ae),Ue);if(Ae.$$typeof===D)return Ce(be,de,mc(be,Ae),Ue);st(be,Ae)}return null}function Te(be,de,Ae,Ue,Tt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return be=be.get(Ae)||null,F(de,be,""+Ue,Tt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case w:return be=be.get(Ue.key===null?Ae:Ue.key)||null,oe(de,be,Ue,Tt);case j:return be=be.get(Ue.key===null?Ae:Ue.key)||null,Ee(de,be,Ue,Tt);case $:return Ue=Se(Ue),Te(be,de,Ae,Ue,Tt)}if(we(Ue)||H(Ue))return be=be.get(Ae)||null,De(de,be,Ue,Tt,null);if(typeof Ue.then=="function")return Te(be,de,Ae,tt(Ue),Tt);if(Ue.$$typeof===D)return Te(be,de,Ae,mc(de,Ue),Tt);st(de,Ue)}return null}function ct(be,de,Ae,Ue){for(var Tt=null,An=null,gt=de,an=de=0,gn=null;gt!==null&&an<Ae.length;an++){gt.index>an?(gn=gt,gt=null):gn=gt.sibling;var jn=Ce(be,gt,Ae[an],Ue);if(jn===null){gt===null&&(gt=gn);break}t&&gt&&jn.alternate===null&&i(be,gt),de=y(jn,de,an),An===null?Tt=jn:An.sibling=jn,An=jn,gt=gn}if(an===Ae.length)return s(be,gt),hn&&Ur(be,an),Tt;if(gt===null){for(;an<Ae.length;an++)gt=Ie(be,Ae[an],Ue),gt!==null&&(de=y(gt,de,an),An===null?Tt=gt:An.sibling=gt,An=gt);return hn&&Ur(be,an),Tt}for(gt=u(gt);an<Ae.length;an++)gn=Te(gt,be,an,Ae[an],Ue),gn!==null&&(t&&gn.alternate!==null&&gt.delete(gn.key===null?an:gn.key),de=y(gn,de,an),An===null?Tt=gn:An.sibling=gn,An=gn);return t&&gt.forEach(function(tl){return i(be,tl)}),hn&&Ur(be,an),Tt}function Pt(be,de,Ae,Ue){if(Ae==null)throw Error(a(151));for(var Tt=null,An=null,gt=de,an=de=0,gn=null,jn=Ae.next();gt!==null&&!jn.done;an++,jn=Ae.next()){gt.index>an?(gn=gt,gt=null):gn=gt.sibling;var tl=Ce(be,gt,jn.value,Ue);if(tl===null){gt===null&&(gt=gn);break}t&&gt&&tl.alternate===null&&i(be,gt),de=y(tl,de,an),An===null?Tt=tl:An.sibling=tl,An=tl,gt=gn}if(jn.done)return s(be,gt),hn&&Ur(be,an),Tt;if(gt===null){for(;!jn.done;an++,jn=Ae.next())jn=Ie(be,jn.value,Ue),jn!==null&&(de=y(jn,de,an),An===null?Tt=jn:An.sibling=jn,An=jn);return hn&&Ur(be,an),Tt}for(gt=u(gt);!jn.done;an++,jn=Ae.next())jn=Te(gt,be,an,jn.value,Ue),jn!==null&&(t&&jn.alternate!==null&&gt.delete(jn.key===null?an:jn.key),de=y(jn,de,an),An===null?Tt=jn:An.sibling=jn,An=jn);return t&&gt.forEach(function(sy){return i(be,sy)}),hn&&Ur(be,an),Tt}function Gn(be,de,Ae,Ue){if(typeof Ae=="object"&&Ae!==null&&Ae.type===S&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:e:{for(var Tt=Ae.key;de!==null;){if(de.key===Tt){if(Tt=Ae.type,Tt===S){if(de.tag===7){s(be,de.sibling),Ue=g(de,Ae.props.children),Ue.return=be,be=Ue;break e}}else if(de.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===$&&Se(Tt)===de.type){s(be,de.sibling),Ue=g(de,Ae.props),Gt(Ue,Ae),Ue.return=be,be=Ue;break e}s(be,de);break}else i(be,de);de=de.sibling}Ae.type===S?(Ue=Es(Ae.props.children,be.mode,Ue,Ae.key),Ue.return=be,be=Ue):(Ue=Ro(Ae.type,Ae.key,Ae.props,null,be.mode,Ue),Gt(Ue,Ae),Ue.return=be,be=Ue)}return C(be);case j:e:{for(Tt=Ae.key;de!==null;){if(de.key===Tt)if(de.tag===4&&de.stateNode.containerInfo===Ae.containerInfo&&de.stateNode.implementation===Ae.implementation){s(be,de.sibling),Ue=g(de,Ae.children||[]),Ue.return=be,be=Ue;break e}else{s(be,de);break}else i(be,de);de=de.sibling}Ue=Do(Ae,be.mode,Ue),Ue.return=be,be=Ue}return C(be);case $:return Ae=Se(Ae),Gn(be,de,Ae,Ue)}if(we(Ae))return ct(be,de,Ae,Ue);if(H(Ae)){if(Tt=H(Ae),typeof Tt!="function")throw Error(a(150));return Ae=Tt.call(Ae),Pt(be,de,Ae,Ue)}if(typeof Ae.then=="function")return Gn(be,de,tt(Ae),Ue);if(Ae.$$typeof===D)return Gn(be,de,mc(be,Ae),Ue);st(be,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,de!==null&&de.tag===6?(s(be,de.sibling),Ue=g(de,Ae),Ue.return=be,be=Ue):(s(be,de),Ue=El(Ae,be.mode,Ue),Ue.return=be,be=Ue),C(be)):s(be,de)}return function(be,de,Ae,Ue){try{ut=0;var Tt=Gn(be,de,Ae,Ue);return ze=null,Tt}catch(gt){if(gt===fe||gt===J)throw gt;var An=nr(29,gt,null,be.mode);return An.lanes=Ue,An.return=be,An}finally{}}}var Yn=cn(!0),Qt=cn(!1),nt=!1;function Je(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zn(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nn(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ln&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=tr(t),Al(t,null,s),i}return Nl(t,u,i,s),tr(t)}function Cn(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,or(t,s)}}function Ti(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var g=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,s=s.next}while(s!==null);y===null?g=y=i:y=y.next=i}else g=y=i;s={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Xi=!1;function zn(){if(Xi){var t=v;if(t!==null)throw t}}function wi(t,i,s,u){Xi=!1;var g=t.updateQueue;nt=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var oe=F,Ee=oe.next;oe.next=null,C===null?y=Ee:C.next=Ee,C=oe;var De=t.alternate;De!==null&&(De=De.updateQueue,F=De.lastBaseUpdate,F!==C&&(F===null?De.firstBaseUpdate=Ee:F.next=Ee,De.lastBaseUpdate=oe))}if(y!==null){var Ie=g.baseState;C=0,De=Ee=oe=null,F=y;do{var Ce=F.lane&-536870913,Te=Ce!==F.lane;if(Te?(pn&Ce)===Ce:(u&Ce)===Ce){Ce!==0&&Ce===f&&(Xi=!0),De!==null&&(De=De.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var ct=t,Pt=F;Ce=i;var Gn=s;switch(Pt.tag){case 1:if(ct=Pt.payload,typeof ct=="function"){Ie=ct.call(Gn,Ie,Ce);break e}Ie=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Pt.payload,Ce=typeof ct=="function"?ct.call(Gn,Ie,Ce):ct,Ce==null)break e;Ie=A({},Ie,Ce);break e;case 2:nt=!0}}Ce=F.callback,Ce!==null&&(t.flags|=64,Te&&(t.flags|=8192),Te=g.callbacks,Te===null?g.callbacks=[Ce]:Te.push(Ce))}else Te={lane:Ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},De===null?(Ee=De=Te,oe=Ie):De=De.next=Te,C|=Ce;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;Te=F,F=Te.next,Te.next=null,g.lastBaseUpdate=Te,g.shared.pending=null}}while(!0);De===null&&(oe=Ie),g.baseState=oe,g.firstBaseUpdate=Ee,g.lastBaseUpdate=De,y===null&&(g.shared.lanes=0),Go|=C,t.lanes=C,t.memoizedState=Ie}}function ir(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function _i(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ir(s[t],i)}var ln=G(null),wn=G(0);function ei(t,i){t=po,I(wn,t),I(ln,i),po=t|i.baseLanes}function Nn(){I(wn,po),I(ln,ln.current)}function Li(){po=wn.current,L(ln),L(wn)}var ti=G(null),_n=null;function pi(t){var i=t.alternate;I(bn,bn.current&1),I(ti,t),_n===null&&(i===null||ln.current!==null||i.memoizedState!==null)&&(_n=t)}function Tn(t){I(bn,bn.current),I(ti,t),_n===null&&(_n=t)}function xi(t){t.tag===22?(I(bn,bn.current),I(ti,t),_n===null&&(_n=t)):Si()}function Si(){I(bn,bn.current),I(ti,ti.current)}function Pn(t){L(ti),_n===t&&(_n=null),L(bn)}var bn=G(0);function rr(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Pd(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var si=0,jt=null,Ct=null,xn=null,jr=!1,ta=!1,mr=!1,Ni=0,Ds=0,Ps=null,yc=0;function Hn(){throw Error(a(321))}function pu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Vi(t[s],i[s]))return!1;return!0}function gu(t,i,s,u,g,y){return si=y,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Cp:Gf,mr=!1,y=s(u,g),mr=!1,ta&&(y=cs(i,s,u,g)),bc(t),y}function bc(t){ee.H=Su;var i=Ct!==null&&Ct.next!==null;if(si=0,xn=Ct=jt=null,jr=!1,Ds=0,Ps=null,i)throw Error(a(300));t===null||Fi||(t=t.dependencies,t!==null&&gc(t)&&(Fi=!0))}function cs(t,i,s,u){jt=t;var g=0;do{if(ta&&(Ps=null),Ds=0,ta=!1,25<=g)throw Error(a(301));if(g+=1,xn=Ct=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Tp,y=i(s,u)}while(ta);return y}function qf(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Bs(i):i,t=t.useState()[0],(Ct!==null?Ct.memoizedState:null)!==t&&(jt.flags|=1024),i}function mu(){var t=Ni!==0;return Ni=0,t}function vu(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function wc(t){if(jr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}jr=!1}si=0,xn=Ct=jt=null,ta=!1,Ds=Ni=0,Ps=null}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?jt.memoizedState=xn=t:xn=xn.next=t,xn}function oi(){if(Ct===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var i=xn===null?jt.memoizedState:xn.next;if(i!==null)xn=i,Ct=t;else{if(t===null)throw jt.alternate===null?Error(a(467)):Error(a(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},xn===null?jt.memoizedState=xn=t:xn=xn.next=t}return xn}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bs(t){var i=Ds;return Ds+=1,Ps===null&&(Ps=[]),t=Re(Ps,t,i),i=jt,(xn===null?i.memoizedState:xn.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Cp:Gf),t}function Uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bs(t);if(t.$$typeof===D)return Ji(t)}throw Error(a(438,String(t)))}function ro(t){var i=null,s=jt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=jt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ll(),jt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=ge;return i.index++,s}function Ua(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=oi();return Fo(i,Ct,t)}function Fo(t,i,s){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var g=t.baseQueue,y=u.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}i.baseQueue=g=y,u.pending=null}if(y=t.baseState,g===null)t.memoizedState=y;else{i=g.next;var F=C=null,oe=null,Ee=i,De=!1;do{var Ie=Ee.lane&-536870913;if(Ie!==Ee.lane?(pn&Ie)===Ie:(si&Ie)===Ie){var Ce=Ee.revertLane;if(Ce===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ie===f&&(De=!0);else if((si&Ce)===Ce){Ee=Ee.next,Ce===f&&(De=!0);continue}else Ie={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(F=oe=Ie,C=y):oe=oe.next=Ie,jt.lanes|=Ce,Go|=Ce;Ie=Ee.action,mr&&s(y,Ie),y=Ee.hasEagerState?Ee.eagerState:s(y,Ie)}else Ce={lane:Ie,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(F=oe=Ce,C=y):oe=oe.next=Ce,jt.lanes|=Ie,Go|=Ie;Ee=Ee.next}while(Ee!==null&&Ee!==i);if(oe===null?C=y:oe.next=F,!Vi(y,t.memoizedState)&&(Fi=!0,De&&(s=v,s!==null)))throw s;t.memoizedState=y,t.baseState=C,t.baseQueue=oe,u.lastRenderedState=y}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function xc(t){var i=oi(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var u=s.dispatch,g=s.pending,y=i.memoizedState;if(g!==null){s.pending=null;var C=g=g.next;do y=t(y,C.action),C=C.next;while(C!==g);Vi(y,i.memoizedState)||(Fi=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),s.lastRenderedState=y}return[y,u]}function Sc(t,i,s){var u=jt,g=oi(),y=hn;if(y){if(s===void 0)throw Error(a(407));s=s()}else s=i();var C=!Vi((Ct||g).memoizedState,s);if(C&&(g.memoizedState=s,Fi=!0),g=g.queue,Uf(bu.bind(null,u,g,t),[t]),g.getSnapshot!==i||C||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,so(9,{destroy:void 0},yu.bind(null,u,g,s,i),null),Wn===null)throw Error(a(349));y||(si&127)!==0||us(u,i,s)}return s}function us(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=jt.updateQueue,i===null?(i=Ll(),jt.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function yu(t,i,s,u){i.value=s,i.getSnapshot=u,mh(i)&&wu(t)}function bu(t,i,s){return s(function(){mh(i)&&wu(t)})}function mh(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Vi(t,s)}catch{return!0}}function wu(t){var i=os(t,2);i!==null&&sa(i,t,2)}function Ms(t){var i=Ui();if(typeof t=="function"){var s=t;if(t=s(),mr){Bt(!0);try{s()}finally{Bt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},i}function vh(t,i,s,u){return t.baseState=s,Fo(t,Ct,typeof u=="function"?u:Ua)}function yh(t,i,s,u,g){if(xh(t))throw Error(a(485));if(t=i.action,t!==null){var y={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};ee.T!==null?s(!0):y.isTransition=!1,u(y),s=i.pending,s===null?(y.next=i.pending=y,bh(i,y)):(y.next=s.next,i.pending=s.next=y)}}function bh(t,i){var s=i.action,u=i.payload,g=t.state;if(i.isTransition){var y=ee.T,C={};ee.T=C;try{var F=s(g,u),oe=ee.S;oe!==null&&oe(C,F),_u(t,i,F)}catch(Ee){ao(t,i,Ee)}finally{y!==null&&C.types!==null&&(y.types=C.types),ee.T=y}}else try{y=s(g,u),_u(t,i,y)}catch(Ee){ao(t,i,Ee)}}function _u(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){wh(t,i,u)},function(u){return ao(t,i,u)}):wh(t,i,s)}function wh(t,i,s){i.status="fulfilled",i.value=s,Nc(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,bh(t,s)))}function ao(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Nc(i),i=i.next;while(i!==u)}t.action=null}function Nc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ol(t,i){return i}function Fa(t,i){if(hn){var s=Wn.formState;if(s!==null){e:{var u=jt;if(hn){if(Vn){t:{for(var g=Vn,y=ai;g.nodeType!==8;){if(!y){g=null;break t}if(g=Ia(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Vn=Ia(g.nextSibling),u=g.data==="F!";break e}}Cs(u)}u=!1}u&&(i=s[0])}}return s=Ui(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:i},s.queue=u,s=jp.bind(null,jt,u),u.dispatch=s,u=Ms(!1),y=$f.bind(null,jt,!1,u.queue),u=Ui(),g={state:i,dispatch:null,action:t,pending:null},u.queue=g,s=yh.bind(null,jt,g,y,s),g.dispatch=s,u.memoizedState=t,[i,s,!1]}function hs(t){var i=oi();return fs(i,Ct,t)}function fs(t,i,s){if(i=Fo(t,i,Ol)[0],t=_c(Ua)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Bs(i)}catch(C){throw C===fe?J:C}else u=i;i=oi();var g=i.queue,y=g.dispatch;return s!==i.memoizedState&&(jt.flags|=2048,so(9,{destroy:void 0},Ac.bind(null,g,s),null)),[u,y,t]}function Ac(t,i){t.action=i}function jc(t){var i=oi(),s=Ct;if(s!==null)return fs(i,s,t);oi(),i=i.memoizedState,s=oi();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function so(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=jt.updateQueue,i===null&&(i=Ll(),jt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function _h(){return oi().memoizedState}function Io(t,i,s,u){var g=Ui();jt.flags|=t,g.memoizedState=so(1|i,{destroy:void 0},s,u===void 0?null:u)}function zo(t,i,s,u){var g=oi();u=u===void 0?null:u;var y=g.memoizedState.inst;Ct!==null&&u!==null&&pu(u,Ct.memoizedState.deps)?g.memoizedState=so(i,y,s,u):(jt.flags|=t,g.memoizedState=so(1|i,y,s,u))}function fp(t,i){Io(8390656,8,t,i)}function Uf(t,i){zo(2048,8,t,i)}function ev(t){jt.flags|=4;var i=jt.updateQueue;if(i===null)i=Ll(),jt.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function dp(t){var i=oi().memoizedState;return ev({ref:i,nextImpl:t}),function(){if((Ln&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function pp(t,i){return zo(4,2,t,i)}function gp(t,i){return zo(4,4,t,i)}function mp(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vp(t,i,s){s=s!=null?s.concat([t]):null,zo(4,4,mp.bind(null,i,t),s)}function Ff(){}function yp(t,i){var s=oi();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&pu(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function bp(t,i){var s=oi();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&pu(i,u[1]))return u[0];if(u=t(),mr){Bt(!0);try{t()}finally{Bt(!1)}}return s.memoizedState=[u,i],u}function If(t,i,s){return s===void 0||(si&1073741824)!==0&&(pn&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=w1(),jt.lanes|=t,Go|=t,s)}function wp(t,i,s,u){return Vi(s,i)?s:ln.current!==null?(t=If(t,s,u),Vi(t,i)||(Fi=!0),t):(si&42)===0||(si&1073741824)!==0&&(pn&261930)===0?(Fi=!0,t.memoizedState=s):(t=w1(),jt.lanes|=t,Go|=t,i)}function _p(t,i,s,u,g){var y=X.p;X.p=y!==0&&8>y?y:8;var C=ee.T,F={};ee.T=F,$f(t,!1,i,s);try{var oe=g(),Ee=ee.S;if(Ee!==null&&Ee(F,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var De=R(oe,u);xu(t,i,De,ba(t))}else xu(t,i,u,ba(t))}catch(Ie){xu(t,i,{then:function(){},status:"rejected",reason:Ie},ba())}finally{X.p=y,C!==null&&F.types!==null&&(C.types=F.types),ee.T=C}}function tv(){}function zf(t,i,s,u){if(t.tag!==5)throw Error(a(476));var g=xp(t).queue;_p(t,g,i,re,s===null?tv:function(){return Sp(t),s(u)})}function xp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:re},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sp(t){var i=xp(t);i.next===null&&(i=t.alternate.memoizedState),xu(t,i.next.queue,{},ba())}function Hf(){return Ji(Uu)}function Np(){return oi().memoizedState}function Ap(){return oi().memoizedState}function nv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ba();t=Dt(s);var u=nn(i,t,s);u!==null&&(sa(u,i,s),Cn(u,i,s)),i={cache:qo()},t.payload=i;return}i=i.return}}function iv(t,i,s){var u=ba();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xh(t)?Ep(i,s):(s=oc(t,i,s,u),s!==null&&(sa(s,t,u),kp(s,i,u)))}function jp(t,i,s){var u=ba();xu(t,i,s,u)}function xu(t,i,s,u){var g={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xh(t))Ep(i,g);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var C=i.lastRenderedState,F=y(C,s);if(g.hasEagerState=!0,g.eagerState=F,Vi(F,C))return Nl(t,i,g,0),Wn===null&&Sl(),!1}catch{}finally{}if(s=oc(t,i,g,u),s!==null)return sa(s,t,u),kp(s,i,u),!0}return!1}function $f(t,i,s,u){if(u={lane:2,revertLane:xd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xh(t)){if(i)throw Error(a(479))}else i=oc(t,s,u,2),i!==null&&sa(i,t,2)}function xh(t){var i=t.alternate;return t===jt||i!==null&&i===jt}function Ep(t,i){ta=jr=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function kp(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,or(t,s)}}var Su={readContext:Ji,use:Uo,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};Su.useEffectEvent=Hn;var Cp={readContext:Ji,use:Uo,useCallback:function(t,i){return Ui().memoizedState=[t,i===void 0?null:i],t},useContext:Ji,useEffect:fp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Io(4194308,4,mp.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Io(4194308,4,t,i)},useInsertionEffect:function(t,i){Io(4,2,t,i)},useMemo:function(t,i){var s=Ui();i=i===void 0?null:i;var u=t();if(mr){Bt(!0);try{t()}finally{Bt(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=Ui();if(s!==void 0){var g=s(i);if(mr){Bt(!0);try{s(i)}finally{Bt(!1)}}}else g=i;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=iv.bind(null,jt,t),[u.memoizedState,t]},useRef:function(t){var i=Ui();return t={current:t},i.memoizedState=t},useState:function(t){t=Ms(t);var i=t.queue,s=jp.bind(null,jt,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Ff,useDeferredValue:function(t,i){var s=Ui();return If(s,t,i)},useTransition:function(){var t=Ms(!1);return t=_p.bind(null,jt,t.queue,!0,!1),Ui().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=jt,g=Ui();if(hn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Wn===null)throw Error(a(349));(pn&127)!==0||us(u,i,s)}g.memoizedState=s;var y={value:s,getSnapshot:i};return g.queue=y,fp(bu.bind(null,u,y,t),[t]),u.flags|=2048,so(9,{destroy:void 0},yu.bind(null,u,y,s,i),null),s},useId:function(){var t=Ui(),i=Wn.identifierPrefix;if(hn){var s=Zr,u=Qr;s=(u&~(1<<32-on(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Ni++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=yc++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Fa,useActionState:Fa,useOptimistic:function(t){var i=Ui();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$f.bind(null,jt,!0,s),s.dispatch=i,[t,i]},useMemoCache:ro,useCacheRefresh:function(){return Ui().memoizedState=nv.bind(null,jt)},useEffectEvent:function(t){var i=Ui(),s={impl:t};return i.memoizedState=s,function(){if((Ln&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:Ji,use:Uo,useCallback:yp,useContext:Ji,useEffect:Uf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:_c,useRef:_h,useState:function(){return _c(Ua)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=oi();return wp(s,Ct.memoizedState,t,i)},useTransition:function(){var t=_c(Ua)[0],i=oi().memoizedState;return[typeof t=="boolean"?t:Bs(t),i]},useSyncExternalStore:Sc,useId:Np,useHostTransitionStatus:Hf,useFormState:hs,useActionState:hs,useOptimistic:function(t,i){var s=oi();return vh(s,Ct,t,i)},useMemoCache:ro,useCacheRefresh:Ap};Gf.useEffectEvent=dp;var Tp={readContext:Ji,use:Uo,useCallback:yp,useContext:Ji,useEffect:Uf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:xc,useRef:_h,useState:function(){return xc(Ua)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=oi();return Ct===null?If(s,t,i):wp(s,Ct.memoizedState,t,i)},useTransition:function(){var t=xc(Ua)[0],i=oi().memoizedState;return[typeof t=="boolean"?t:Bs(t),i]},useSyncExternalStore:Sc,useId:Np,useHostTransitionStatus:Hf,useFormState:jc,useActionState:jc,useOptimistic:function(t,i){var s=oi();return Ct!==null?vh(s,Ct,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ro,useCacheRefresh:Ap};Tp.useEffectEvent=dp;function Vf(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:A({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Yf={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=ba(),g=Dt(u);g.payload=i,s!=null&&(g.callback=s),i=nn(t,g,u),i!==null&&(sa(i,t,u),Cn(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=ba(),g=Dt(u);g.tag=1,g.payload=i,s!=null&&(g.callback=s),i=nn(t,g,u),i!==null&&(sa(i,t,u),Cn(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ba(),u=Dt(s);u.tag=2,i!=null&&(u.callback=i),i=nn(t,u,s),i!==null&&(sa(i,t,s),Cn(i,t,s))}};function Lp(t,i,s,u,g,y,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,C):i.prototype&&i.prototype.isPureReactComponent?!is(s,u)||!is(g,y):!0}function Op(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&Yf.enqueueReplaceState(i,i.state,null)}function Rl(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=A({},s));for(var g in t)s[g]===void 0&&(s[g]=t[g])}return s}function Rp(t){xl(t)}function Dp(t){console.error(t)}function Pp(t){xl(t)}function Sh(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Bp(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wf(t,i,s){return s=Dt(s),s.tag=3,s.payload={element:null},s.callback=function(){Sh(t,i)},s}function Mp(t){return t=Dt(t),t.tag=3,t}function qp(t,i,s,u){var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;t.payload=function(){return g(y)},t.callback=function(){Bp(i,s,u)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Bp(i,s,u),typeof g!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})})}function rv(t,i,s,u,g){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Os(i,s,g,!0),s=ti.current,s!==null){switch(s.tag){case 31:case 13:return _n===null?Ph():s.alternate===null&&Ai===0&&(Ai=3),s.flags&=-257,s.flags|=65536,s.lanes=g,u===ve?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),bd(t,u,g)),!1;case 22:return s.flags|=65536,u===ve?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),bd(t,u,g)),!1}throw Error(a(435,s.tag))}return bd(t,u,g),Ph(),!1}if(hn)return i=ti.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==ma&&(t=Error(a(422),{cause:u}),Bo(Kr(t,s)))):(u!==ma&&(i=Error(a(423),{cause:u}),Bo(Kr(i,s))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Kr(u,s),g=Wf(t.stateNode,u,g),Ti(t,g),Ai!==4&&(Ai=2)),!1;var y=Error(a(520),{cause:u});if(y=Kr(y,s),Lu===null?Lu=[y]:Lu.push(y),Ai!==4&&(Ai=2),i===null)return!0;u=Kr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=g&-g,s.lanes|=t,t=Wf(s.stateNode,u,t),Ti(s,t),!1;case 1:if(i=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vo===null||!Vo.has(y))))return s.flags|=65536,g&=-g,s.lanes|=g,g=Mp(g),qp(g,t,s,u),Ti(s,g),!1}s=s.return}while(s!==null);return!1}var Kf=Error(a(461)),Fi=!1;function vr(t,i,s,u){i.child=t===null?Qt(i,null,s,u):Yn(i,t.child,s,u)}function Up(t,i,s,u,g){s=s.render;var y=i.ref;if("ref"in u){var C={};for(var F in u)F!=="ref"&&(C[F]=u[F])}else C=u;return Rs(i),u=gu(t,i,s,C,y,g),F=mu(),t!==null&&!Fi?(vu(t,i,g),oo(t,i,g)):(hn&&F&&hu(i),i.flags|=1,vr(t,i,u,g),i.child)}function Fp(t,i,s,u,g){if(t===null){var y=s.type;return typeof y=="function"&&!cc(y)&&y.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=y,Ip(t,i,y,u,g)):(t=Ro(s.type,null,u,i,i.mode,g),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!id(t,g)){var C=y.memoizedProps;if(s=s.compare,s=s!==null?s:is,s(C,u)&&t.ref===i.ref)return oo(t,i,g)}return i.flags|=1,t=Wr(y,u),t.ref=i.ref,t.return=i,i.child=t}function Ip(t,i,s,u,g){if(t!==null){var y=t.memoizedProps;if(is(y,u)&&t.ref===i.ref)if(Fi=!1,i.pendingProps=u=y,id(t,g))(t.flags&131072)!==0&&(Fi=!0);else return i.lanes=t.lanes,oo(t,i,g)}return Jf(t,i,s,u,g)}function zp(t,i,s,u){var g=u.children,y=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,t!==null){for(u=i.child=t.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,i.child=null;return Hp(t,i,y,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&V(i,y!==null?y.cachePool:null),y!==null?ei(i,y):Nn(),xi(i);else return u=i.lanes=536870912,Hp(t,i,y!==null?y.baseLanes|s:s,s,u)}else y!==null?(V(i,y.cachePool),ei(i,y),Si(),i.memoizedState=null):(t!==null&&V(i,null),Nn(),Si());return vr(t,i,g,s),i.child}function Nu(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hp(t,i,s,u,g){var y=z();return y=y===null?null:{parent:di._currentValue,pool:y},i.memoizedState={baseLanes:s,cachePool:y},t!==null&&V(i,null),Nn(),xi(i),t!==null&&Os(t,i,u,!0),i.childLanes=g,null}function Nh(t,i){return i=jh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $p(t,i,s){return Yn(i,t.child,null,s),t=Nh(i,i.pendingProps),t.flags|=2,Pn(i),i.memoizedState=null,t}function av(t,i,s){var u=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(hn){if(u.mode==="hidden")return t=Nh(i,u),i.lanes=536870912,Nu(null,t);if(Tn(i),(t=Vn)?(t=n2(t,ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},s=uc(t),s.return=i,i.child=s,Wi=i,Vn=null)):t=null,t===null)throw Cs(i);return i.lanes=536870912,null}return Nh(i,u)}var y=t.memoizedState;if(y!==null){var C=y.dehydrated;if(Tn(i),g)if(i.flags&256)i.flags&=-257,i=$p(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Fi||Os(t,i,s,!1),g=(s&t.childLanes)!==0,Fi||g){if(u=Wn,u!==null&&(C=lr(u,s),C!==0&&C!==y.retryLane))throw y.retryLane=C,os(t,C),sa(u,t,C),Kf;Ph(),i=$p(t,i,s)}else t=y.treeContext,Vn=Ia(C.nextSibling),Wi=i,hn=!0,gr=null,ai=!1,t!==null&&ph(i,t),i=Nh(i,u),i.flags|=4096;return i}return t=Wr(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ah(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Jf(t,i,s,u,g){return Rs(i),s=gu(t,i,s,u,void 0,g),u=mu(),t!==null&&!Fi?(vu(t,i,g),oo(t,i,g)):(hn&&u&&hu(i),i.flags|=1,vr(t,i,s,g),i.child)}function Gp(t,i,s,u,g,y){return Rs(i),i.updateQueue=null,s=cs(i,u,s,g),bc(t),u=mu(),t!==null&&!Fi?(vu(t,i,y),oo(t,i,y)):(hn&&u&&hu(i),i.flags|=1,vr(t,i,s,y),i.child)}function Vp(t,i,s,u,g){if(Rs(i),i.stateNode===null){var y=Yi,C=s.contextType;typeof C=="object"&&C!==null&&(y=Ji(C)),y=new s(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yf,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},Je(i),C=s.contextType,y.context=typeof C=="object"&&C!==null?Ji(C):Yi,y.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Vf(i,s,C,u),y.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Yf.enqueueReplaceState(y,y.state,null),wi(i,u,y,g),zn(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){y=i.stateNode;var F=i.memoizedProps,oe=Rl(s,F);y.props=oe;var Ee=y.context,De=s.contextType;C=Yi,typeof De=="object"&&De!==null&&(C=Ji(De));var Ie=s.getDerivedStateFromProps;De=typeof Ie=="function"||typeof y.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,De||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(F||Ee!==C)&&Op(i,y,u,C),nt=!1;var Ce=i.memoizedState;y.state=Ce,wi(i,u,y,g),zn(),Ee=i.memoizedState,F||Ce!==Ee||nt?(typeof Ie=="function"&&(Vf(i,s,Ie,u),Ee=i.memoizedState),(oe=nt||Lp(i,s,oe,u,Ce,Ee,C))?(De||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Ee),y.props=u,y.state=Ee,y.context=C,u=oe):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,Zn(t,i),C=i.memoizedProps,De=Rl(s,C),y.props=De,Ie=i.pendingProps,Ce=y.context,Ee=s.contextType,oe=Yi,typeof Ee=="object"&&Ee!==null&&(oe=Ji(Ee)),F=s.getDerivedStateFromProps,(Ee=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==Ie||Ce!==oe)&&Op(i,y,u,oe),nt=!1,Ce=i.memoizedState,y.state=Ce,wi(i,u,y,g),zn();var Te=i.memoizedState;C!==Ie||Ce!==Te||nt||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof F=="function"&&(Vf(i,s,F,u),Te=i.memoizedState),(De=nt||Lp(i,s,De,u,Ce,Te,oe)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(Ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Te,oe),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Te,oe)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Te),y.props=u,y.state=Te,y.context=oe,u=De):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=1024),u=!1)}return y=u,Ah(t,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&u?(i.child=Yn(i,t.child,null,g),i.child=Yn(i,null,s,g)):vr(t,i,s,g),i.memoizedState=y.state,t=i.child):t=oo(t,i,g),t}function Yp(t,i,s,u){return no(),i.flags|=256,vr(t,i,s,u),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:Q()}}function Zf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ya),t}function Wp(t,i,s){var u=i.pendingProps,g=!1,y=(i.flags&128)!==0,C;if((C=y)||(C=t!==null&&t.memoizedState===null?!1:(bn.current&2)!==0),C&&(g=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(hn){if(g?pi(i):Si(),(t=Vn)?(t=n2(t,ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},s=uc(t),s.return=i,i.child=s,Wi=i,Vn=null)):t=null,t===null)throw Cs(i);return Pd(t)?i.lanes=32:i.lanes=536870912,null}var F=u.children;return u=u.fallback,g?(Si(),g=i.mode,F=jh({mode:"hidden",children:F},g),u=Es(u,g,s,null),F.return=i,u.return=i,F.sibling=u,i.child=F,u=i.child,u.memoizedState=Qf(s),u.childLanes=Zf(t,C,s),i.memoizedState=Xf,Nu(null,u)):(pi(i),ed(i,F))}var oe=t.memoizedState;if(oe!==null&&(F=oe.dehydrated,F!==null)){if(y)i.flags&256?(pi(i),i.flags&=-257,i=td(t,i,s)):i.memoizedState!==null?(Si(),i.child=t.child,i.flags|=128,i=null):(Si(),F=u.fallback,g=i.mode,u=jh({mode:"visible",children:u.children},g),F=Es(F,g,s,null),F.flags|=2,u.return=i,F.return=i,u.sibling=F,i.child=u,Yn(i,t.child,null,s),u=i.child,u.memoizedState=Qf(s),u.childLanes=Zf(t,C,s),i.memoizedState=Xf,i=Nu(null,u));else if(pi(i),Pd(F)){if(C=F.nextSibling&&F.nextSibling.dataset,C)var Ee=C.dgst;C=Ee,u=Error(a(419)),u.stack="",u.digest=C,Bo({value:u,source:null,stack:null}),i=td(t,i,s)}else if(Fi||Os(t,i,s,!1),C=(s&t.childLanes)!==0,Fi||C){if(C=Wn,C!==null&&(u=lr(C,s),u!==0&&u!==oe.retryLane))throw oe.retryLane=u,os(t,u),sa(C,t,u),Kf;Dd(F)||Ph(),i=td(t,i,s)}else Dd(F)?(i.flags|=192,i.child=t.child,i=null):(t=oe.treeContext,Vn=Ia(F.nextSibling),Wi=i,hn=!0,gr=null,ai=!1,t!==null&&ph(i,t),i=ed(i,u.children),i.flags|=4096);return i}return g?(Si(),F=u.fallback,g=i.mode,oe=t.child,Ee=oe.sibling,u=Wr(oe,{mode:"hidden",children:u.children}),u.subtreeFlags=oe.subtreeFlags&65011712,Ee!==null?F=Wr(Ee,F):(F=Es(F,g,s,null),F.flags|=2),F.return=i,u.return=i,u.sibling=F,i.child=u,Nu(null,u),u=i.child,F=t.child.memoizedState,F===null?F=Qf(s):(g=F.cachePool,g!==null?(oe=di._currentValue,g=g.parent!==oe?{parent:oe,pool:oe}:g):g=Q(),F={baseLanes:F.baseLanes|s,cachePool:g}),u.memoizedState=F,u.childLanes=Zf(t,C,s),i.memoizedState=Xf,Nu(t.child,u)):(pi(i),s=t.child,t=s.sibling,s=Wr(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=s,i.memoizedState=null,s)}function ed(t,i){return i=jh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jh(t,i){return t=nr(22,t,null,i),t.lanes=0,t}function td(t,i,s){return Yn(i,t.child,null,s),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Kp(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),Mo(t.return,i,s)}function nd(t,i,s,u,g,y){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:g,treeForkCount:y}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=s,C.tailMode=g,C.treeForkCount=y)}function Jp(t,i,s){var u=i.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var C=bn.current,F=(C&2)!==0;if(F?(C=C&1|2,i.flags|=128):C&=1,I(bn,C),vr(t,i,u,s),u=hn?kl:0,!F&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kp(t,s,i);else if(t.tag===19)Kp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(s=i.child,g=null;s!==null;)t=s.alternate,t!==null&&rr(t)===null&&(g=s),s=s.sibling;s=g,s===null?(g=i.child,i.child=null):(g=s.sibling,s.sibling=null),nd(i,!1,g,s,y,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,g=i.child,i.child=null;g!==null;){if(t=g.alternate,t!==null&&rr(t)===null){i.child=g;break}t=g.sibling,g.sibling=s,s=g,g=t}nd(i,!0,s,null,y,u);break;case"together":nd(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function oo(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Go|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Os(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Wr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Wr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function sv(t,i,s){switch(i.tag){case 3:ke(i,i.stateNode.containerInfo),Ls(i,di,t.memoizedState.cache),no();break;case 27:case 5:Pe(i);break;case 4:ke(i,i.stateNode.containerInfo);break;case 10:Ls(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tn(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(pi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Wp(t,i,s):(pi(i),t=oo(t,i,s),t!==null?t.sibling:null);pi(i);break;case 19:var g=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Os(t,i,s,!1),u=(s&i.childLanes)!==0),g){if(u)return Jp(t,i,s);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(bn,bn.current),u)break;return null;case 22:return i.lanes=0,zp(t,i,s,i.pendingProps);case 24:Ls(i,di,t.memoizedState.cache)}return oo(t,i,s)}function Xp(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Fi=!0;else{if(!id(t,s)&&(i.flags&128)===0)return Fi=!1,sv(t,i,s);Fi=(t.flags&131072)!==0}else Fi=!1,hn&&(i.flags&1048576)!==0&&dh(i,kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Se(i.elementType),i.type=t,typeof t=="function")cc(t)?(u=Rl(t,u),i.tag=1,i=Vp(null,i,t,u,s)):(i.tag=0,i=Jf(null,i,t,u,s));else{if(t!=null){var g=t.$$typeof;if(g===U){i.tag=11,i=Up(null,i,t,u,s);break e}else if(g===te){i.tag=14,i=Fp(null,i,t,u,s);break e}}throw i=ae(t)||t,Error(a(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,g=Rl(u,i.pendingProps),Vp(t,i,u,g,s);case 3:e:{if(ke(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var y=i.memoizedState;g=y.element,Zn(t,i),wi(i,u,null,s);var C=i.memoizedState;if(u=C.cache,Ls(i,di,u),u!==y.cache&&io(i,[di],s,!0),zn(),u=C.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Yp(t,i,u,s);break e}else if(u!==g){g=Kr(Error(a(424)),i),Bo(g),i=Yp(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vn=Ia(t.firstChild),Wi=i,hn=!0,gr=null,ai=!0,s=Qt(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(no(),u===g){i=oo(t,i,s);break e}vr(t,i,u,s)}i=i.child}return i;case 26:return Ah(t,i),t===null?(s=l2(i.type,null,i.pendingProps,null))?i.memoizedState=s:hn||(s=i.type,t=i.pendingProps,u=zh(ue.current).createElement(s),u[kn]=i,u[Rn]=t,yr(u,s,t),Fe(u),i.stateNode=u):i.memoizedState=l2(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Pe(i),t===null&&hn&&(u=i.stateNode=a2(i.type,i.pendingProps,ue.current),Wi=i,ai=!0,g=Vn,Jo(i.type)?(Bd=g,Vn=Ia(u.firstChild)):Vn=g),vr(t,i,i.pendingProps.children,s),Ah(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&hn&&((g=u=Vn)&&(u=Bv(u,i.type,i.pendingProps,ai),u!==null?(i.stateNode=u,Wi=i,Vn=Ia(u.firstChild),ai=!1,g=!0):g=!1),g||Cs(i)),Pe(i),g=i.type,y=i.pendingProps,C=t!==null?t.memoizedProps:null,u=y.children,Ld(g,y)?u=null:C!==null&&Ld(g,C)&&(i.flags|=32),i.memoizedState!==null&&(g=gu(t,i,qf,null,null,s),Uu._currentValue=g),Ah(t,i),vr(t,i,u,s),i.child;case 6:return t===null&&hn&&((t=s=Vn)&&(s=Mv(s,i.pendingProps,ai),s!==null?(i.stateNode=s,Wi=i,Vn=null,t=!0):t=!1),t||Cs(i)),null;case 13:return Wp(t,i,s);case 4:return ke(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Yn(i,null,u,s):vr(t,i,u,s),i.child;case 11:return Up(t,i,i.type,i.pendingProps,s);case 7:return vr(t,i,i.pendingProps,s),i.child;case 8:return vr(t,i,i.pendingProps.children,s),i.child;case 12:return vr(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Ls(i,i.type,u.value),vr(t,i,u.children,s),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,Rs(i),g=Ji(g),u=u(g),i.flags|=1,vr(t,i,u,s),i.child;case 14:return Fp(t,i,i.type,i.pendingProps,s);case 15:return Ip(t,i,i.type,i.pendingProps,s);case 19:return Jp(t,i,s);case 31:return av(t,i,s);case 22:return zp(t,i,s,i.pendingProps);case 24:return Rs(i),u=Ji(di),t===null?(g=z(),g===null&&(g=Wn,y=qo(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=s),g=y),i.memoizedState={parent:u,cache:g},Je(i),Ls(i,di,g)):((t.lanes&s)!==0&&(Zn(t,i),wi(i,null,null,s),zn()),g=t.memoizedState,y=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ls(i,di,u)):(u=y.cache,Ls(i,di,u),u!==g.cache&&io(i,[di],s,!0))),vr(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function lo(t){t.flags|=4}function rd(t,i,s,u,g){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(N1())t.flags|=8192;else throw Oe=ve,Ne}else t.flags&=-16777217}function Qp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!d2(i))if(N1())t.flags|=8192;else throw Oe=ve,Ne}function Eh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fr():536870912,t.lanes|=i,Tc|=i)}function Au(t,i){if(!hn)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ni(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var g=t.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)s|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function ov(t,i,s){var u=i.pendingProps;switch(dc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(i),null;case 1:return ni(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ea(di),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ki(i)?lo(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,du())),ni(i),null;case 26:var g=i.type,y=i.memoizedState;return t===null?(lo(i),y!==null?(ni(i),Qp(i,y)):(ni(i),rd(i,g,null,u,s))):y?y!==t.memoizedState?(lo(i),ni(i),Qp(i,y)):(ni(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&lo(i),ni(i),rd(i,g,t,u,s)),null;case 27:if(Ve(i),s=ue.current,g=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&lo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ni(i),null}t=W.current,Ki(i)?fu(i):(t=a2(g,u,s),i.stateNode=t,lo(i))}return ni(i),null;case 5:if(Ve(i),g=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&lo(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ni(i),null}if(y=W.current,Ki(i))fu(i);else{var C=zh(ue.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?C.createElement("select",{is:u.is}):C.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?C.createElement(g,{is:u.is}):C.createElement(g)}}y[kn]=i,y[Rn]=u;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=y;e:switch(yr(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&lo(i)}}return ni(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&lo(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ue.current,Ki(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,g=Wi,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[kn]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||W1(t.nodeValue,s)),t||Cs(i,!0)}else t=zh(t).createTextNode(u),t[kn]=i,i.stateNode=t}return ni(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=Ki(i),s!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kn]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ni(i),t=!1}else s=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Pn(i),i):(Pn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ni(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Ki(i),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(a(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[kn]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ni(i),g=!1}else g=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Pn(i),i):(Pn(i),null)}return Pn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Eh(i,i.updateQueue),ni(i),null);case 4:return je(),t===null&&jd(i.stateNode.containerInfo),ni(i),null;case 10:return ea(i.type),ni(i),null;case 19:if(L(bn),u=i.memoizedState,u===null)return ni(i),null;if(g=(i.flags&128)!==0,y=u.rendering,y===null)if(g)Au(u,!1);else{if(Ai!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=rr(t),y!==null){for(i.flags|=128,Au(u,!1),t=y.updateQueue,i.updateQueue=t,Eh(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)jl(s,t),s=s.sibling;return I(bn,bn.current&1|2),hn&&Ur(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&Wt()>Oh&&(i.flags|=128,g=!0,Au(u,!1),i.lanes=4194304)}else{if(!g)if(t=rr(y),t!==null){if(i.flags|=128,g=!0,t=t.updateQueue,i.updateQueue=t,Eh(i,t),Au(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!hn)return ni(i),null}else 2*Wt()-u.renderingStartTime>Oh&&s!==536870912&&(i.flags|=128,g=!0,Au(u,!1),i.lanes=4194304);u.isBackwards?(y.sibling=i.child,i.child=y):(t=u.last,t!==null?t.sibling=y:i.child=y,u.last=y)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Wt(),t.sibling=null,s=bn.current,I(bn,g?s&1|2:s&1),hn&&Ur(i,u.treeForkCount),t):(ni(i),null);case 22:case 23:return Pn(i),Li(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(ni(i),i.subtreeFlags&6&&(i.flags|=8192)):ni(i),s=i.updateQueue,s!==null&&Eh(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&L(q),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ea(di),ni(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function lv(t,i){switch(dc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ea(di),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ve(i),null;case 31:if(i.memoizedState!==null){if(Pn(i),i.alternate===null)throw Error(a(340));no()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Pn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));no()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(bn),null;case 4:return je(),null;case 10:return ea(i.type),null;case 22:case 23:return Pn(i),Li(),t!==null&&L(q),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ea(di),null;case 25:return null;default:return null}}function Zp(t,i){switch(dc(i),i.tag){case 3:ea(di),je();break;case 26:case 27:case 5:Ve(i);break;case 4:je();break;case 31:i.memoizedState!==null&&Pn(i);break;case 13:Pn(i);break;case 19:L(bn);break;case 10:ea(i.type);break;case 22:case 23:Pn(i),Li(),t!==null&&L(q);break;case 24:ea(di)}}function ju(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var g=u.next;s=g;do{if((s.tag&t)===t){u=void 0;var y=s.create,C=s.inst;u=y(),C.destroy=u}s=s.next}while(s!==g)}}catch(F){Mn(i,i.return,F)}}function Ho(t,i,s){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&t)===t){var C=u.inst,F=C.destroy;if(F!==void 0){C.destroy=void 0,g=i;var oe=s,Ee=F;try{Ee()}catch(De){Mn(g,oe,De)}}}u=u.next}while(u!==y)}}catch(De){Mn(i,i.return,De)}}function e1(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{_i(i,s)}catch(u){Mn(t,t.return,u)}}}function t1(t,i,s){s.props=Rl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Mn(t,i,u)}}function Eu(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(g){Mn(t,i,g)}}function qs(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(g){Mn(t,i,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(g){Mn(t,i,g)}else s.current=null}function n1(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(g){Mn(t,t.return,g)}}function ad(t,i,s){try{var u=t.stateNode;Tv(u,t.type,s,i),u[Rn]=i}catch(g){Mn(t,t.return,g)}}function i1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jo(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ua));else if(u!==4&&(u===27&&Jo(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,s),t=t.sibling;t!==null;)od(t,i,s),t=t.sibling}function kh(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&Jo(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(kh(t,i,s),t=t.sibling;t!==null;)kh(t,i,s),t=t.sibling}function r1(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);yr(i,u,s),i[kn]=t,i[Rn]=s}catch(y){Mn(t,t.return,y)}}var co=!1,Ii=!1,ld=!1,a1=typeof WeakSet=="function"?WeakSet:Set,ar=null;function cv(t,i){if(t=t.containerInfo,Cd=Kh,t=as(t),Ba(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var C=0,F=-1,oe=-1,Ee=0,De=0,Ie=t,Ce=null;t:for(;;){for(var Te;Ie!==s||g!==0&&Ie.nodeType!==3||(F=C+g),Ie!==y||u!==0&&Ie.nodeType!==3||(oe=C+u),Ie.nodeType===3&&(C+=Ie.nodeValue.length),(Te=Ie.firstChild)!==null;)Ce=Ie,Ie=Te;for(;;){if(Ie===t)break t;if(Ce===s&&++Ee===g&&(F=C),Ce===y&&++De===u&&(oe=C),(Te=Ie.nextSibling)!==null)break;Ie=Ce,Ce=Ie.parentNode}Ie=Te}s=F===-1||oe===-1?null:{start:F,end:oe}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:t,selectionRange:s},Kh=!1,ar=i;ar!==null;)if(i=ar,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ar=t;else for(;ar!==null;){switch(i=ar,y=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)g=t[s],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,s=i,g=y.memoizedProps,y=y.memoizedState,u=s.stateNode;try{var ct=Rl(s.type,g);t=u.getSnapshotBeforeUpdate(ct,y),u.__reactInternalSnapshotBeforeUpdate=t}catch(Pt){Mn(s,s.return,Pt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Rd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ar=t;break}ar=i.return}}function s1(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ho(t,s),u&4&&ju(5,s);break;case 1:if(ho(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(C){Mn(s,s.return,C)}else{var g=Rl(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(g,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Mn(s,s.return,C)}}u&64&&e1(s),u&512&&Eu(s,s.return);break;case 3:if(ho(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{_i(t,i)}catch(C){Mn(s,s.return,C)}}break;case 27:i===null&&u&4&&r1(s);case 26:case 5:ho(t,s),i===null&&u&4&&n1(s),u&512&&Eu(s,s.return);break;case 12:ho(t,s);break;case 31:ho(t,s),u&4&&c1(t,s);break;case 13:ho(t,s),u&4&&u1(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=yv.bind(null,s),qv(t,s))));break;case 22:if(u=s.memoizedState!==null||co,!u){i=i!==null&&i.memoizedState!==null||Ii,g=co;var y=Ii;co=u,(Ii=i)&&!y?fo(t,s,(s.subtreeFlags&8772)!==0):ho(t,s),co=g,Ii=y}break;case 30:break;default:ho(t,s)}}function o1(t){var i=t.alternate;i!==null&&(t.alternate=null,o1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&zr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var li=null,na=!1;function uo(t,i,s){for(s=s.child;s!==null;)l1(t,i,s),s=s.sibling}function l1(t,i,s){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(rn,s)}catch{}switch(s.tag){case 26:Ii||qs(s,i),uo(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ii||qs(s,i);var u=li,g=na;Jo(s.type)&&(li=s.stateNode,na=!1),uo(t,i,s),Bu(s.stateNode),li=u,na=g;break;case 5:Ii||qs(s,i);case 6:if(u=li,g=na,li=null,uo(t,i,s),li=u,na=g,li!==null)if(na)try{(li.nodeType===9?li.body:li.nodeName==="HTML"?li.ownerDocument.body:li).removeChild(s.stateNode)}catch(y){Mn(s,i,y)}else try{li.removeChild(s.stateNode)}catch(y){Mn(s,i,y)}break;case 18:li!==null&&(na?(t=li,e2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qc(t)):e2(li,s.stateNode));break;case 4:u=li,g=na,li=s.stateNode.containerInfo,na=!0,uo(t,i,s),li=u,na=g;break;case 0:case 11:case 14:case 15:Ho(2,s,i),Ii||Ho(4,s,i),uo(t,i,s);break;case 1:Ii||(qs(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&t1(s,i,u)),uo(t,i,s);break;case 21:uo(t,i,s);break;case 22:Ii=(u=Ii)||s.memoizedState!==null,uo(t,i,s),Ii=u;break;default:uo(t,i,s)}}function c1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qc(t)}catch(s){Mn(i,i.return,s)}}}function u1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qc(t)}catch(s){Mn(i,i.return,s)}}function uv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new a1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new a1),i;default:throw Error(a(435,t.tag))}}function Ch(t,i){var s=uv(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var g=bv.bind(null,t,u);u.then(g,g)}})}function ia(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var g=s[u],y=t,C=i,F=C;e:for(;F!==null;){switch(F.tag){case 27:if(Jo(F.type)){li=F.stateNode,na=!1;break e}break;case 5:li=F.stateNode,na=!1;break e;case 3:case 4:li=F.stateNode.containerInfo,na=!0;break e}F=F.return}if(li===null)throw Error(a(160));l1(y,C,g),li=null,na=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)h1(i,t),i=i.sibling}var ds=null;function h1(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ia(i,t),ra(t),u&4&&(Ho(3,t,t.return),ju(3,t),Ho(5,t,t.return));break;case 1:ia(i,t),ra(t),u&512&&(Ii||s===null||qs(s,s.return)),u&64&&co&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var g=ds;if(ia(i,t),ra(t),u&512&&(Ii||s===null||qs(s,s.return)),u&4){var y=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Dn]||y[kn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),yr(y,u,s),y[kn]=t,Fe(y),u=y;break e;case"link":var C=h2("link","href",g).get(u+(s.href||""));if(C){for(var F=0;F<C.length;F++)if(y=C[F],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(F,1);break t}}y=g.createElement(u),yr(y,u,s),g.head.appendChild(y);break;case"meta":if(C=h2("meta","content",g).get(u+(s.content||""))){for(F=0;F<C.length;F++)if(y=C[F],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(F,1);break t}}y=g.createElement(u),yr(y,u,s),g.head.appendChild(y);break;default:throw Error(a(468,u))}y[kn]=t,Fe(y),u=y}t.stateNode=u}else f2(g,t.type,t.stateNode);else t.stateNode=u2(g,u,t.memoizedProps);else y!==u?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,u===null?f2(g,t.type,t.stateNode):u2(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ad(t,t.memoizedProps,s.memoizedProps)}break;case 27:ia(i,t),ra(t),u&512&&(Ii||s===null||qs(s,s.return)),s!==null&&u&4&&ad(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ia(i,t),ra(t),u&512&&(Ii||s===null||qs(s,s.return)),t.flags&32){g=t.stateNode;try{ca(g,"")}catch(ct){Mn(t,t.return,ct)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,ad(t,g,s!==null?s.memoizedProps:g)),u&1024&&(ld=!0);break;case 6:if(ia(i,t),ra(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(ct){Mn(t,t.return,ct)}}break;case 3:if(Gh=null,g=ds,ds=Hh(i.containerInfo),ia(i,t),ds=g,ra(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{qc(i.containerInfo)}catch(ct){Mn(t,t.return,ct)}ld&&(ld=!1,f1(t));break;case 4:u=ds,ds=Hh(t.stateNode.containerInfo),ia(i,t),ra(t),ds=u;break;case 12:ia(i,t),ra(t);break;case 31:ia(i,t),ra(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ch(t,u)));break;case 13:ia(i,t),ra(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lh=Wt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ch(t,u)));break;case 22:g=t.memoizedState!==null;var oe=s!==null&&s.memoizedState!==null,Ee=co,De=Ii;if(co=Ee||g,Ii=De||oe,ia(i,t),Ii=De,co=Ee,ra(t),u&8192)e:for(i=t.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(s===null||oe||co||Ii||Dl(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){oe=s=i;try{if(y=oe.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{F=oe.stateNode;var Ie=oe.memoizedProps.style,Ce=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;F.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(ct){Mn(oe,oe.return,ct)}}}else if(i.tag===6){if(s===null){oe=i;try{oe.stateNode.nodeValue=g?"":oe.memoizedProps}catch(ct){Mn(oe,oe.return,ct)}}}else if(i.tag===18){if(s===null){oe=i;try{var Te=oe.stateNode;g?t2(Te,!0):t2(oe.stateNode,!1)}catch(ct){Mn(oe,oe.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Ch(t,s))));break;case 19:ia(i,t),ra(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Ch(t,u)));break;case 30:break;case 21:break;default:ia(i,t),ra(t)}}function ra(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(i1(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var g=s.stateNode,y=sd(t);kh(t,y,g);break;case 5:var C=s.stateNode;s.flags&32&&(ca(C,""),s.flags&=-33);var F=sd(t);kh(t,F,C);break;case 3:case 4:var oe=s.stateNode.containerInfo,Ee=sd(t);od(t,Ee,oe);break;default:throw Error(a(161))}}catch(De){Mn(t,t.return,De)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function f1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;f1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ho(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s1(t,i.alternate,i),i=i.sibling}function Dl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ho(4,i,i.return),Dl(i);break;case 1:qs(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&t1(i,i.return,s),Dl(i);break;case 27:Bu(i.stateNode);case 26:case 5:qs(i,i.return),Dl(i);break;case 22:i.memoizedState===null&&Dl(i);break;case 30:Dl(i);break;default:Dl(i)}t=t.sibling}}function fo(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=t,y=i,C=y.flags;switch(y.tag){case 0:case 11:case 15:fo(g,y,s),ju(4,y);break;case 1:if(fo(g,y,s),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Ee){Mn(u,u.return,Ee)}if(u=y,g=u.updateQueue,g!==null){var F=u.stateNode;try{var oe=g.shared.hiddenCallbacks;if(oe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<oe.length;g++)ir(oe[g],F)}catch(Ee){Mn(u,u.return,Ee)}}s&&C&64&&e1(y),Eu(y,y.return);break;case 27:r1(y);case 26:case 5:fo(g,y,s),s&&u===null&&C&4&&n1(y),Eu(y,y.return);break;case 12:fo(g,y,s);break;case 31:fo(g,y,s),s&&C&4&&c1(g,y);break;case 13:fo(g,y,s),s&&C&4&&u1(g,y);break;case 22:y.memoizedState===null&&fo(g,y,s),Eu(y,y.return);break;case 30:break;default:fo(g,y,s)}i=i.sibling}}function cd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cl(s))}function ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t))}function ps(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d1(t,i,s,u),i=i.sibling}function d1(t,i,s,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:ps(t,i,s,u),g&2048&&ju(9,i);break;case 1:ps(t,i,s,u);break;case 3:ps(t,i,s,u),g&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t)));break;case 12:if(g&2048){ps(t,i,s,u),t=i.stateNode;try{var y=i.memoizedProps,C=y.id,F=y.onPostCommit;typeof F=="function"&&F(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(oe){Mn(i,i.return,oe)}}else ps(t,i,s,u);break;case 31:ps(t,i,s,u);break;case 13:ps(t,i,s,u);break;case 23:break;case 22:y=i.stateNode,C=i.alternate,i.memoizedState!==null?y._visibility&2?ps(t,i,s,u):ku(t,i):y._visibility&2?ps(t,i,s,u):(y._visibility|=2,Ec(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),g&2048&&cd(C,i);break;case 24:ps(t,i,s,u),g&2048&&ud(i.alternate,i);break;default:ps(t,i,s,u)}}function Ec(t,i,s,u,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=t,C=i,F=s,oe=u,Ee=C.flags;switch(C.tag){case 0:case 11:case 15:Ec(y,C,F,oe,g),ju(8,C);break;case 23:break;case 22:var De=C.stateNode;C.memoizedState!==null?De._visibility&2?Ec(y,C,F,oe,g):ku(y,C):(De._visibility|=2,Ec(y,C,F,oe,g)),g&&Ee&2048&&cd(C.alternate,C);break;case 24:Ec(y,C,F,oe,g),g&&Ee&2048&&ud(C.alternate,C);break;default:Ec(y,C,F,oe,g)}i=i.sibling}}function ku(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,g=u.flags;switch(u.tag){case 22:ku(s,u),g&2048&&cd(u.alternate,u);break;case 24:ku(s,u),g&2048&&ud(u.alternate,u);break;default:ku(s,u)}i=i.sibling}}var Cu=8192;function kc(t,i,s){if(t.subtreeFlags&Cu)for(t=t.child;t!==null;)p1(t,i,s),t=t.sibling}function p1(t,i,s){switch(t.tag){case 26:kc(t,i,s),t.flags&Cu&&t.memoizedState!==null&&Jv(s,ds,t.memoizedState,t.memoizedProps);break;case 5:kc(t,i,s);break;case 3:case 4:var u=ds;ds=Hh(t.stateNode.containerInfo),kc(t,i,s),ds=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Cu,Cu=16777216,kc(t,i,s),Cu=u):kc(t,i,s));break;default:kc(t,i,s)}}function g1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];ar=u,v1(u,t)}g1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m1(t),t=t.sibling}function m1(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Ho(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Th(t)):Tu(t);break;default:Tu(t)}}function Th(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];ar=u,v1(u,t)}g1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ho(8,i,i.return),Th(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Th(i));break;default:Th(i)}t=t.sibling}}function v1(t,i){for(;ar!==null;){var s=ar;switch(s.tag){case 0:case 11:case 15:Ho(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,ar=u;else e:for(s=t;ar!==null;){u=ar;var g=u.sibling,y=u.return;if(o1(u),u===s){ar=null;break e}if(g!==null){g.return=y,ar=g;break e}ar=y}}}var hv={getCacheForType:function(t){var i=Ji(di),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Ji(di).controller.signal}},fv=typeof WeakMap=="function"?WeakMap:Map,Ln=0,Wn=null,fn=null,pn=0,Bn=0,va=null,$o=!1,Cc=!1,hd=!1,po=0,Ai=0,Go=0,Pl=0,fd=0,ya=0,Tc=0,Lu=null,aa=null,dd=!1,Lh=0,y1=0,Oh=1/0,Rh=null,Vo=null,Qi=0,Yo=null,Lc=null,go=0,pd=0,gd=null,b1=null,Ou=0,md=null;function ba(){return(Ln&2)!==0&&pn!==0?pn&-pn:ee.T!==null?xd():mi()}function w1(){if(ya===0)if((pn&536870912)===0||hn){var t=En;En<<=1,(En&3932160)===0&&(En=262144),ya=t}else ya=536870912;return t=ti.current,t!==null&&(t.flags|=32),ya}function sa(t,i,s){(t===Wn&&(Bn===2||Bn===9)||t.cancelPendingCommit!==null)&&(Oc(t,0),Wo(t,pn,ya,!1)),bt(t,s),((Ln&2)===0||t!==Wn)&&(t===Wn&&((Ln&2)===0&&(Pl|=s),Ai===4&&Wo(t,pn,ya,!1)),Us(t))}function _1(t,i,s){if((Ln&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Or(t,i),g=u?gv(t,i):yd(t,i,!0),y=u;do{if(g===0){Cc&&!u&&Wo(t,i,0,!1);break}else{if(s=t.current.alternate,y&&!dv(s)){g=yd(t,i,!1),y=!1;continue}if(g===2){if(y=i,t.errorRecoveryDisabledLanes&y)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var F=t;g=Lu;var oe=F.current.memoizedState.isDehydrated;if(oe&&(Oc(F,C).flags|=256),C=yd(F,C,!1),C!==2){if(hd&&!oe){F.errorRecoveryDisabledLanes|=y,Pl|=y,g=4;break e}y=aa,aa=g,y!==null&&(aa===null?aa=y:aa.push.apply(aa,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){Oc(t,0),Wo(t,i,0,!0);break}e:{switch(u=t,y=g,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Wo(u,i,ya,!$o);break e;case 2:aa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(g=Lh+300-Wt(),10<g)){if(Wo(u,i,ya,!$o),un(u,0,!0)!==0)break e;go=i,u.timeoutHandle=Q1(x1.bind(null,u,s,aa,Rh,dd,i,ya,Pl,Tc,$o,y,"Throttled",-0,0),g);break e}x1(u,s,aa,Rh,dd,i,ya,Pl,Tc,$o,y,null,-0,0)}}break}while(!0);Us(t)}function x1(t,i,s,u,g,y,C,F,oe,Ee,De,Ie,Ce,Te){if(t.timeoutHandle=-1,Ie=i.subtreeFlags,Ie&8192||(Ie&16785408)===16785408){Ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},p1(i,y,Ie);var ct=(y&62914560)===y?Lh-Wt():(y&4194048)===y?y1-Wt():0;if(ct=Xv(Ie,ct),ct!==null){go=y,t.cancelPendingCommit=ct(T1.bind(null,t,i,y,s,u,g,C,F,oe,De,Ie,null,Ce,Te)),Wo(t,y,C,!Ee);return}}T1(t,i,y,s,u,g,C,F,oe)}function dv(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var g=s[u],y=g.getSnapshot;g=g.value;try{if(!Vi(y(),g))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wo(t,i,s,u){i&=~fd,i&=~Pl,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var g=i;0<g;){var y=31-on(g),C=1<<y;u[y]=-1,g&=~C}s!==0&&Ir(t,s,i)}function Dh(){return(Ln&6)===0?(Ru(0),!1):!0}function vd(){if(fn!==null){if(Bn===0)var t=fn.return;else t=fn,qa=Ts=null,wc(t),ze=null,ut=0,t=fn;for(;t!==null;)Zp(t.alternate,t),t=t.return;fn=null}}function Oc(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Rv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),go=0,vd(),Wn=t,fn=s=Wr(t.current,null),pn=i,Bn=0,va=null,$o=!1,Cc=Or(t,i),hd=!1,Tc=ya=fd=Pl=Go=Ai=0,aa=Lu=null,dd=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var g=31-on(u),y=1<<g;i|=t[g],u&=~y}return po=i,Sl(),s}function S1(t,i){jt=null,ee.H=Su,i===fe||i===J?(i=Me(),Bn=3):i===Ne?(i=Me(),Bn=4):Bn=i===Kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,va=i,fn===null&&(Ai=1,Sh(t,Kr(i,t.current)))}function N1(){var t=ti.current;return t===null?!0:(pn&4194048)===pn?_n===null:(pn&62914560)===pn||(pn&536870912)!==0?t===_n:!1}function A1(){var t=ee.H;return ee.H=Su,t===null?Su:t}function j1(){var t=ee.A;return ee.A=hv,t}function Ph(){Ai=4,$o||(pn&4194048)!==pn&&ti.current!==null||(Cc=!0),(Go&134217727)===0&&(Pl&134217727)===0||Wn===null||Wo(Wn,pn,ya,!1)}function yd(t,i,s){var u=Ln;Ln|=2;var g=A1(),y=j1();(Wn!==t||pn!==i)&&(Rh=null,Oc(t,i)),i=!1;var C=Ai;e:do try{if(Bn!==0&&fn!==null){var F=fn,oe=va;switch(Bn){case 8:vd(),C=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(i=!0);var Ee=Bn;if(Bn=0,va=null,Rc(t,F,oe,Ee),s&&Cc){C=0;break e}break;default:Ee=Bn,Bn=0,va=null,Rc(t,F,oe,Ee)}}pv(),C=Ai;break}catch(De){S1(t,De)}while(!0);return i&&t.shellSuspendCounter++,qa=Ts=null,Ln=u,ee.H=g,ee.A=y,fn===null&&(Wn=null,pn=0,Sl()),C}function pv(){for(;fn!==null;)E1(fn)}function gv(t,i){var s=Ln;Ln|=2;var u=A1(),g=j1();Wn!==t||pn!==i?(Rh=null,Oh=Wt()+500,Oc(t,i)):Cc=Or(t,i);e:do try{if(Bn!==0&&fn!==null){i=fn;var y=va;t:switch(Bn){case 1:Bn=0,va=null,Rc(t,i,y,1);break;case 2:case 9:if(_e(y)){Bn=0,va=null,k1(i);break}i=function(){Bn!==2&&Bn!==9||Wn!==t||(Bn=7),Us(t)},y.then(i,i);break e;case 3:Bn=7;break e;case 4:Bn=5;break e;case 7:_e(y)?(Bn=0,va=null,k1(i)):(Bn=0,va=null,Rc(t,i,y,7));break;case 5:var C=null;switch(fn.tag){case 26:C=fn.memoizedState;case 5:case 27:var F=fn;if(C?d2(C):F.stateNode.complete){Bn=0,va=null;var oe=F.sibling;if(oe!==null)fn=oe;else{var Ee=F.return;Ee!==null?(fn=Ee,Bh(Ee)):fn=null}break t}}Bn=0,va=null,Rc(t,i,y,5);break;case 6:Bn=0,va=null,Rc(t,i,y,6);break;case 8:vd(),Ai=6;break e;default:throw Error(a(462))}}mv();break}catch(De){S1(t,De)}while(!0);return qa=Ts=null,ee.H=u,ee.A=g,Ln=s,fn!==null?0:(Wn=null,pn=0,Sl(),Ai)}function mv(){for(;fn!==null&&!At();)E1(fn)}function E1(t){var i=Xp(t.alternate,t,po);t.memoizedProps=t.pendingProps,i===null?Bh(t):fn=i}function k1(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Gp(s,i,i.pendingProps,i.type,void 0,pn);break;case 11:i=Gp(s,i,i.pendingProps,i.type.render,i.ref,pn);break;case 5:wc(i);default:Zp(s,i),i=fn=jl(i,po),i=Xp(s,i,po)}t.memoizedProps=t.pendingProps,i===null?Bh(t):fn=i}function Rc(t,i,s,u){qa=Ts=null,wc(i),ze=null,ut=0;var g=i.return;try{if(rv(t,g,i,s,pn)){Ai=1,Sh(t,Kr(s,t.current)),fn=null;return}}catch(y){if(g!==null)throw fn=g,y;Ai=1,Sh(t,Kr(s,t.current)),fn=null;return}i.flags&32768?(hn||u===1?t=!0:Cc||(pn&536870912)!==0?t=!1:($o=t=!0,(u===2||u===9||u===3||u===6)&&(u=ti.current,u!==null&&u.tag===13&&(u.flags|=16384))),C1(i,t)):Bh(i)}function Bh(t){var i=t;do{if((i.flags&32768)!==0){C1(i,$o);return}t=i.return;var s=ov(i.alternate,i,po);if(s!==null){fn=s;return}if(i=i.sibling,i!==null){fn=i;return}fn=i=t}while(i!==null);Ai===0&&(Ai=5)}function C1(t,i){do{var s=lv(t.alternate,t);if(s!==null){s.flags&=32767,fn=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){fn=t;return}fn=t=s}while(t!==null);Ai=6,fn=null}function T1(t,i,s,u,g,y,C,F,oe){t.cancelPendingCommit=null;do Mh();while(Qi!==0);if((Ln&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=sc,la(t,s,y,C,F,oe),t===Wn&&(fn=Wn=null,pn=0),Lc=i,Yo=t,go=s,pd=y,gd=g,b1=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wv(tn,function(){return P1(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,g=X.p,X.p=2,C=Ln,Ln|=4;try{cv(t,i,s)}finally{Ln=C,X.p=g,ee.T=u}}Qi=1,L1(),O1(),R1()}}function L1(){if(Qi===1){Qi=0;var t=Yo,i=Lc,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null;var u=X.p;X.p=2;var g=Ln;Ln|=4;try{h1(i,t);var y=Td,C=as(t.containerInfo),F=y.focusedElem,oe=y.selectionRange;if(C!==F&&F&&F.ownerDocument&&rs(F.ownerDocument.documentElement,F)){if(oe!==null&&Ba(F)){var Ee=oe.start,De=oe.end;if(De===void 0&&(De=Ee),"selectionStart"in F)F.selectionStart=Ee,F.selectionEnd=Math.min(De,F.value.length);else{var Ie=F.ownerDocument||document,Ce=Ie&&Ie.defaultView||window;if(Ce.getSelection){var Te=Ce.getSelection(),ct=F.textContent.length,Pt=Math.min(oe.start,ct),Gn=oe.end===void 0?Pt:Math.min(oe.end,ct);!Te.extend&&Pt>Gn&&(C=Gn,Gn=Pt,Pt=C);var be=Oo(F,Pt),de=Oo(F,Gn);if(be&&de&&(Te.rangeCount!==1||Te.anchorNode!==be.node||Te.anchorOffset!==be.offset||Te.focusNode!==de.node||Te.focusOffset!==de.offset)){var Ae=Ie.createRange();Ae.setStart(be.node,be.offset),Te.removeAllRanges(),Pt>Gn?(Te.addRange(Ae),Te.extend(de.node,de.offset)):(Ae.setEnd(de.node,de.offset),Te.addRange(Ae))}}}}for(Ie=[],Te=F;Te=Te.parentNode;)Te.nodeType===1&&Ie.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ie.length;F++){var Ue=Ie[F];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Kh=!!Cd,Td=Cd=null}finally{Ln=g,X.p=u,ee.T=s}}t.current=i,Qi=2}}function O1(){if(Qi===2){Qi=0;var t=Yo,i=Lc,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=ee.T,ee.T=null;var u=X.p;X.p=2;var g=Ln;Ln|=4;try{s1(t,i.alternate,i)}finally{Ln=g,X.p=u,ee.T=s}}Qi=3}}function R1(){if(Qi===4||Qi===3){Qi=0,yt();var t=Yo,i=Lc,s=go,u=b1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Qi=5:(Qi=0,Lc=Yo=null,D1(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(Vo=null),ri(s),i=i.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(rn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=ee.T,g=X.p,X.p=2,ee.T=null;try{for(var y=t.onRecoverableError,C=0;C<u.length;C++){var F=u[C];y(F.value,{componentStack:F.stack})}}finally{ee.T=i,X.p=g}}(go&3)!==0&&Mh(),Us(t),g=t.pendingLanes,(s&261930)!==0&&(g&42)!==0?t===md?Ou++:(Ou=0,md=t):Ou=0,Ru(0)}}function D1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cl(i)))}function Mh(){return L1(),O1(),R1(),P1()}function P1(){if(Qi!==5)return!1;var t=Yo,i=pd;pd=0;var s=ri(go),u=ee.T,g=X.p;try{X.p=32>s?32:s,ee.T=null,s=gd,gd=null;var y=Yo,C=go;if(Qi=0,Lc=Yo=null,go=0,(Ln&6)!==0)throw Error(a(331));var F=Ln;if(Ln|=4,m1(y.current),d1(y,y.current,C,s),Ln=F,Ru(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(rn,y)}catch{}return!0}finally{X.p=g,ee.T=u,D1(t,i)}}function B1(t,i,s){i=Kr(s,i),i=Wf(t.stateNode,i,2),t=nn(t,i,2),t!==null&&(bt(t,2),Us(t))}function Mn(t,i,s){if(t.tag===3)B1(t,t,s);else for(;i!==null;){if(i.tag===3){B1(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vo===null||!Vo.has(u))){t=Kr(s,t),s=Mp(2),u=nn(i,s,2),u!==null&&(qp(s,u,i,t),bt(u,2),Us(u));break}}i=i.return}}function bd(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new fv;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(s)||(hd=!0,g.add(s),t=vv.bind(null,t,i,s),i.then(t,t))}function vv(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Wn===t&&(pn&s)===s&&(Ai===4||Ai===3&&(pn&62914560)===pn&&300>Wt()-Lh?(Ln&2)===0&&Oc(t,0):fd|=s,Tc===pn&&(Tc=0)),Us(t)}function M1(t,i){i===0&&(i=Fr()),t=os(t,i),t!==null&&(bt(t,i),Us(t))}function yv(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),M1(t,s)}function bv(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(s=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),M1(t,s)}function wv(t,i){return St(t,i)}var qh=null,Dc=null,wd=!1,Uh=!1,_d=!1,Ko=0;function Us(t){t!==Dc&&t.next===null&&(Dc===null?qh=Dc=t:Dc=Dc.next=t),Uh=!0,wd||(wd=!0,xv())}function Ru(t,i){if(!_d&&Uh){_d=!0;do for(var s=!1,u=qh;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var C=u.suspendedLanes,F=u.pingedLanes;y=(1<<31-on(42|t)+1)-1,y&=g&~(C&~F),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,I1(u,y))}else y=pn,y=un(u,u===Wn?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Or(u,y)||(s=!0,I1(u,y));u=u.next}while(s);_d=!1}}function _v(){q1()}function q1(){Uh=wd=!1;var t=0;Ko!==0&&Ov()&&(t=Ko);for(var i=Wt(),s=null,u=qh;u!==null;){var g=u.next,y=U1(u,i);y===0?(u.next=null,s===null?qh=g:s.next=g,g===null&&(Dc=s)):(s=u,(t!==0||(y&3)!==0)&&(Uh=!0)),u=g}Qi!==0&&Qi!==5||Ru(t),Ko!==0&&(Ko=0)}function U1(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var C=31-on(y),F=1<<C,oe=g[C];oe===-1?((F&s)===0||(F&u)!==0)&&(g[C]=Pi(F,i)):oe<=i&&(t.expiredLanes|=F),y&=~F}if(i=Wn,s=pn,s=un(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Bn===2||Bn===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&et(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&et(u),ri(s)){case 2:case 8:s=sn;break;case 32:s=tn;break;case 268435456:s=Ht;break;default:s=tn}return u=F1.bind(null,t),s=St(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&et(u),t.callbackPriority=2,t.callbackNode=null,2}function F1(t,i){if(Qi!==0&&Qi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mh()&&t.callbackNode!==s)return null;var u=pn;return u=un(t,t===Wn?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(_1(t,u,i),U1(t,Wt()),t.callbackNode!=null&&t.callbackNode===s?F1.bind(null,t):null)}function I1(t,i){if(Mh())return null;_1(t,i,!0)}function xv(){Dv(function(){(Ln&6)!==0?St(zt,_v):q1()})}function xd(){if(Ko===0){var t=f;t===0&&(t=Mt,Mt<<=1,(Mt&261888)===0&&(Mt=256)),Ko=t}return Ko}function z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function H1(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Sv(t,i,s,u,g){if(i==="submit"&&s&&s.stateNode===g){var y=z1((g[Rn]||null).action),C=u.submitter;C&&(i=(i=C[Rn]||null)?z1(i.formAction):C.getAttribute("formAction"),i!==null&&(y=i,C=null));var F=new Gr("action","action",null,u,g);t.push({event:F,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ko!==0){var oe=C?H1(g,C):new FormData(g);zf(s,{pending:!0,data:oe,method:g.method,action:y},null,oe)}}else typeof y=="function"&&(F.preventDefault(),oe=C?H1(g,C):new FormData(g),zf(s,{pending:!0,data:oe,method:g.method,action:y},y,oe))},currentTarget:g}]})}}for(var Sd=0;Sd<Zs.length;Sd++){var Nd=Zs[Sd],Nv=Nd.toLowerCase(),Av=Nd[0].toUpperCase()+Nd.slice(1);Yr(Nv,"on"+Av)}Yr(Qs,"onAnimationEnd"),Yr(_l,"onAnimationIteration"),Yr(lu,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(uh,"onTransitionRun"),Yr(hh,"onTransitionStart"),Yr(fh,"onTransitionCancel"),Yr(cu,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$t("onBeforeInput",["compositionend","keypress","textInput","paste"]),$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function $1(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],g=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var C=u.length-1;0<=C;C--){var F=u[C],oe=F.instance,Ee=F.currentTarget;if(F=F.listener,oe!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=Ee;try{y(g)}catch(De){xl(De)}g.currentTarget=null,y=oe}else for(C=0;C<u.length;C++){if(F=u[C],oe=F.instance,Ee=F.currentTarget,F=F.listener,oe!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=Ee;try{y(g)}catch(De){xl(De)}g.currentTarget=null,y=oe}}}}function dn(t,i){var s=i[cr];s===void 0&&(s=i[cr]=new Set);var u=t+"__bubble";s.has(u)||(G1(i,t,2,!1),s.add(u))}function Ad(t,i,s){var u=0;i&&(u|=4),G1(s,t,u,i)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Fh]){t[Fh]=!0,ot.forEach(function(s){s!=="selectionchange"&&(jv.has(s)||Ad(s,!1,t),Ad(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fh]||(i[Fh]=!0,Ad("selectionchange",!1,i))}}function G1(t,i,s,u){switch(w2(i)){case 2:var g=ey;break;case 8:g=ty;break;default:g=Id}s=g.bind(null,i,s,t),g=void 0,!ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(i,s,{capture:!0,passive:g}):t.addEventListener(i,s,!0):g!==void 0?t.addEventListener(i,s,{passive:g}):t.addEventListener(i,s,!1)}function Ed(t,i,s,u,g){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var F=u.stateNode.containerInfo;if(F===g)break;if(C===4)for(C=u.return;C!==null;){var oe=C.tag;if((oe===3||oe===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;F!==null;){if(C=Rr(F),C===null)return;if(oe=C.tag,oe===5||oe===6||oe===26||oe===27){u=y=C;continue e}F=F.parentNode}}u=u.return}tc(function(){var Ee=y,De=Gs(s),Ie=[];e:{var Ce=uu.get(t);if(Ce!==void 0){var Te=Gr,ct=t;switch(t){case"keypress":if($r(s)===0)break e;case"keydown":case"keyup":Te=vn;break;case"focusin":ct="focus",Te=Ja;break;case"focusout":ct="blur",Te=Ja;break;case"beforeblur":case"afterblur":Te=Ja;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Ci;break;case Qs:case _l:case lu:Te=_;break;case cu:Te=Gi;break;case"scroll":case"scrollend":Te=Ao;break;case"wheel":Te=ha;break;case"copy":case"cut":case"paste":Te=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ui;break;case"toggle":case"beforetoggle":Te=yl}var Pt=(i&4)!==0,Gn=!Pt&&(t==="scroll"||t==="scrollend"),be=Pt?Ce!==null?Ce+"Capture":null:Ce;Pt=[];for(var de=Ee,Ae;de!==null;){var Ue=de;if(Ae=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ae===null||be===null||(Ue=Dr(de,be),Ue!=null&&Pt.push(Pu(de,Ue,Ae))),Gn)break;de=de.return}0<Pt.length&&(Ce=new Te(Ce,ct,null,s,De),Ie.push({event:Ce,listeners:Pt}))}}if((i&7)===0){e:{if(Ce=t==="mouseover"||t==="pointerover",Te=t==="mouseout"||t==="pointerout",Ce&&s!==$a&&(ct=s.relatedTarget||s.fromElement)&&(Rr(ct)||ct[vi]))break e;if((Te||Ce)&&(Ce=De.window===De?De:(Ce=De.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Te?(ct=s.relatedTarget||s.toElement,Te=Ee,ct=ct?Rr(ct):null,ct!==null&&(Gn=l(ct),Pt=ct.tag,ct!==Gn||Pt!==5&&Pt!==27&&Pt!==6)&&(ct=null)):(Te=null,ct=Ee),Te!==ct)){if(Pt=vl,Ue="onMouseLeave",be="onMouseEnter",de="mouse",(t==="pointerout"||t==="pointerover")&&(Pt=ui,Ue="onPointerLeave",be="onPointerEnter",de="pointer"),Gn=Te==null?Ce:me(Te),Ae=ct==null?Ce:me(ct),Ce=new Pt(Ue,de+"leave",Te,s,De),Ce.target=Gn,Ce.relatedTarget=Ae,Ue=null,Rr(De)===Ee&&(Pt=new Pt(be,de+"enter",ct,s,De),Pt.target=Ae,Pt.relatedTarget=Gn,Ue=Pt),Gn=Ue,Te&&ct)t:{for(Pt=Ev,be=Te,de=ct,Ae=0,Ue=be;Ue;Ue=Pt(Ue))Ae++;Ue=0;for(var Tt=de;Tt;Tt=Pt(Tt))Ue++;for(;0<Ae-Ue;)be=Pt(be),Ae--;for(;0<Ue-Ae;)de=Pt(de),Ue--;for(;Ae--;){if(be===de||de!==null&&be===de.alternate){Pt=be;break t}be=Pt(be),de=Pt(de)}Pt=null}else Pt=null;Te!==null&&V1(Ie,Ce,Te,Pt,!1),ct!==null&&Gn!==null&&V1(Ie,Gn,ct,Pt,!0)}}e:{if(Ce=Ee?me(Ee):window,Te=Ce.nodeName&&Ce.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ce.type==="file")var An=js;else if(bl(Ce))if(Ar)An=Da;else{An=hi;var gt=To}else Te=Ce.nodeName,!Te||Te.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Ee&&dl(Ee.elementType)&&(An=js):An=ac;if(An&&(An=An(t,Ee))){Br(Ie,An,s,De);break e}gt&&gt(t,Ce,Ee),t==="focusout"&&Ee&&Ce.type==="number"&&Ee.memoizedProps.value!=null&&ul(Ce,"number",Ce.value)}switch(gt=Ee?me(Ee):window,t){case"focusin":(bl(gt)||gt.contentEditable==="true")&&(Mr=gt,ss=Ee,er=null);break;case"focusout":er=ss=Mr=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,Sn(Ie,s,De);break;case"selectionchange":if(Xs)break;case"keydown":case"keyup":Sn(Ie,s,De)}var an;if(Ta)e:{switch(t){case"compositionstart":var gn="onCompositionStart";break e;case"compositionend":gn="onCompositionEnd";break e;case"compositionupdate":gn="onCompositionUpdate";break e}gn=void 0}else La?As(t,s)&&(gn="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(gn="onCompositionStart");gn&&(Za&&s.locale!=="ko"&&(La||gn!=="onCompositionStart"?gn==="onCompositionEnd"&&La&&(an=nc()):(Pr=De,Ys="value"in Pr?Pr.value:Pr.textContent,La=!0)),gt=Ih(Ee,gn),0<gt.length&&(gn=new ye(gn,t,null,s,De),Ie.push({event:gn,listeners:gt}),an?gn.data=an:(an=Eo(s),an!==null&&(gn.data=an)))),(an=Js?dr(t,s):es(t,s))&&(gn=Ih(Ee,"onBeforeInput"),0<gn.length&&(gt=new ye("onBeforeInput","beforeinput",null,s,De),Ie.push({event:gt,listeners:gn}),gt.data=an)),Sv(Ie,t,Ee,s,De)}$1(Ie,i)})}function Pu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ih(t,i){for(var s=i+"Capture",u=[];t!==null;){var g=t,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Dr(t,s),g!=null&&u.unshift(Pu(t,g,y)),g=Dr(t,i),g!=null&&u.push(Pu(t,g,y))),t.tag===3)return u;t=t.return}return[]}function Ev(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V1(t,i,s,u,g){for(var y=i._reactName,C=[];s!==null&&s!==u;){var F=s,oe=F.alternate,Ee=F.stateNode;if(F=F.tag,oe!==null&&oe===u)break;F!==5&&F!==26&&F!==27||Ee===null||(oe=Ee,g?(Ee=Dr(s,y),Ee!=null&&C.unshift(Pu(s,Ee,oe))):g||(Ee=Dr(s,y),Ee!=null&&C.push(Pu(s,Ee,oe)))),s=s.return}C.length!==0&&t.push({event:i,listeners:C})}var kv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Y1(t){return(typeof t=="string"?t:""+t).replace(kv,`
`).replace(Cv,"")}function W1(t,i){return i=Y1(i),Y1(t)===i}function $n(t,i,s,u,g,y){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ca(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ca(t,""+u);break;case"className":ur(t,"class",u);break;case"tabIndex":ur(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(t,s,u);break;case"style":Ql(t,u,y);break;case"data":if(i!=="object"){ur(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Nr(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(i!=="input"&&$n(t,i,"name",g.name,g,null),$n(t,i,"formEncType",g.formEncType,g,null),$n(t,i,"formMethod",g.formMethod,g,null),$n(t,i,"formTarget",g.formTarget,g,null)):($n(t,i,"encType",g.encType,g,null),$n(t,i,"method",g.method,g,null),$n(t,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Nr(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=ua);break;case"onScroll":u!=null&&dn("scroll",t);break;case"onScrollEnd":u!=null&&dn("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Nr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":dn("beforetoggle",t),dn("toggle",t),Ot(t,"popover",u);break;case"xlinkActuate":Hr(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Hr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Hr(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Hr(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Hr(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Hr(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Hr(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Hr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Hr(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ot(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pl.get(s)||s,Ot(t,s,u))}}function kd(t,i,s,u,g,y){switch(s){case"style":Ql(t,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(g.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof u=="string"?ca(t,u):(typeof u=="number"||typeof u=="bigint")&&ca(t,""+u);break;case"onScroll":u!=null&&dn("scroll",t);break;case"onScrollEnd":u!=null&&dn("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rt.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(g=s.endsWith("Capture"),i=s.slice(2,g?s.length-7:void 0),y=t[Rn]||null,y=y!=null?y[s]:null,typeof y=="function"&&t.removeEventListener(i,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,g);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Ot(t,s,u)}}}function yr(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",t),dn("load",t);var u=!1,g=!1,y;for(y in s)if(s.hasOwnProperty(y)){var C=s[y];if(C!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$n(t,i,y,C,s,null)}}g&&$n(t,i,"srcSet",s.srcSet,s,null),u&&$n(t,i,"src",s.src,s,null);return;case"input":dn("invalid",t);var F=y=C=g=null,oe=null,Ee=null;for(u in s)if(s.hasOwnProperty(u)){var De=s[u];if(De!=null)switch(u){case"name":g=De;break;case"type":C=De;break;case"checked":oe=De;break;case"defaultChecked":Ee=De;break;case"value":y=De;break;case"defaultValue":F=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,i));break;default:$n(t,i,u,De,s,null)}}Jl(t,y,F,oe,Ee,C,g,!1);return;case"select":dn("invalid",t),u=C=y=null;for(g in s)if(s.hasOwnProperty(g)&&(F=s[g],F!=null))switch(g){case"value":y=F;break;case"defaultValue":C=F;break;case"multiple":u=F;default:$n(t,i,g,F,s,null)}i=y,s=C,t.multiple=!!u,i!=null?fr(t,!!u,i,!1):s!=null&&fr(t,!!u,s,!0);return;case"textarea":dn("invalid",t),y=g=u=null;for(C in s)if(s.hasOwnProperty(C)&&(F=s[C],F!=null))switch(C){case"value":u=F;break;case"defaultValue":g=F;break;case"children":y=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(91));break;default:$n(t,i,C,F,s,null)}fl(t,u,g,y);return;case"option":for(oe in s)if(s.hasOwnProperty(oe)&&(u=s[oe],u!=null))switch(oe){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$n(t,i,oe,u,s,null)}return;case"dialog":dn("beforetoggle",t),dn("toggle",t),dn("cancel",t),dn("close",t);break;case"iframe":case"object":dn("load",t);break;case"video":case"audio":for(u=0;u<Du.length;u++)dn(Du[u],t);break;case"image":dn("error",t),dn("load",t);break;case"details":dn("toggle",t);break;case"embed":case"source":case"link":dn("error",t),dn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in s)if(s.hasOwnProperty(Ee)&&(u=s[Ee],u!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$n(t,i,Ee,u,s,null)}return;default:if(dl(i)){for(De in s)s.hasOwnProperty(De)&&(u=s[De],u!==void 0&&kd(t,i,De,u,s,void 0));return}}for(F in s)s.hasOwnProperty(F)&&(u=s[F],u!=null&&$n(t,i,F,u,s,null))}function Tv(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,F=null,oe=null,Ee=null,De=null;for(Te in s){var Ie=s[Te];if(s.hasOwnProperty(Te)&&Ie!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":oe=Ie;default:u.hasOwnProperty(Te)||$n(t,i,Te,null,u,Ie)}}for(var Ce in u){var Te=u[Ce];if(Ie=s[Ce],u.hasOwnProperty(Ce)&&(Te!=null||Ie!=null))switch(Ce){case"type":y=Te;break;case"name":g=Te;break;case"checked":Ee=Te;break;case"defaultChecked":De=Te;break;case"value":C=Te;break;case"defaultValue":F=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,i));break;default:Te!==Ie&&$n(t,i,Ce,Te,u,Ie)}}xo(t,C,F,oe,Ee,De,y,g);return;case"select":Te=C=F=Ce=null;for(y in s)if(oe=s[y],s.hasOwnProperty(y)&&oe!=null)switch(y){case"value":break;case"multiple":Te=oe;default:u.hasOwnProperty(y)||$n(t,i,y,null,u,oe)}for(g in u)if(y=u[g],oe=s[g],u.hasOwnProperty(g)&&(y!=null||oe!=null))switch(g){case"value":Ce=y;break;case"defaultValue":F=y;break;case"multiple":C=y;default:y!==oe&&$n(t,i,g,y,u,oe)}i=F,s=C,u=Te,Ce!=null?fr(t,!!s,Ce,!1):!!u!=!!s&&(i!=null?fr(t,!!s,i,!0):fr(t,!!s,s?[]:"",!1));return;case"textarea":Te=Ce=null;for(F in s)if(g=s[F],s.hasOwnProperty(F)&&g!=null&&!u.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:$n(t,i,F,null,u,g)}for(C in u)if(g=u[C],y=s[C],u.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":Ce=g;break;case"defaultValue":Te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:g!==y&&$n(t,i,C,g,u,y)}hl(t,Ce,Te);return;case"option":for(var ct in s)if(Ce=s[ct],s.hasOwnProperty(ct)&&Ce!=null&&!u.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$n(t,i,ct,null,u,Ce)}for(oe in u)if(Ce=u[oe],Te=s[oe],u.hasOwnProperty(oe)&&Ce!==Te&&(Ce!=null||Te!=null))switch(oe){case"selected":t.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:$n(t,i,oe,Ce,u,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in s)Ce=s[Pt],s.hasOwnProperty(Pt)&&Ce!=null&&!u.hasOwnProperty(Pt)&&$n(t,i,Pt,null,u,Ce);for(Ee in u)if(Ce=u[Ee],Te=s[Ee],u.hasOwnProperty(Ee)&&Ce!==Te&&(Ce!=null||Te!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:$n(t,i,Ee,Ce,u,Te)}return;default:if(dl(i)){for(var Gn in s)Ce=s[Gn],s.hasOwnProperty(Gn)&&Ce!==void 0&&!u.hasOwnProperty(Gn)&&kd(t,i,Gn,void 0,u,Ce);for(De in u)Ce=u[De],Te=s[De],!u.hasOwnProperty(De)||Ce===Te||Ce===void 0&&Te===void 0||kd(t,i,De,Ce,u,Te);return}}for(var be in s)Ce=s[be],s.hasOwnProperty(be)&&Ce!=null&&!u.hasOwnProperty(be)&&$n(t,i,be,null,u,Ce);for(Ie in u)Ce=u[Ie],Te=s[Ie],!u.hasOwnProperty(Ie)||Ce===Te||Ce==null&&Te==null||$n(t,i,Ie,Ce,u,Te)}function K1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var g=s[u],y=g.transferSize,C=g.initiatorType,F=g.duration;if(y&&F&&K1(C)){for(C=0,F=g.responseEnd,u+=1;u<s.length;u++){var oe=s[u],Ee=oe.startTime;if(Ee>F)break;var De=oe.transferSize,Ie=oe.initiatorType;De&&K1(Ie)&&(oe=oe.responseEnd,C+=De*(oe<F?1:(F-Ee)/(oe-Ee)))}if(--u,i+=8*(y+C)/(g.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cd=null,Td=null;function zh(t){return t.nodeType===9?t:t.ownerDocument}function J1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Od=null;function Ov(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,Rv=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(t){return Z1.resolve(null).then(t).catch(Pv)}:Q1;function Pv(t){setTimeout(function(){throw t})}function Jo(t){return t==="head"}function e2(t,i){var s=i,u=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(g),qc(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Bu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Bu(s);for(var y=s.firstChild;y;){var C=y.nextSibling,F=y.nodeName;y[Dn]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=C}}else s==="body"&&Bu(t.ownerDocument.body);s=g}while(s);qc(i)}function t2(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),zr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Bv(t,i,s,u){for(;t.nodeType===1;){var g=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Dn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Ia(t.nextSibling),t===null)break}return null}function Mv(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ia(t.nextSibling),t===null))return null;return t}function n2(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ia(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qv(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ia(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bd=null;function i2(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ia(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function r2(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function a2(t,i,s){switch(i=zh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zr(t)}var za=new Map,s2=new Set;function Hh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mo=X.d;X.d={f:Uv,r:Fv,D:Iv,C:zv,L:Hv,m:$v,X:Vv,S:Gv,M:Yv};function Uv(){var t=mo.f(),i=Dh();return t||i}function Fv(t){var i=ne(t);i!==null&&i.tag===5&&i.type==="form"?Sp(i):mo.r(t)}var Pc=typeof document>"u"?null:document;function o2(t,i,s){var u=Pc;if(u&&typeof i=="string"&&i){var g=yi(i);g='link[rel="'+t+'"][href="'+g+'"]',typeof s=="string"&&(g+='[crossorigin="'+s+'"]'),s2.has(g)||(s2.add(g),t={rel:t,crossOrigin:s,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),yr(i,"link",t),Fe(i),u.head.appendChild(i)))}}function Iv(t){mo.D(t),o2("dns-prefetch",t,null)}function zv(t,i){mo.C(t,i),o2("preconnect",t,i)}function Hv(t,i,s){mo.L(t,i,s);var u=Pc;if(u&&t&&i){var g='link[rel="preload"][as="'+yi(i)+'"]';i==="image"&&s&&s.imageSrcSet?(g+='[imagesrcset="'+yi(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(g+='[imagesizes="'+yi(s.imageSizes)+'"]')):g+='[href="'+yi(t)+'"]';var y=g;switch(i){case"style":y=Bc(t);break;case"script":y=Mc(t)}za.has(y)||(t=A({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),za.set(y,t),u.querySelector(g)!==null||i==="style"&&u.querySelector(Mu(y))||i==="script"&&u.querySelector(qu(y))||(i=u.createElement("link"),yr(i,"link",t),Fe(i),u.head.appendChild(i)))}}function $v(t,i){mo.m(t,i);var s=Pc;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+yi(u)+'"][href="'+yi(t)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Mc(t)}if(!za.has(y)&&(t=A({rel:"modulepreload",href:t},i),za.set(y,t),s.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qu(y)))return}u=s.createElement("link"),yr(u,"link",t),Fe(u),s.head.appendChild(u)}}}function Gv(t,i,s){mo.S(t,i,s);var u=Pc;if(u&&t){var g=qe(u).hoistableStyles,y=Bc(t);i=i||"default";var C=g.get(y);if(!C){var F={loading:0,preload:null};if(C=u.querySelector(Mu(y)))F.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},s),(s=za.get(y))&&Md(t,s);var oe=C=u.createElement("link");Fe(oe),yr(oe,"link",t),oe._p=new Promise(function(Ee,De){oe.onload=Ee,oe.onerror=De}),oe.addEventListener("load",function(){F.loading|=1}),oe.addEventListener("error",function(){F.loading|=2}),F.loading|=4,$h(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:F},g.set(y,C)}}}function Vv(t,i){mo.X(t,i);var s=Pc;if(s&&t){var u=qe(s).hoistableScripts,g=Mc(t),y=u.get(g);y||(y=s.querySelector(qu(g)),y||(t=A({src:t,async:!0},i),(i=za.get(g))&&qd(t,i),y=s.createElement("script"),Fe(y),yr(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function Yv(t,i){mo.M(t,i);var s=Pc;if(s&&t){var u=qe(s).hoistableScripts,g=Mc(t),y=u.get(g);y||(y=s.querySelector(qu(g)),y||(t=A({src:t,async:!0,type:"module"},i),(i=za.get(g))&&qd(t,i),y=s.createElement("script"),Fe(y),yr(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function l2(t,i,s,u){var g=(g=ue.current)?Hh(g):null;if(!g)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Bc(s.href),s=qe(g).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Bc(s.href);var y=qe(g).hoistableStyles,C=y.get(t);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,C),(y=g.querySelector(Mu(t)))&&!y._p&&(C.instance=y,C.state.loading=5),za.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},za.set(t,s),y||Wv(g,t,s,C.state))),i&&u===null)throw Error(a(528,""));return C}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mc(s),s=qe(g).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Bc(t){return'href="'+yi(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function c2(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Wv(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),yr(i,"link",s),Fe(i),t.head.appendChild(i))}function Mc(t){return'[src="'+yi(t)+'"]'}function qu(t){return"script[async]"+t}function u2(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+yi(s.href)+'"]');if(u)return i.instance=u,Fe(u),u;var g=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Fe(u),yr(u,"style",g),$h(u,s.precedence,t),i.instance=u;case"stylesheet":g=Bc(s.href);var y=t.querySelector(Mu(g));if(y)return i.state.loading|=4,i.instance=y,Fe(y),y;u=c2(s),(g=za.get(g))&&Md(u,g),y=(t.ownerDocument||t).createElement("link"),Fe(y);var C=y;return C._p=new Promise(function(F,oe){C.onload=F,C.onerror=oe}),yr(y,"link",u),i.state.loading|=4,$h(y,s.precedence,t),i.instance=y;case"script":return y=Mc(s.src),(g=t.querySelector(qu(y)))?(i.instance=g,Fe(g),g):(u=s,(g=za.get(y))&&(u=A({},s),qd(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),Fe(g),yr(g,"link",u),t.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,$h(u,s.precedence,t));return i.instance}function $h(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,C=0;C<u.length;C++){var F=u[C];if(F.dataset.precedence===i)y=F;else if(y!==g)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gh=null;function h2(t,i,s){if(Gh===null){var u=new Map,g=Gh=new Map;g.set(s,u)}else g=Gh,u=g.get(s),u||(u=new Map,g.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),g=0;g<s.length;g++){var y=s[g];if(!(y[Dn]||y[kn]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(i)||"";C=t+C;var F=u.get(C);F?F.push(y):u.set(C,[y])}}return u}function f2(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Kv(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d2(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Jv(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=Bc(u.href),y=i.querySelector(Mu(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Vh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=y,Fe(y);return}y=i.ownerDocument||i,u=c2(u),(g=za.get(g))&&Md(u,g),y=y.createElement("link"),Fe(y);var C=y;C._p=new Promise(function(F,oe){C.onload=F,C.onerror=oe}),yr(y,"link",u),s.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Vh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Ud=0;function Xv(t,i){return t.stylesheets&&t.count===0&&Wh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&Wh(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+i);0<t.imgBytes&&Ud===0&&(Ud=62500*Lv());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wh(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Ud?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yh=null;function Wh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yh=new Map,i.forEach(Qv,t),Yh=null,Vh.call(t))}function Qv(t,i){if(!(i.state.loading&4)){var s=Yh.get(t);if(s)var u=s.get(null);else{s=new Map,Yh.set(t,s);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),u=C)}u&&s.set(null,u)}g=i.instance,C=g.getAttribute("data-precedence"),y=s.get(C)||u,y===u&&s.set(null,g),s.set(C,g),this.count++,u=Vh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),i.state.loading|=4}}var Uu={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Zv(t,i,s,u,g,y,C,F,oe){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function p2(t,i,s,u,g,y,C,F,oe,Ee,De,Ie){return t=new Zv(t,i,s,C,oe,Ee,De,Ie,F),i=1,y===!0&&(i|=24),y=nr(3,null,null,i),t.current=y,y.stateNode=t,i=qo(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:s,cache:i},Je(y),t}function g2(t){return t?(t=Yi,t):Yi}function m2(t,i,s,u,g,y){g=g2(g),u.context===null?u.context=g:u.pendingContext=g,u=Dt(i),u.payload={element:s},y=y===void 0?null:y,y!==null&&(u.callback=y),s=nn(t,u,i),s!==null&&(sa(s,t,i),Cn(s,t,i))}function v2(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Fd(t,i){v2(t,i),(t=t.alternate)&&v2(t,i)}function y2(t){if(t.tag===13||t.tag===31){var i=os(t,67108864);i!==null&&sa(i,t,67108864),Fd(t,67108864)}}function b2(t){if(t.tag===13||t.tag===31){var i=ba();i=Un(i);var s=os(t,i);s!==null&&sa(s,t,i),Fd(t,i)}}var Kh=!0;function ey(t,i,s,u){var g=ee.T;ee.T=null;var y=X.p;try{X.p=2,Id(t,i,s,u)}finally{X.p=y,ee.T=g}}function ty(t,i,s,u){var g=ee.T;ee.T=null;var y=X.p;try{X.p=8,Id(t,i,s,u)}finally{X.p=y,ee.T=g}}function Id(t,i,s,u){if(Kh){var g=zd(u);if(g===null)Ed(t,i,u,Jh,s),_2(t,u);else if(iy(g,t,i,s,u))u.stopPropagation();else if(_2(t,u),i&4&&-1<ny.indexOf(t)){for(;g!==null;){var y=ne(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=mt(y.pendingLanes);if(C!==0){var F=y;for(F.pendingLanes|=2,F.entangledLanes|=2;C;){var oe=1<<31-on(C);F.entanglements[1]|=oe,C&=~oe}Us(y),(Ln&6)===0&&(Oh=Wt()+500,Ru(0))}}break;case 31:case 13:F=os(y,2),F!==null&&sa(F,y,2),Dh(),Fd(y,2)}if(y=zd(u),y===null&&Ed(t,i,u,Jh,s),y===g)break;g=y}g!==null&&u.stopPropagation()}else Ed(t,i,u,null,s)}}function zd(t){return t=Gs(t),Hd(t)}var Jh=null;function Hd(t){if(Jh=null,t=Rr(t),t!==null){var i=l(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jh=t,null}function w2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case zt:return 2;case sn:return 8;case tn:case ft:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var $d=!1,Xo=null,Qo=null,Zo=null,Fu=new Map,Iu=new Map,el=[],ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _2(t,i){switch(t){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(i.pointerId)}}function zu(t,i,s,u,g,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},i!==null&&(i=ne(i),i!==null&&y2(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),t)}function iy(t,i,s,u,g){switch(i){case"focusin":return Xo=zu(Xo,t,i,s,u,g),!0;case"dragenter":return Qo=zu(Qo,t,i,s,u,g),!0;case"mouseover":return Zo=zu(Zo,t,i,s,u,g),!0;case"pointerover":var y=g.pointerId;return Fu.set(y,zu(Fu.get(y)||null,t,i,s,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Iu.set(y,zu(Iu.get(y)||null,t,i,s,u,g)),!0}return!1}function x2(t){var i=Rr(t.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,Aa(t.priority,function(){b2(s)});return}}else if(i===31){if(i=h(s),i!==null){t.blockedOn=i,Aa(t.priority,function(){b2(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);$a=u,s.target.dispatchEvent(u),$a=null}else return i=ne(s),i!==null&&y2(i),t.blockedOn=s,!1;i.shift()}return!0}function S2(t,i,s){Xh(t)&&s.delete(i)}function ry(){$d=!1,Xo!==null&&Xh(Xo)&&(Xo=null),Qo!==null&&Xh(Qo)&&(Qo=null),Zo!==null&&Xh(Zo)&&(Zo=null),Fu.forEach(S2),Iu.forEach(S2)}function Qh(t,i){t.blockedOn===i&&(t.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ry)))}var Zh=null;function N2(t){Zh!==t&&(Zh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zh===t&&(Zh=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],g=t[i+2];if(typeof u!="function"){if(Hd(u||s)===null)continue;break}var y=ne(s);y!==null&&(t.splice(i,3),i-=3,zf(y,{pending:!0,data:g,method:s.method,action:u},u,g))}}))}function qc(t){function i(oe){return Qh(oe,t)}Xo!==null&&Qh(Xo,t),Qo!==null&&Qh(Qo,t),Zo!==null&&Qh(Zo,t),Fu.forEach(i),Iu.forEach(i);for(var s=0;s<el.length;s++){var u=el[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<el.length&&(s=el[0],s.blockedOn===null);)x2(s),s.blockedOn===null&&el.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var g=s[u],y=s[u+1],C=g[Rn]||null;if(typeof y=="function")C||N2(s);else if(C){var F=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[Rn]||null)F=C.formAction;else if(Hd(g)!==null)continue}else F=C.action;typeof F=="function"?s[u+1]=F:(s.splice(u,3),u-=3),N2(s)}}}function A2(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function Gd(t){this._internalRoot=t}ef.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=ba();m2(s,u,t,i,null,null)},ef.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;m2(t.current,2,null,t,null,null),Dh(),i[vi]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var i=mi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<el.length&&i!==0&&i<el[s].priority;s++);el.splice(s,0,t),s===0&&x2(t)}};var j2=e.version;if(j2!=="19.2.1")throw Error(a(527,j2,"19.2.1"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var ay={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{rn=tf.inject(ay),Et=tf}catch{}}return $u.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,u="",g=Rp,y=Dp,C=Pp;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=p2(t,1,!1,null,null,s,u,null,g,y,C,A2),t[vi]=i.current,jd(t),new Gd(i)},$u.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var u=!1,g="",y=Rp,C=Dp,F=Pp,oe=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(F=s.onRecoverableError),s.formState!==void 0&&(oe=s.formState)),i=p2(t,1,!0,i,s??null,u,g,oe,y,C,F,A2),i.context=g2(null),s=i.current,u=ba(),u=Un(u),g=Dt(u),g.callback=null,nn(s,g,u),s=u,i.current.lanes=s,bt(i,s),Us(i),t[vi]=i.current,jd(t),new ef(i)},$u.version="19.2.1",$u}var B2;function gy(){if(B2)return Wd.exports;B2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=py(),Wd.exports}var my=gy();const qm=.125;function oh(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?null:n}function vy(r){const e=[];return r.forEach(n=>{const a=n.quantity||1;for(let o=0;o<a;o++)e.push({...n,instanceIndex:o,originalId:n.id,uniqueId:`${n.id}-${o}`})}),e}function yy(r){const e=[];return r.forEach(n=>{const a=n.quantity||1;for(let o=0;o<a;o++)e.push({...n,instanceIndex:o,originalId:n.id,uniqueId:`${n.id}-${o}`})}),e}function by(r,e,n){const a=new Set,o=[],l=[...e].sort((j,S)=>{const T=j.effectiveWidth*j.effectiveLength,N=S.effectiveWidth*S.effectiveLength;if(Math.abs(N-T)>.1)return N-T;const P=Math.max(j.effectiveWidth,j.effectiveLength);return Math.max(S.effectiveWidth,S.effectiveLength)-P});let c=[{x:0,y:0,width:r.length,height:r.width}];const h=(j,S,T="any")=>{let N=null,P=!1,D=1/0,U=1/0,le=1/0;const ce=T==="any"||T==="length",te=T==="any"||T==="width";for(const $ of c){const Y=$.x<.001,ge=$.y<.001,M=$.width-(Y?n:0),H=$.height-(ge?n:0),se=$.y*1e3+$.x;if(ce&&j<=M+.001&&S<=H+.001){const ae=M-j,we=H-S,ee=Math.min(ae,we),X=Math.max(ae,we);(ee<D||ee===D&&X<U||ee===D&&X===U&&se<le)&&(D=ee,U=X,le=se,N=$,P=!1)}if(te&&S<=M+.001&&j<=H+.001){const ae=M-S,we=H-j,ee=Math.min(ae,we),X=Math.max(ae,we);(ee<D||ee===D&&X<U||ee===D&&X===U&&se<le)&&(D=ee,U=X,le=se,N=$,P=!0)}}return N?{rect:N,rotated:P}:null},d=()=>{c=c.filter((j,S)=>{for(let T=0;T<c.length;T++){if(S===T)continue;const N=c[T];if(j.x>=N.x-.01&&j.y>=N.y-.01&&j.x+j.width<=N.x+N.width+.01&&j.y+j.height<=N.y+N.height+.01&&(j.width<N.width-.01||j.height<N.height-.01))return!1}return!0})},m=()=>{let j=!0;for(;j;){j=!1;for(let S=0;S<c.length&&!j;S++)for(let T=S+1;T<c.length&&!j;T++){const N=c[S],P=c[T];Math.abs(N.y-P.y)<.01&&Math.abs(N.height-P.height)<.01&&(Math.abs(N.x+N.width-P.x)<.01?(N.width+=P.width,c.splice(T,1),j=!0):Math.abs(P.x+P.width-N.x)<.01&&(N.x=P.x,N.width+=P.width,c.splice(T,1),j=!0)),Math.abs(N.x-P.x)<.01&&Math.abs(N.width-P.width)<.01&&(Math.abs(N.y+N.height-P.y)<.01?(N.height+=P.height,c.splice(T,1),j=!0):Math.abs(P.y+P.height-N.y)<.01&&(N.y=P.y,N.height+=P.height,c.splice(T,1),j=!0))}}},b=(j,S,T,N)=>{const P=[];for(const D of c){const U=Math.max(D.x,j)<Math.min(D.x+D.width,j+T+n),le=Math.max(D.y,S)<Math.min(D.y+D.height,S+N+n);if(!U||!le){P.push(D);continue}if(D.x<j-.01){const $=j-D.x-n;$>1&&P.push({x:D.x,y:D.y,width:$,height:D.height})}const ce=j+T+n;if(D.x+D.width>ce+.01){const $=Math.max(D.x,ce),Y=D.x+D.width-$;Y>1&&P.push({x:$,y:D.y,width:Y,height:D.height})}if(D.y<S-.01){const $=S-D.y-n;$>1&&P.push({x:D.x,y:D.y,width:D.width,height:$})}const te=S+N+n;if(D.y+D.height>te+.01){const $=Math.max(D.y,te),Y=D.y+D.height-$;Y>1&&P.push({x:D.x,y:$,width:D.width,height:Y})}}c=P};for(const j of l){if(a.has(j.uniqueId))continue;const S=j.effectiveLength,T=j.effectiveWidth,N=j.grainDirection||"any",P=h(S,T,N);if(P){const{rect:D,rotated:U}=P,le=U?T:S,ce=U?S:T,te=D.x<.001,$=D.y<.001,Y=te?n:0,ge=$?n:0,M=D.x+Y,H=D.y+ge;o.push({...j,x:M,y:H,placedLength:le,placedWidth:ce,rotated:U}),a.add(j.uniqueId),b(M,H,le,ce),d(),m(),c.sort((se,ae)=>Math.abs(se.y-ae.y)>.01?se.y-ae.y:se.x-ae.x)}}const A=[],k=new Map;for(const j of o){const S=j.y.toFixed(3);k.has(S)||k.set(S,{y:j.y,width:j.placedWidth,length:r.length,pieces:[]});const T=k.get(S);T.width=Math.max(T.width,j.placedWidth),T.pieces.push(j)}for(const[,j]of k)A.push(j);A.sort((j,S)=>j.y-S.y);const w=l.filter(j=>!a.has(j.uniqueId));return{strips:A,unplacedPieces:w,placedPieceIds:a}}function wy(r){const e=[];for(const n of r)for(const a of n.pieces)e.push({cutPieceId:a.originalId,cutPieceName:a.name,cutPieceIndex:a.instanceIndex,species:a.species,x:a.x,y:a.y,length:a.placedLength,width:a.placedWidth,rotated:a.rotated||!1});return e}function xf(r,e){return`${r}|${e||"unspecified"}`}function Um(r){const[e,n]=r.split("|");return{thickness:e,species:n==="unspecified"?null:n}}function su(r,e,n=qm){const a=[],o=[],l={};vy(r).forEach(P=>{const D=xf(P.thickness,P.species);l[D]||(l[D]=[]),l[D].push({...P,used:!1})});const c=yy(e),h={};c.forEach(P=>{const D=xf(P.thickness,P.species);h[D]||(h[D]=[]),h[D].push({...P,effectiveWidth:P.width,effectiveLength:P.length})});let d=[];for(const P in h){const{thickness:D,species:U}=Um(P),le=h[P],ce=l[P]||[];if(ce.length===0){const $=U?` (${U})`:"";a.push(`No stock boards with thickness ${D}${$} available`),d=d.concat(le);continue}le.sort(($,Y)=>Y.length*Y.width-$.length*$.width);let te=[...le];for(const $ of ce){if(te.length===0)break;const{strips:Y,unplacedPieces:ge}=by($,te,n);if(Y.length>0&&Y.some(M=>M.pieces.length>0)){$.used=!0;const M=wy(Y),H=$.length*$.width,se=M.reduce((ae,we)=>ae+we.length*we.width,0);o.push({stockBoardId:$.originalId,stockBoardName:$.name,stockBoardIndex:$.instanceIndex,uniqueId:$.uniqueId,thickness:$.thickness,species:$.species,length:$.length,width:$.width,cuts:M,strips:Y,boardArea:H,cutsArea:se}),te=ge}}if(te.length>0){const $=U?` (${U})`:"";te.forEach(Y=>{a.push(`Could not fit "${Y.name}" (${Y.length}"  ${Y.width}") on any ${D}${$} stock`)}),d=d.concat(te)}}let m=0,b=0;o.forEach(P=>{m+=P.boardArea,b+=P.cutsArea});const A=r.length>0&&oh(r[0].thickness)||1,k=m*A/144,w=b*A/144,j=k-w,S=m>0?b/m*100:0,T=o.length,N=Object.values(l).flat().length;return{assignments:o,waste:Math.max(0,j),efficiency:Math.min(100,S),warnings:a,unplacedPieces:d,boardsUsed:T,totalStockBoards:N,generatedAt:new Date().toISOString()}}function tp(r){return r.reduce((e,n)=>{const a=oh(n.thickness)||1,o=n.quantity||1;return e+n.length*n.width*a*o/144},0)}function _y(r){const e=new Set(r.map(n=>n.thickness));return Array.from(e)}function xy(r){const e=new Set(r.map(n=>n.thickness));return Array.from(e)}function Fm(r,e,n=qm){if(!r||r.length===0)return{boardsNeeded:0,boards:[],cutPlan:null,boardsByTemplate:[]};const a=Array.isArray(e)?e:[e];if(a.length===0)return{boardsNeeded:0,boards:[],cutPlan:null,boardsByTemplate:[]};const o={};a.forEach(k=>{const w=xf(k.thickness||"4/4",k.species);o[w]||(o[w]=[]),o[w].push(k)});const l={};r.forEach(k=>{const w=xf(k.thickness||"4/4",k.species);l[w]||(l[w]=[]),l[w].push(k)});const c=[],h=[];let d=Date.now();for(const k in l){const{species:w}=Um(k),j=l[k],S=o[k]||[];if(S.length===0)continue;let T;S.length===1?T=Im(j,S[0],n):T=Sy(j,S,n),T&&T.boards&&(T.boards.forEach(N=>{N.id=d++,N.species=w,c.push(N)}),T.boardsByTemplate&&h.push(...T.boardsByTemplate))}const m=su(c,r,n),b=[],A=new Map;return c.forEach(k=>{const w=`${k.length}|${k.width}|${k.thickness}|${k.species||""}`;if(A.has(w))A.get(w).quantity+=1,A.get(w).boardFeet+=k.boardFeet;else{const j={...k,quantity:1,boardFeetPerPiece:k.boardFeet};A.set(w,j),b.push(j)}}),{boardsNeeded:b.reduce((k,w)=>k+w.quantity,0),boards:b,cutPlan:m,boardsByTemplate:h}}function Sy(r,e,n){const a=oh(e[0].thickness)||1,o=tp(r),l=e.reduce((h,d)=>h+d.length*d.width*a/144,0)/e.length,c=Math.max(1,Math.ceil(o*1.3/l));for(let h=1;h<=c*3;h++){const d=Ny(r,e,h,n);if(d)return d}return Im(r,e[0],n)}function Ny(r,e,n,a){const o=Ay(e.length,n);let l=null,c=0;for(const h of o){const d=[],m=[];let b=Date.now();if(e.forEach((k,w)=>{const j=h[w];m.push({template:k,count:j});const S=oh(k.thickness)||1,T=k.length*k.width*S/144;for(let N=0;N<j;N++)d.push({id:b++,name:`${k.name||"Board"} ${N+1}`,length:k.length,width:k.width,thickness:k.thickness,thicknessInches:S,species:k.species,quantity:1,boardFeet:T,templateIndex:w})}),d.length===0)continue;const A=su(d,fittablePieces,a);A.unplacedPieces.length===0&&A.efficiency>c&&(c=A.efficiency,l={boardsNeeded:d.length,boards:d,cutPlan:A,boardsByTemplate:m.filter(k=>k.count>0)})}return l}function Ay(r,e){const n=[];function a(o,l,c){if(c===r-1){l[c]=o,n.push([...l]);return}for(let h=0;h<=o;h++)l[c]=h,a(o-h,l,c+1)}return a(e,new Array(r).fill(0),0),n}function Im(r,e,n){if(!r||r.length===0)return{boardsNeeded:0,boards:[],cutPlan:null};const a=e.length-n,o=e.width-n,l=r.filter(w=>{const j=w.length,S=w.width,T=j<=a+.001&&S<=o+.001,N=S<=a+.001&&j<=o+.001;return T||N});if(l.length===0)return{boardsNeeded:0,boards:[],cutPlan:null};const c=tp(l),h=oh(e.thickness)||1,d=e.length*e.width*h/144,m=Math.max(1,Math.ceil(c*1.2/d));let b=1,A=Math.max(m*2,10),k=null;for(;b<=A;){const w=Math.floor((b+A)/2),j=[];for(let T=0;T<w;T++)j.push({id:Date.now()+T,name:`${e.name||"Board"} ${T+1}`,length:e.length,width:e.width,thickness:e.thickness,thicknessInches:h,species:e.species,quantity:1,boardFeet:d});const S=su(j,l,n);S.unplacedPieces.length===0?(k={boardsNeeded:w,boards:j,cutPlan:S,boardsByTemplate:[{template:e,count:w}]},A=w-1):b=w+1}if(!k){const w=[];for(let S=0;S<A+1;S++)w.push({id:Date.now()+S,name:`${e.name||"Board"} ${S+1}`,length:e.length,width:e.width,thickness:e.thickness,thicknessInches:h,species:e.species,quantity:1,boardFeet:d});const j=su(w,l,n);k={boardsNeeded:A+1,boards:w,cutPlan:j,boardsByTemplate:[{template:e,count:A+1}]}}return k}const jy="modulepreload",Ey=function(r){return"/"+r},M2={},Qd=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");o=d(n.map(m=>{if(m=Ey(m),m in M2)return;M2[m]=!0;const b=m.endsWith(".css"),A=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${A}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":jy,b||(k.as="script"),k.crossOrigin="",k.href=m,h&&k.setAttribute("nonce",h),document.head.appendChild(k),b)return new Promise((w,j)=>{k.addEventListener("load",w),k.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function qn(r){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(r)}var bs=Uint8Array,Na=Uint16Array,np=Int32Array,ip=new bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rp=new bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q2=new bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zm=function(r,e){for(var n=new Na(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var o=new np(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)o[l]=l-n[a]<<5|a;return{b:n,r:o}},Hm=zm(ip,2),ky=Hm.b,C0=Hm.r;ky[28]=258,C0[258]=28;var Cy=zm(rp,0),U2=Cy.r,T0=new Na(32768);for(var ii=0;ii<32768;++ii){var nl=(ii&43690)>>1|(ii&21845)<<1;nl=(nl&52428)>>2|(nl&13107)<<2,nl=(nl&61680)>>4|(nl&3855)<<4,T0[ii]=((nl&65280)>>8|(nl&255)<<8)>>1}var Ku=(function(r,e,n){for(var a=r.length,o=0,l=new Na(e);o<a;++o)r[o]&&++l[r[o]-1];var c=new Na(e);for(o=1;o<e;++o)c[o]=c[o-1]+l[o-1]<<1;var h;if(n){h=new Na(1<<e);var d=15-e;for(o=0;o<a;++o)if(r[o])for(var m=o<<4|r[o],b=e-r[o],A=c[r[o]-1]++<<b,k=A|(1<<b)-1;A<=k;++A)h[T0[A]>>d]=m}else for(h=new Na(a),o=0;o<a;++o)r[o]&&(h[o]=T0[c[r[o]-1]++]>>15-r[o]);return h}),Vl=new bs(288);for(var ii=0;ii<144;++ii)Vl[ii]=8;for(var ii=144;ii<256;++ii)Vl[ii]=9;for(var ii=256;ii<280;++ii)Vl[ii]=7;for(var ii=280;ii<288;++ii)Vl[ii]=8;var Sf=new bs(32);for(var ii=0;ii<32;++ii)Sf[ii]=5;var Ty=Ku(Vl,9,0),Ly=Ku(Sf,5,0),$m=function(r){return(r+7)/8|0},Oy=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new bs(r.subarray(e,n))},vo=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},Gu=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},Zd=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var o=n.length,l=n.slice();if(!o)return{t:Vm,l:0};if(o==1){var c=new bs(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(le,ce){return le.f-ce.f}),n.push({s:-1,f:25001});var h=n[0],d=n[1],m=0,b=1,A=2;for(n[0]={s:-1,f:h.f+d.f,l:h,r:d};b!=o-1;)h=n[n[m].f<n[A].f?m++:A++],d=n[m!=b&&n[m].f<n[A].f?m++:A++],n[b++]={s:-1,f:h.f+d.f,l:h,r:d};for(var k=l[0].s,a=1;a<o;++a)l[a].s>k&&(k=l[a].s);var w=new Na(k+1),j=L0(n[b-1],w,0);if(j>e){var a=0,S=0,T=j-e,N=1<<T;for(l.sort(function(ce,te){return w[te.s]-w[ce.s]||ce.f-te.f});a<o;++a){var P=l[a].s;if(w[P]>e)S+=N-(1<<j-w[P]),w[P]=e;else break}for(S>>=T;S>0;){var D=l[a].s;w[D]<e?S-=1<<e-w[D]++-1:++a}for(;a>=0&&S;--a){var U=l[a].s;w[U]==e&&(--w[U],++S)}j=e}return{t:new bs(w),l:j}},L0=function(r,e,n){return r.s==-1?Math.max(L0(r.l,e,n+1),L0(r.r,e,n+1)):e[r.s]=n},F2=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new Na(++e),a=0,o=r[0],l=1,c=function(d){n[a++]=d},h=1;h<=e;++h)if(r[h]==o&&h!=e)++l;else{if(!o&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(o),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(o);l=1,o=r[h]}return{c:n.subarray(0,a),n:e}},Vu=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Gm=function(r,e,n){var a=n.length,o=$m(e+2);r[o]=a&255,r[o+1]=a>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var l=0;l<a;++l)r[o+l+4]=n[l];return(o+4+a)*8},I2=function(r,e,n,a,o,l,c,h,d,m,b){vo(e,b++,n),++o[256];for(var A=Zd(o,15),k=A.t,w=A.l,j=Zd(l,15),S=j.t,T=j.l,N=F2(k),P=N.c,D=N.n,U=F2(S),le=U.c,ce=U.n,te=new Na(19),$=0;$<P.length;++$)++te[P[$]&31];for(var $=0;$<le.length;++$)++te[le[$]&31];for(var Y=Zd(te,7),ge=Y.t,M=Y.l,H=19;H>4&&!ge[q2[H-1]];--H);var se=m+5<<3,ae=Vu(o,Vl)+Vu(l,Sf)+c,we=Vu(o,k)+Vu(l,S)+c+14+3*H+Vu(te,ge)+2*te[16]+3*te[17]+7*te[18];if(d>=0&&se<=ae&&se<=we)return Gm(e,b,r.subarray(d,d+m));var ee,X,re,xe;if(vo(e,b,1+(we<ae)),b+=2,we<ae){ee=Ku(k,w,0),X=k,re=Ku(S,T,0),xe=S;var Le=Ku(ge,M,0);vo(e,b,D-257),vo(e,b+5,ce-1),vo(e,b+10,H-4),b+=14;for(var $=0;$<H;++$)vo(e,b+3*$,ge[q2[$]]);b+=3*H;for(var G=[P,le],L=0;L<2;++L)for(var I=G[L],$=0;$<I.length;++$){var W=I[$]&31;vo(e,b,Le[W]),b+=ge[W],W>15&&(vo(e,b,I[$]>>5&127),b+=I[$]>>12)}}else ee=Ty,X=Vl,re=Ly,xe=Sf;for(var $=0;$<h;++$){var ie=a[$];if(ie>255){var W=ie>>18&31;Gu(e,b,ee[W+257]),b+=X[W+257],W>7&&(vo(e,b,ie>>23&31),b+=ip[W]);var ue=ie&31;Gu(e,b,re[ue]),b+=xe[ue],ue>3&&(Gu(e,b,ie>>5&8191),b+=rp[ue])}else Gu(e,b,ee[ie]),b+=X[ie]}return Gu(e,b,ee[256]),b+X[256]},Ry=new np([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vm=new bs(0),Dy=function(r,e,n,a,o,l){var c=l.z||r.length,h=new bs(a+c+5*(1+Math.ceil(c/7e3))+o),d=h.subarray(a,h.length-o),m=l.l,b=(l.r||0)&7;if(e){b&&(d[0]=l.r>>3);for(var A=Ry[e-1],k=A>>13,w=A&8191,j=(1<<n)-1,S=l.p||new Na(32768),T=l.h||new Na(j+1),N=Math.ceil(n/3),P=2*N,D=function(it){return(r[it]^r[it+1]<<N^r[it+2]<<P)&j},U=new np(25e3),le=new Na(288),ce=new Na(32),te=0,$=0,Y=l.i||0,ge=0,M=l.w||0,H=0;Y+2<c;++Y){var se=D(Y),ae=Y&32767,we=T[se];if(S[ae]=we,T[se]=ae,M<=Y){var ee=c-Y;if((te>7e3||ge>24576)&&(ee>423||!m)){b=I2(r,d,0,U,le,ce,$,ge,H,Y-H,b),ge=te=$=0,H=Y;for(var X=0;X<286;++X)le[X]=0;for(var X=0;X<30;++X)ce[X]=0}var re=2,xe=0,Le=w,G=ae-we&32767;if(ee>2&&se==D(Y-G))for(var L=Math.min(k,ee)-1,I=Math.min(32767,Y),W=Math.min(258,ee);G<=I&&--Le&&ae!=we;){if(r[Y+re]==r[Y+re-G]){for(var ie=0;ie<W&&r[Y+ie]==r[Y+ie-G];++ie);if(ie>re){if(re=ie,xe=G,ie>L)break;for(var ue=Math.min(G,ie-2),pe=0,X=0;X<ue;++X){var ke=Y-G+X&32767,je=S[ke],Pe=ke-je&32767;Pe>pe&&(pe=Pe,we=ke)}}}ae=we,we=S[ae],G+=ae-we&32767}if(xe){U[ge++]=268435456|C0[re]<<18|U2[xe];var Ve=C0[re]&31,Ze=U2[xe]&31;$+=ip[Ve]+rp[Ze],++le[257+Ve],++ce[Ze],M=Y+re,++te}else U[ge++]=r[Y],++le[r[Y]]}}for(Y=Math.max(Y,M);Y<c;++Y)U[ge++]=r[Y],++le[r[Y]];b=I2(r,d,m,U,le,ce,$,ge,H,Y-H,b),m||(l.r=b&7|d[b/8|0]<<3,b-=7,l.h=T,l.p=S,l.i=Y,l.w=M)}else{for(var Y=l.w||0;Y<c+m;Y+=65535){var Xe=Y+65535;Xe>=c&&(d[b/8|0]=m,Xe=c),b=Gm(d,b+1,r.subarray(Y,Xe))}l.i=c}return Oy(h,0,a+$m(b)+o)},Ym=function(){var r=1,e=0;return{p:function(n){for(var a=r,o=e,l=n.length|0,c=0;c!=l;){for(var h=Math.min(c+2655,l);c<h;++c)o+=a+=n[c];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}r=a,e=o},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Py=function(r,e,n,a,o){if(!o&&(o={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),c=new bs(l.length+r.length);c.set(l),c.set(r,l.length),r=c,o.w=l.length}return Dy(r,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,o)},Wm=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},By=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var o=Ym();o.p(e.dictionary),Wm(r,2,o.d())}};function O0(r,e){e||(e={});var n=Ym();n.p(r);var a=Py(r,e,e.dictionary?6:2,4);return By(a,e),Wm(a,a.length-4,n.d()),a}var My=typeof TextDecoder<"u"&&new TextDecoder,qy=0;try{My.decode(Vm,{stream:!0}),qy=1}catch{}function Uy(r){if(Array.isArray(r))return r}function Fy(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,o,l,c,h=[],d=!0,m=!1;try{if(l=(n=n.call(r)).next,e!==0)for(;!(d=(a=l.call(n)).done)&&(h.push(a.value),h.length!==e);d=!0);}catch(b){m=!0,o=b}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw o}}return h}}function z2(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=Array(e);n<e;n++)a[n]=r[n];return a}function Iy(r,e){if(r){if(typeof r=="string")return z2(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z2(r,e):void 0}}function zy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2(r,e){return Uy(r)||Fy(r,e)||Iy(r,e)||zy()}function $2(r,e="utf8"){return new TextDecoder(e).decode(r)}const Hy=new TextEncoder;function $y(r){return Hy.encode(r)}const Gy=1024*8,Vy=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ap{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Gy,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const o=n.offset?n.offset>>>0:0,l=e.byteLength-o;let c=o;(ArrayBuffer.isView(e)||e instanceof ap)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+o),e=e.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,o=new Uint8Array(a);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=e0[n].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,l=this.buffer.slice(o,o+a);if(this.littleEndian===Vy&&n!=="uint8"&&n!=="int8"){const h=new Uint8Array(this.buffer.slice(o,o+a));h.reverse();const d=new e0[n](h.buffer);return this.offset+=a,d.reverse(),d}const c=new e0[n](l);return this.offset+=a,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return $2(this.readBytes(e))}decodeText(e=1,n="utf8"){return $2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes($y(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ou(r){let e=r.length;for(;--e>=0;)r[e]=0}const Yy=3,Wy=258,Km=29,Ky=256,Jy=Ky+1+Km,Jm=30,Xy=512,Qy=new Array((Jy+2)*2);ou(Qy);const Zy=new Array(Jm*2);ou(Zy);const eb=new Array(Xy);ou(eb);const tb=new Array(Wy-Yy+1);ou(tb);const nb=new Array(Km);ou(nb);const ib=new Array(Jm);ou(ib);const rb=(r,e,n,a)=>{let o=r&65535|0,l=r>>>16&65535|0,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do o=o+e[a++]|0,l=l+o|0;while(--c);o%=65521,l%=65521}return o|l<<16|0};var R0=rb;const ab=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},sb=new Uint32Array(ab()),ob=(r,e,n,a)=>{const o=sb,l=a+n;r^=-1;for(let c=a;c<l;c++)r=r>>>8^o[(r^e[c])&255];return r^-1};var Fs=ob,D0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lb=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var cb=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)lb(n,a)&&(r[a]=n[a])}}return r},ub=r=>{let e=0;for(let a=0,o=r.length;a<o;a++)e+=r[a].length;const n=new Uint8Array(e);for(let a=0,o=0,l=r.length;a<l;a++){let c=r[a];n.set(c,o),o+=c.length}return n},Qm={assign:cb,flattenChunks:ub};let Zm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zm=!1}const Zu=new Uint8Array(256);for(let r=0;r<256;r++)Zu[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Zu[254]=Zu[254]=1;var hb=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,a,o,l,c=r.length,h=0;for(o=0;o<c;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<c&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(h),l=0,o=0;l<h;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<c&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const fb=(r,e)=>{if(e<65534&&r.subarray&&Zm)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(r[a]);return n};var db=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let a,o;const l=new Array(n*2);for(o=0,a=0;a<n;){let c=r[a++];if(c<128){l[o++]=c;continue}let h=Zu[c];if(h>4){l[o++]=65533,a+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&a<n;)c=c<<6|r[a++]&63,h--;if(h>1){l[o++]=65533;continue}c<65536?l[o++]=c:(c-=65536,l[o++]=55296|c>>10&1023,l[o++]=56320|c&1023)}return fb(l,o)},pb=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Zu[r[n]]>e?n:e},P0={string2buf:hb,buf2string:db,utf8border:pb};function gb(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mb=gb;const nf=16209,vb=16191;var yb=function(e,n){let a,o,l,c,h,d,m,b,A,k,w,j,S,T,N,P,D,U,le,ce,te,$,Y,ge;const M=e.state;a=e.next_in,Y=e.input,o=a+(e.avail_in-5),l=e.next_out,ge=e.output,c=l-(n-e.avail_out),h=l+(e.avail_out-257),d=M.dmax,m=M.wsize,b=M.whave,A=M.wnext,k=M.window,w=M.hold,j=M.bits,S=M.lencode,T=M.distcode,N=(1<<M.lenbits)-1,P=(1<<M.distbits)-1;e:do{j<15&&(w+=Y[a++]<<j,j+=8,w+=Y[a++]<<j,j+=8),D=S[w&N];t:for(;;){if(U=D>>>24,w>>>=U,j-=U,U=D>>>16&255,U===0)ge[l++]=D&65535;else if(U&16){le=D&65535,U&=15,U&&(j<U&&(w+=Y[a++]<<j,j+=8),le+=w&(1<<U)-1,w>>>=U,j-=U),j<15&&(w+=Y[a++]<<j,j+=8,w+=Y[a++]<<j,j+=8),D=T[w&P];n:for(;;){if(U=D>>>24,w>>>=U,j-=U,U=D>>>16&255,U&16){if(ce=D&65535,U&=15,j<U&&(w+=Y[a++]<<j,j+=8,j<U&&(w+=Y[a++]<<j,j+=8)),ce+=w&(1<<U)-1,ce>d){e.msg="invalid distance too far back",M.mode=nf;break e}if(w>>>=U,j-=U,U=l-c,ce>U){if(U=ce-U,U>b&&M.sane){e.msg="invalid distance too far back",M.mode=nf;break e}if(te=0,$=k,A===0){if(te+=m-U,U<le){le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}}else if(A<U){if(te+=m+A-U,U-=A,U<le){le-=U;do ge[l++]=k[te++];while(--U);if(te=0,A<le){U=A,le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}}}else if(te+=A-U,U<le){le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}for(;le>2;)ge[l++]=$[te++],ge[l++]=$[te++],ge[l++]=$[te++],le-=3;le&&(ge[l++]=$[te++],le>1&&(ge[l++]=$[te++]))}else{te=l-ce;do ge[l++]=ge[te++],ge[l++]=ge[te++],ge[l++]=ge[te++],le-=3;while(le>2);le&&(ge[l++]=ge[te++],le>1&&(ge[l++]=ge[te++]))}}else if((U&64)===0){D=T[(D&65535)+(w&(1<<U)-1)];continue n}else{e.msg="invalid distance code",M.mode=nf;break e}break}}else if((U&64)===0){D=S[(D&65535)+(w&(1<<U)-1)];continue t}else if(U&32){M.mode=vb;break e}else{e.msg="invalid literal/length code",M.mode=nf;break e}break}}while(a<o&&l<h);le=j>>3,a-=le,j-=le<<3,w&=(1<<j)-1,e.next_in=a,e.next_out=l,e.avail_in=a<o?5+(o-a):5-(a-o),e.avail_out=l<h?257+(h-l):257-(l-h),M.hold=w,M.bits=j};const Uc=15,G2=852,V2=592,Y2=0,t0=1,W2=2,bb=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_b=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xb=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Sb=(r,e,n,a,o,l,c,h)=>{const d=h.bits;let m=0,b=0,A=0,k=0,w=0,j=0,S=0,T=0,N=0,P=0,D,U,le,ce,te,$=null,Y;const ge=new Uint16Array(Uc+1),M=new Uint16Array(Uc+1);let H=null,se,ae,we;for(m=0;m<=Uc;m++)ge[m]=0;for(b=0;b<a;b++)ge[e[n+b]]++;for(w=d,k=Uc;k>=1&&ge[k]===0;k--);if(w>k&&(w=k),k===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<k&&ge[A]===0;A++);for(w<A&&(w=A),T=1,m=1;m<=Uc;m++)if(T<<=1,T-=ge[m],T<0)return-1;if(T>0&&(r===Y2||k!==1))return-1;for(M[1]=0,m=1;m<Uc;m++)M[m+1]=M[m]+ge[m];for(b=0;b<a;b++)e[n+b]!==0&&(c[M[e[n+b]]++]=b);if(r===Y2?($=H=c,Y=20):r===t0?($=bb,H=wb,Y=257):($=_b,H=xb,Y=0),P=0,b=0,m=A,te=l,j=w,S=0,le=-1,N=1<<w,ce=N-1,r===t0&&N>G2||r===W2&&N>V2)return 1;for(;;){se=m-S,c[b]+1<Y?(ae=0,we=c[b]):c[b]>=Y?(ae=H[c[b]-Y],we=$[c[b]-Y]):(ae=96,we=0),D=1<<m-S,U=1<<j,A=U;do U-=D,o[te+(P>>S)+U]=se<<24|ae<<16|we|0;while(U!==0);for(D=1<<m-1;P&D;)D>>=1;if(D!==0?(P&=D-1,P+=D):P=0,b++,--ge[m]===0){if(m===k)break;m=e[n+c[b]]}if(m>w&&(P&ce)!==le){for(S===0&&(S=w),te+=A,j=m-S,T=1<<j;j+S<k&&(T-=ge[j+S],!(T<=0));)j++,T<<=1;if(N+=1<<j,r===t0&&N>G2||r===W2&&N>V2)return 1;le=P&ce,o[le]=w<<24|j<<16|te-l|0}}return P!==0&&(o[te+P]=m-S<<24|64<<16|0),h.bits=w,0};var Ju=Sb;const Nb=0,e5=1,t5=2,{Z_FINISH:K2,Z_BLOCK:Ab,Z_TREES:rf,Z_OK:Yl,Z_STREAM_END:jb,Z_NEED_DICT:Eb,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:n5,Z_MEM_ERROR:i5,Z_BUF_ERROR:kb,Z_DEFLATED:J2}=Xm,Tf=16180,X2=16181,Q2=16182,Z2=16183,eg=16184,tg=16185,ng=16186,ig=16187,rg=16188,ag=16189,Nf=16190,yo=16191,n0=16192,sg=16193,i0=16194,og=16195,lg=16196,cg=16197,ug=16198,af=16199,sf=16200,hg=16201,fg=16202,dg=16203,pg=16204,gg=16205,r0=16206,mg=16207,vg=16208,ci=16209,r5=16210,a5=16211,Cb=852,Tb=592,Lb=15,Ob=Lb,yg=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Rb(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wl=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Tf||e.mode>a5?1:0},s5=r=>{if(Wl(r))return Ha;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Tf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cb),e.distcode=e.distdyn=new Int32Array(Tb),e.sane=1,e.back=-1,Yl},o5=r=>{if(Wl(r))return Ha;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,s5(r)},l5=(r,e)=>{let n;if(Wl(r))return Ha;const a=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ha:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,o5(r))},c5=(r,e)=>{if(!r)return Ha;const n=new Rb;r.state=n,n.strm=r,n.window=null,n.mode=Tf;const a=l5(r,e);return a!==Yl&&(r.state=null),a},Db=r=>c5(r,Ob);let bg=!0,a0,s0;const Pb=r=>{if(bg){a0=new Int32Array(512),s0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Ju(e5,r.lens,0,288,a0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Ju(t5,r.lens,0,32,s0,0,r.work,{bits:5}),bg=!1}r.lencode=a0,r.lenbits=9,r.distcode=s0,r.distbits=5},u5=(r,e,n,a)=>{let o;const l=r.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>a&&(o=a),l.window.set(e.subarray(n-a,n-a+o),l.wnext),a-=o,a?(l.window.set(e.subarray(n-a,n),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},Bb=(r,e)=>{let n,a,o,l,c,h,d,m,b,A,k,w,j,S,T=0,N,P,D,U,le,ce,te,$;const Y=new Uint8Array(4);let ge,M;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wl(r)||!r.output||!r.input&&r.avail_in!==0)return Ha;n=r.state,n.mode===yo&&(n.mode=n0),c=r.next_out,o=r.output,d=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,m=n.hold,b=n.bits,A=h,k=d,$=Yl;e:for(;;)switch(n.mode){case Tf:if(n.wrap===0){n.mode=n0;break}for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&2&&m===35615){n.wbits===0&&(n.wbits=15),n.check=0,Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0),m=0,b=0,n.mode=X2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((m&255)<<8)+(m>>8))%31){r.msg="incorrect header check",n.mode=ci;break}if((m&15)!==J2){r.msg="unknown compression method",n.mode=ci;break}if(m>>>=4,b-=4,te=(m&15)+8,n.wbits===0&&(n.wbits=te),te>15||te>n.wbits){r.msg="invalid window size",n.mode=ci;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=m&512?ag:yo,m=0,b=0;break;case X2:for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.flags=m,(n.flags&255)!==J2){r.msg="unknown compression method",n.mode=ci;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=ci;break}n.head&&(n.head.text=m>>8&1),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0,n.mode=Q2;case Q2:for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.head&&(n.head.time=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,Y[2]=m>>>16&255,Y[3]=m>>>24&255,n.check=Fs(n.check,Y,4,0)),m=0,b=0,n.mode=Z2;case Z2:for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.head&&(n.head.xflags=m&255,n.head.os=m>>8),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0,n.mode=eg;case eg:if(n.flags&1024){for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0}else n.head&&(n.head.extra=null);n.mode=tg;case tg:if(n.flags&1024&&(w=n.length,w>h&&(w=h),w&&(n.head&&(te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(l,l+w),te)),n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,n.length-=w),n.length))break e;n.length=0,n.mode=ng;case ng:if(n.flags&2048){if(h===0)break e;w=0;do te=a[l+w++],n.head&&te&&n.length<65536&&(n.head.name+=String.fromCharCode(te));while(te&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ig;case ig:if(n.flags&4096){if(h===0)break e;w=0;do te=a[l+w++],n.head&&te&&n.length<65536&&(n.head.comment+=String.fromCharCode(te));while(te&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,te)break e}else n.head&&(n.head.comment=null);n.mode=rg;case rg:if(n.flags&512){for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&4&&m!==(n.check&65535)){r.msg="header crc mismatch",n.mode=ci;break}m=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=yo;break;case ag:for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}r.adler=n.check=yg(m),m=0,b=0,n.mode=Nf;case Nf:if(n.havedict===0)return r.next_out=c,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,Eb;r.adler=n.check=1,n.mode=yo;case yo:if(e===Ab||e===rf)break e;case n0:if(n.last){m>>>=b&7,b-=b&7,n.mode=r0;break}for(;b<3;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}switch(n.last=m&1,m>>>=1,b-=1,m&3){case 0:n.mode=sg;break;case 1:if(Pb(n),n.mode=af,e===rf){m>>>=2,b-=2;break e}break;case 2:n.mode=lg;break;case 3:r.msg="invalid block type",n.mode=ci}m>>>=2,b-=2;break;case sg:for(m>>>=b&7,b-=b&7;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if((m&65535)!==(m>>>16^65535)){r.msg="invalid stored block lengths",n.mode=ci;break}if(n.length=m&65535,m=0,b=0,n.mode=i0,e===rf)break e;case i0:n.mode=og;case og:if(w=n.length,w){if(w>h&&(w=h),w>d&&(w=d),w===0)break e;o.set(a.subarray(l,l+w),c),h-=w,l+=w,d-=w,c+=w,n.length-=w;break}n.mode=yo;break;case lg:for(;b<14;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.nlen=(m&31)+257,m>>>=5,b-=5,n.ndist=(m&31)+1,m>>>=5,b-=5,n.ncode=(m&15)+4,m>>>=4,b-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=ci;break}n.have=0,n.mode=cg;case cg:for(;n.have<n.ncode;){for(;b<3;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.lens[H[n.have++]]=m&7,m>>>=3,b-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ge={bits:n.lenbits},$=Ju(Nb,n.lens,0,19,n.lencode,0,n.work,ge),n.lenbits=ge.bits,$){r.msg="invalid code lengths set",n.mode=ci;break}n.have=0,n.mode=ug;case ug:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[m&(1<<n.lenbits)-1],N=T>>>24,P=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(D<16)m>>>=N,b-=N,n.lens[n.have++]=D;else{if(D===16){for(M=N+2;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(m>>>=N,b-=N,n.have===0){r.msg="invalid bit length repeat",n.mode=ci;break}te=n.lens[n.have-1],w=3+(m&3),m>>>=2,b-=2}else if(D===17){for(M=N+3;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=N,b-=N,te=0,w=3+(m&7),m>>>=3,b-=3}else{for(M=N+7;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=N,b-=N,te=0,w=11+(m&127),m>>>=7,b-=7}if(n.have+w>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=ci;break}for(;w--;)n.lens[n.have++]=te}}if(n.mode===ci)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=ci;break}if(n.lenbits=9,ge={bits:n.lenbits},$=Ju(e5,n.lens,0,n.nlen,n.lencode,0,n.work,ge),n.lenbits=ge.bits,$){r.msg="invalid literal/lengths set",n.mode=ci;break}if(n.distbits=6,n.distcode=n.distdyn,ge={bits:n.distbits},$=Ju(t5,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ge),n.distbits=ge.bits,$){r.msg="invalid distances set",n.mode=ci;break}if(n.mode=af,e===rf)break e;case af:n.mode=sf;case sf:if(h>=6&&d>=258){r.next_out=c,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,yb(r,k),c=r.next_out,o=r.output,d=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,m=n.hold,b=n.bits,n.mode===yo&&(n.back=-1);break}for(n.back=0;T=n.lencode[m&(1<<n.lenbits)-1],N=T>>>24,P=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(P&&(P&240)===0){for(U=N,le=P,ce=D;T=n.lencode[ce+((m&(1<<U+le)-1)>>U)],N=T>>>24,P=T>>>16&255,D=T&65535,!(U+N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=U,b-=U,n.back+=U}if(m>>>=N,b-=N,n.back+=N,n.length=D,P===0){n.mode=gg;break}if(P&32){n.back=-1,n.mode=yo;break}if(P&64){r.msg="invalid literal/length code",n.mode=ci;break}n.extra=P&15,n.mode=hg;case hg:if(n.extra){for(M=n.extra;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=fg;case fg:for(;T=n.distcode[m&(1<<n.distbits)-1],N=T>>>24,P=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if((P&240)===0){for(U=N,le=P,ce=D;T=n.distcode[ce+((m&(1<<U+le)-1)>>U)],N=T>>>24,P=T>>>16&255,D=T&65535,!(U+N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=U,b-=U,n.back+=U}if(m>>>=N,b-=N,n.back+=N,P&64){r.msg="invalid distance code",n.mode=ci;break}n.offset=D,n.extra=P&15,n.mode=dg;case dg:if(n.extra){for(M=n.extra;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=ci;break}n.mode=pg;case pg:if(d===0)break e;if(w=k-d,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=ci;break}w>n.wnext?(w-=n.wnext,j=n.wsize-w):j=n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=o,j=c-n.offset,w=n.length;w>d&&(w=d),d-=w,n.length-=w;do o[c++]=S[j++];while(--w);n.length===0&&(n.mode=sf);break;case gg:if(d===0)break e;o[c++]=n.length,d--,n.mode=sf;break;case r0:if(n.wrap){for(;b<32;){if(h===0)break e;h--,m|=a[l++]<<b,b+=8}if(k-=d,r.total_out+=k,n.total+=k,n.wrap&4&&k&&(r.adler=n.check=n.flags?Fs(n.check,o,k,c-k):R0(n.check,o,k,c-k)),k=d,n.wrap&4&&(n.flags?m:yg(m))!==n.check){r.msg="incorrect data check",n.mode=ci;break}m=0,b=0}n.mode=mg;case mg:if(n.wrap&&n.flags){for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&4&&m!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=ci;break}m=0,b=0}n.mode=vg;case vg:$=jb;break e;case ci:$=n5;break e;case r5:return i5;case a5:default:return Ha}return r.next_out=c,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,(n.wsize||k!==r.avail_out&&n.mode<ci&&(n.mode<r0||e!==K2))&&u5(r,r.output,r.next_out,k-r.avail_out),A-=r.avail_in,k-=r.avail_out,r.total_in+=A,r.total_out+=k,n.total+=k,n.wrap&4&&k&&(r.adler=n.check=n.flags?Fs(n.check,o,k,r.next_out-k):R0(n.check,o,k,r.next_out-k)),r.data_type=n.bits+(n.last?64:0)+(n.mode===yo?128:0)+(n.mode===af||n.mode===i0?256:0),(A===0&&k===0||e===K2)&&$===Yl&&($=kb),$},Mb=r=>{if(Wl(r))return Ha;let e=r.state;return e.window&&(e.window=null),r.state=null,Yl},qb=(r,e)=>{if(Wl(r))return Ha;const n=r.state;return(n.wrap&2)===0?Ha:(n.head=e,e.done=!1,Yl)},Ub=(r,e)=>{const n=e.length;let a,o,l;return Wl(r)||(a=r.state,a.wrap!==0&&a.mode!==Nf)?Ha:a.mode===Nf&&(o=1,o=R0(o,e,n,0),o!==a.check)?n5:(l=u5(r,e,n,n),l?(a.mode=r5,i5):(a.havedict=1,Yl))};var Fb=o5,Ib=l5,zb=s5,Hb=Db,$b=c5,Gb=Bb,Vb=Mb,Yb=qb,Wb=Ub,Kb="pako inflate (from Nodeca project)",wo={inflateReset:Fb,inflateReset2:Ib,inflateResetKeep:zb,inflateInit:Hb,inflateInit2:$b,inflate:Gb,inflateEnd:Vb,inflateGetHeader:Yb,inflateSetDictionary:Wb,inflateInfo:Kb};function Jb(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xb=Jb;const h5=Object.prototype.toString,{Z_NO_FLUSH:Qb,Z_FINISH:Zb,Z_OK:eh,Z_STREAM_END:o0,Z_NEED_DICT:l0,Z_STREAM_ERROR:ew,Z_DATA_ERROR:wg,Z_MEM_ERROR:tw}=Xm;function lh(r){this.options=Qm.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mb,this.strm.avail_out=0;let n=wo.inflateInit2(this.strm,e.windowBits);if(n!==eh)throw new Error(D0[n]);if(this.header=new Xb,wo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P0.string2buf(e.dictionary):h5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=wo.inflateSetDictionary(this.strm,e.dictionary),n!==eh)))throw new Error(D0[n])}lh.prototype.push=function(r,e){const n=this.strm,a=this.options.chunkSize,o=this.options.dictionary;let l,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?Zb:Qb,h5.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),l=wo.inflate(n,c),l===l0&&o&&(l=wo.inflateSetDictionary(n,o),l===eh?l=wo.inflate(n,c):l===wg&&(l=l0));n.avail_in>0&&l===o0&&n.state.wrap>0&&r[n.next_in]!==0;)wo.inflateReset(n),l=wo.inflate(n,c);switch(l){case ew:case wg:case l0:case tw:return this.onEnd(l),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||l===o0))if(this.options.to==="string"){let d=P0.utf8border(n.output,n.next_out),m=n.next_out-d,b=P0.buf2string(n.output,d);n.next_out=m,n.avail_out=a-m,m&&n.output.set(n.output.subarray(d,d+m),0),this.onData(b)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===eh&&h===0)){if(l===o0)return l=wo.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};lh.prototype.onData=function(r){this.chunks.push(r)};lh.prototype.onEnd=function(r){r===eh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qm.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function nw(r,e){const n=new lh(e);if(n.push(r),n.err)throw n.msg||D0[n.err];return n.result}var iw=lh,rw=nw,aw={Inflate:iw,inflate:rw};const{Inflate:sw,inflate:ow}=aw;var _g=sw,lw=ow;const f5=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;f5[r]=e}const xg=4294967295;function cw(r,e,n){let a=r;for(let o=0;o<n;o++)a=f5[(a^e[o])&255]^a>>>8;return a}function uw(r,e){return(cw(xg,r,e)^xg)>>>0}function Sg(r,e,n){const a=r.readUint32(),o=uw(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(o!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${o}`)}function d5(r,e,n){for(let a=0;a<n;a++)e[a]=r[a]}function p5(r,e,n,a){let o=0;for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-a]&255}function g5(r,e,n,a){let o=0;if(n.length===0)for(;o<a;o++)e[o]=r[o];else for(;o<a;o++)e[o]=r[o]+n[o]&255}function m5(r,e,n,a,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+(e[l-o]>>1)&255}else{for(;l<o;l++)e[l]=r[l]+(n[l]>>1)&255;for(;l<a;l++)e[l]=r[l]+(e[l-o]+n[l]>>1)&255}}function v5(r,e,n,a,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+e[l-o]&255}else{for(;l<o;l++)e[l]=r[l]+n[l]&255;for(;l<a;l++)e[l]=r[l]+hw(e[l-o],n[l],n[l-o])&255}}function hw(r,e,n){const a=r+e-n,o=Math.abs(a-r),l=Math.abs(a-e),c=Math.abs(a-n);return o<=l&&o<=c?r:l<=c?e:n}function fw(r,e,n,a,o,l){switch(r){case 0:d5(e,n,o);break;case 1:p5(e,n,o,l);break;case 2:g5(e,n,a,o);break;case 3:m5(e,n,a,o,l);break;case 4:v5(e,n,a,o,l);break;default:throw new Error(`Unsupported filter: ${r}`)}}const dw=new Uint16Array([255]),pw=new Uint8Array(dw.buffer),gw=pw[0]===255;function mw(r){const{data:e,width:n,height:a,channels:o,depth:l}=r,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(l/8)*o,d=new Uint8Array(a*n*h);let m=0;for(let b=0;b<7;b++){const A=c[b],k=Math.ceil((n-A.x)/A.xStep),w=Math.ceil((a-A.y)/A.yStep);if(k<=0||w<=0)continue;const j=k*h,S=new Uint8Array(j);for(let T=0;T<w;T++){const N=e[m++],P=e.subarray(m,m+j);m+=j;const D=new Uint8Array(j);fw(N,P,D,S,j,h),S.set(D);for(let U=0;U<k;U++){const le=A.x+U*A.xStep,ce=A.y+T*A.yStep;if(!(le>=n||ce>=a))for(let te=0;te<h;te++)d[(ce*n+le)*h+te]=D[U*h+te]}}}if(l===16){const b=new Uint16Array(d.buffer);if(gw)for(let A=0;A<b.length;A++)b[A]=vw(b[A]);return b}else return d}function vw(r){return(r&255)<<8|r>>8&255}const yw=new Uint16Array([255]),bw=new Uint8Array(yw.buffer),ww=bw[0]===255,_w=new Uint8Array(0);function Ng(r){const{data:e,width:n,height:a,channels:o,depth:l}=r,c=Math.ceil(l/8)*o,h=Math.ceil(l/8*o*n),d=new Uint8Array(a*h);let m=_w,b=0,A,k;for(let w=0;w<a;w++){switch(A=e.subarray(b+1,b+1+h),k=d.subarray(w*h,(w+1)*h),e[b]){case 0:d5(A,k,h);break;case 1:p5(A,k,h,c);break;case 2:g5(A,k,m,h);break;case 3:m5(A,k,m,h,c);break;case 4:v5(A,k,m,h,c);break;default:throw new Error(`Unsupported filter: ${e[b]}`)}m=k,b+=h+1}if(l===16){const w=new Uint16Array(d.buffer);if(ww)for(let j=0;j<w.length;j++)w[j]=xw(w[j]);return w}else return d}function xw(r){return(r&255)<<8|r>>8&255}const mf=Uint8Array.of(137,80,78,71,13,10,26,10);function Ag(r){if(!Sw(r.readBytes(mf.length)))throw new Error("wrong PNG signature")}function Sw(r){if(r.length<mf.length)return!1;for(let e=0;e<mf.length;e++)if(r[e]!==mf[e])return!1;return!0}const Nw="tEXt",Aw=0,y5=new TextDecoder("latin1");function jw(r){if(kw(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Ew=/^[\u0000-\u00FF]*$/;function kw(r){if(!Ew.test(r))throw new Error("invalid latin1 text")}function Cw(r,e,n){const a=b5(e);r[a]=Tw(e,n-a.length-1)}function b5(r){for(r.mark();r.readByte()!==Aw;);const e=r.offset;r.reset();const n=y5.decode(r.readBytes(e-r.offset-1));return r.skip(1),jw(n),n}function Tw(r,e){return y5.decode(r.readBytes(e))}const wa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},c0={UNKNOWN:-1,DEFLATE:0},jg={UNKNOWN:-1,ADAPTIVE:0},u0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},of={NONE:0,BACKGROUND:1,PREVIOUS:2},h0={SOURCE:0,OVER:1};class Lw extends ap{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new _g,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=c0.UNKNOWN,this._filterMethod=jg.UNKNOWN,this._interlaceMethod=u0.UNKNOWN,this._colorType=wa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ag(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Ag(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Nw:Cw(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Sg(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Sg(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Ow(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case wa.GREYSCALE:a=1;break;case wa.TRUECOLOUR:a=3;break;case wa.INDEXED_COLOUR:a=1;break;case wa.GREYSCALE_ALPHA:a=2;break;case wa.TRUECOLOUR_ALPHA:a=4;break;case wa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==c0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case wa.GREYSCALE:case wa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case wa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wa.UNKNOWN:case wa.GREYSCALE_ALPHA:case wa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=b5(this),a=this.readUint8();if(a!==c0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:lw(o)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Ng({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case of.NONE:break;case of.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const c=(o*e.width+l)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[c+h]=0}break;case of.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,o=(l,c)=>{const h=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,d=(l*n.width+c)*this._png.channels;return{index:h,frameIndex:d}};switch(n.blendOp){case h0.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:h,frameIndex:d}=o(l,c);for(let m=0;m<this._png.channels;m++)e.data[h+m]=n.data[d+m]}break;case h0.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:h,frameIndex:d}=o(l,c);for(let m=0;m<this._png.channels;m++){const b=n.data[d+this._png.channels-1]/a,A=m%(this._png.channels-1)===0?1:n.data[d+m],k=Math.floor(b*A+(1-b)*e.data[h+m]);e.data[h+m]+=k}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==jg.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===u0.NO_INTERLACE)this._png.data=Ng({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===u0.ADAM7)this._png.data=mw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:of.NONE,blendOp:h0.SOURCE,data:e}),this._inflator=new _g,this._writingDataChunks=!1}}function Ow(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Eg;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Eg||(Eg={}));function Rw(r,e){return new Lw(r,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f0(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Kn={log:f0,warn:function(r){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):f0.call(null,arguments))},error:function(r){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):f0(r))}};function d0(r,e,n){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){ql(a.response,e,n)},a.onerror=function(){Kn.error("could not download file")},a.send()}function kg(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var ql=Yt.saveAs||((typeof window>"u"?"undefined":qn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var a=Yt.URL||Yt.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?kg(o.href)?d0(r,e,n):lf(o,o.target="_blank"):lf(o)):(o.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){lf(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(kg(r))d0(r,e,n);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){lf(a)})}else navigator.msSaveOrOpenBlob((function(o,l){return l===void 0?l={autoBom:!1}:qn(l)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(r,n),e)}:function(r,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return d0(r,e,n);var o=r.type==="application/octet-stream",l=/constructor/i.test(Yt.HTMLElement)||Yt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l)&&(typeof FileReader>"u"?"undefined":qn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=b:location=b,a=null},h.readAsDataURL(r)}else{var d=Yt.URL||Yt.webkitURL,m=d.createObjectURL(r);a?a.location=m:location.href=m,a=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function w5(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,l=n[a].process,c=o.exec(r);c&&(e=l(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+h+d+m}}var vf=Yt.atob.bind(Yt),Cg=Yt.btoa.bind(Yt);function p0(r,e){var n=r[0],a=r[1],o=r[2],l=r[3];n=kr(n,a,o,l,e[0],7,-680876936),l=kr(l,n,a,o,e[1],12,-389564586),o=kr(o,l,n,a,e[2],17,606105819),a=kr(a,o,l,n,e[3],22,-1044525330),n=kr(n,a,o,l,e[4],7,-176418897),l=kr(l,n,a,o,e[5],12,1200080426),o=kr(o,l,n,a,e[6],17,-1473231341),a=kr(a,o,l,n,e[7],22,-45705983),n=kr(n,a,o,l,e[8],7,1770035416),l=kr(l,n,a,o,e[9],12,-1958414417),o=kr(o,l,n,a,e[10],17,-42063),a=kr(a,o,l,n,e[11],22,-1990404162),n=kr(n,a,o,l,e[12],7,1804603682),l=kr(l,n,a,o,e[13],12,-40341101),o=kr(o,l,n,a,e[14],17,-1502002290),n=Cr(n,a=kr(a,o,l,n,e[15],22,1236535329),o,l,e[1],5,-165796510),l=Cr(l,n,a,o,e[6],9,-1069501632),o=Cr(o,l,n,a,e[11],14,643717713),a=Cr(a,o,l,n,e[0],20,-373897302),n=Cr(n,a,o,l,e[5],5,-701558691),l=Cr(l,n,a,o,e[10],9,38016083),o=Cr(o,l,n,a,e[15],14,-660478335),a=Cr(a,o,l,n,e[4],20,-405537848),n=Cr(n,a,o,l,e[9],5,568446438),l=Cr(l,n,a,o,e[14],9,-1019803690),o=Cr(o,l,n,a,e[3],14,-187363961),a=Cr(a,o,l,n,e[8],20,1163531501),n=Cr(n,a,o,l,e[13],5,-1444681467),l=Cr(l,n,a,o,e[2],9,-51403784),o=Cr(o,l,n,a,e[7],14,1735328473),n=Tr(n,a=Cr(a,o,l,n,e[12],20,-1926607734),o,l,e[5],4,-378558),l=Tr(l,n,a,o,e[8],11,-2022574463),o=Tr(o,l,n,a,e[11],16,1839030562),a=Tr(a,o,l,n,e[14],23,-35309556),n=Tr(n,a,o,l,e[1],4,-1530992060),l=Tr(l,n,a,o,e[4],11,1272893353),o=Tr(o,l,n,a,e[7],16,-155497632),a=Tr(a,o,l,n,e[10],23,-1094730640),n=Tr(n,a,o,l,e[13],4,681279174),l=Tr(l,n,a,o,e[0],11,-358537222),o=Tr(o,l,n,a,e[3],16,-722521979),a=Tr(a,o,l,n,e[6],23,76029189),n=Tr(n,a,o,l,e[9],4,-640364487),l=Tr(l,n,a,o,e[12],11,-421815835),o=Tr(o,l,n,a,e[15],16,530742520),n=Lr(n,a=Tr(a,o,l,n,e[2],23,-995338651),o,l,e[0],6,-198630844),l=Lr(l,n,a,o,e[7],10,1126891415),o=Lr(o,l,n,a,e[14],15,-1416354905),a=Lr(a,o,l,n,e[5],21,-57434055),n=Lr(n,a,o,l,e[12],6,1700485571),l=Lr(l,n,a,o,e[3],10,-1894986606),o=Lr(o,l,n,a,e[10],15,-1051523),a=Lr(a,o,l,n,e[1],21,-2054922799),n=Lr(n,a,o,l,e[8],6,1873313359),l=Lr(l,n,a,o,e[15],10,-30611744),o=Lr(o,l,n,a,e[6],15,-1560198380),a=Lr(a,o,l,n,e[13],21,1309151649),n=Lr(n,a,o,l,e[4],6,-145523070),l=Lr(l,n,a,o,e[11],10,-1120210379),o=Lr(o,l,n,a,e[2],15,718787259),a=Lr(a,o,l,n,e[9],21,-343485551),r[0]=sl(n,r[0]),r[1]=sl(a,r[1]),r[2]=sl(o,r[2]),r[3]=sl(l,r[3])}function Lf(r,e,n,a,o,l){return e=sl(sl(e,r),sl(a,l)),sl(e<<o|e>>>32-o,n)}function kr(r,e,n,a,o,l,c){return Lf(e&n|~e&a,r,e,o,l,c)}function Cr(r,e,n,a,o,l,c){return Lf(e&a|n&~a,r,e,o,l,c)}function Tr(r,e,n,a,o,l,c){return Lf(e^n^a,r,e,o,l,c)}function Lr(r,e,n,a,o,l,c){return Lf(n^(e|~a),r,e,o,l,c)}function _5(r){var e,n=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)p0(a,Dw(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(p0(a,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,p0(a,o),a}function Dw(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var Tg="0123456789abcdef".split("");function Pw(r){for(var e="",n=0;n<4;n++)e+=Tg[r>>8*n+4&15]+Tg[r>>8*n&15];return e}function Bw(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function B0(r){return _5(r).map(Bw).join("")}var Mw=(function(r){for(var e=0;e<r.length;e++)r[e]=Pw(r[e]);return r.join("")})(_5("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(r,e){if(Mw){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}function M0(r,e){var n,a,o,l;if(r!==n){for(var c=(o=r,l=1+(256/r.length|0),new Array(l+1).join(o)),h=[],d=0;d<256;d++)h[d]=d;var m=0;for(d=0;d<256;d++){var b=h[d];m=(m+b+c.charCodeAt(d))%256,h[d]=h[m],h[m]=b}n=r,a=h}else h=a;var A=e.length,k=0,w=0,j="";for(d=0;d<A;d++)w=(w+(b=h[k=(k+1)%256]))%256,h[k]=h[w],h[w]=b,c=h[(h[k]+h[w])%256],j+=String.fromCharCode(e.charCodeAt(d)^c);return j}var Lg={print:4,modify:8,copy:16,"annot-forms":32};function Wc(r,e,n,a){this.v=1,this.r=2;var o=192;r.forEach(function(h){if(Lg.perm!==void 0)throw new Error("Invalid permission: "+h);o+=Lg[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),c=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,c),this.P=-(1+(255^o)),this.encryptionKey=B0(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=M0(this.encryptionKey,this.padding)}function Kc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,a=0;a<n;a++){var o=r.charCodeAt(a);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):r[a]}return e}function Og(r){if(qn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,o){if(o=o||!1,typeof n!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var l=Math.random().toString(35);return e[n][l]=[a,!!o],l},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var l in e[n]){var c=e[n][l];try{c[0].apply(r,a)}catch(h){Yt.console&&Kn.error("jsPDF PubSub Error",h.message,h)}c[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Af(r){if(!(this instanceof Af))return new Af(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function x5(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Fl(r,e,n,a,o){if(!(this instanceof Fl))return new Fl(r,e,n,a,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,x5.call(this,a,o)}function Zc(r,e,n,a,o){if(!(this instanceof Zc))return new Zc(r,e,n,a,o);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,x5.call(this,a,o)}function xt(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],l=arguments[3],c=[],h=1,d=16,m="S",b=null;qn(r=r||{})==="object"&&(n=r.orientation,a=r.unit||a,o=r.format||o,l=r.compress||r.compressPdf||l,(b=r.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),m=r.defaultPathOperation||"S"),c=r.filters||(l===!0?["FlateEncode"]:c),a=a||"mm",n=(""+(n||"P")).toLowerCase();var A=r.putOnlyUsedFonts||!1,k={},w={internal:{},__private__:{}};w.__private__.PubSub=Og;var j="1.3",S=w.__private__.getPdfVersion=function(){return j};w.__private__.setPdfVersion=function(_){j=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var N=w.__private__.getPageFormat=function(_){return T[_]};o=o||"a4";var P="compat",D="advanced",U=P;function le(){this.saveGraphicsState(),K(new bt(Ht,0,0,-Ht,0,Ja()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),m="n",U=D}function ce(){this.restoreGraphicsState(),m="S",U=P}var te=w.__private__.combineFontStyleAndFontWeight=function(_,O){if(_=="bold"&&O=="normal"||_=="bold"&&O==400||_=="normal"&&O=="italic"||_=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(_=O==400||O==="normal"?_==="italic"?"italic":"normal":O!=700&&O!=="bold"||_!=="normal"?(O==700?"bold":O)+""+_:"bold"),_};w.advancedAPI=function(_){var O=U===P;return O&&le.call(this),typeof _!="function"||(_(this),O&&ce.call(this)),this},w.compatAPI=function(_){var O=U===D;return O&&ce.call(this),typeof _!="function"||(_(this),O&&le.call(this)),this},w.isAdvancedAPI=function(){return U===D};var $,Y=function(_){if(U!==D)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=w.roundToPrecision=w.__private__.roundToPrecision=function(_,O){var Z=e||O;if(isNaN(_)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(Z).replace(/0+$/,"")};$=w.hpf=w.__private__.hpf=typeof d=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,d)}:d==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,16)};var M=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ge(_,2)},H=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ge(_,3)},se=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return U===P?_*Ht:U===D?_:void 0},ae=function(_){return se((function(O){return U===P?Ja()-O:U===D?O:void 0})(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var we,ee="00000000000000000000000000000000",X=w.__private__.getFileId=function(){return ee},re=w.__private__.setFileId=function(_){return ee=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(ki=new Wc(b.userPermissions,b.userPassword,b.ownerPassword,ee)),ee};w.setFileId=function(_){return re(_),this},w.getFileId=function(){return X()};var xe=w.__private__.convertDateToPDFDate=function(_){var O=_.getTimezoneOffset(),Z=O<0?"+":"-",he=Math.floor(Math.abs(O/60)),ye=Math.abs(O%60),Be=[Z,W(he),"'",W(ye),"'"].join("");return["D:",_.getFullYear(),W(_.getMonth()+1),W(_.getDate()),W(_.getHours()),W(_.getMinutes()),W(_.getSeconds()),Be].join("")},Le=w.__private__.convertPDFDateToDate=function(_){var O=parseInt(_.substr(2,4),10),Z=parseInt(_.substr(6,2),10)-1,he=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),Be=parseInt(_.substr(12,2),10),Ge=parseInt(_.substr(14,2),10);return new Date(O,Z,he,ye,Be,Ge,0)},G=w.__private__.setCreationDate=function(_){var O;if(_===void 0&&(_=new Date),_ instanceof Date)O=xe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=_}return we=O},L=w.__private__.getCreationDate=function(_){var O=we;return _==="jsDate"&&(O=Le(we)),O};w.setCreationDate=function(_){return G(_),this},w.getCreationDate=function(_){return L(_)};var I,W=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ue=0,pe=[],ke=[],je=0,Pe=[],Ve=[],Ze=!1,Xe=ke;w.__private__.setCustomOutputDestination=function(_){Ze=!0,Xe=_};var it=function(_){Ze||(Xe=_)};w.__private__.resetCustomOutputDestination=function(){Ze=!1,Xe=ke};var K=w.__private__.out=function(_){return _=_.toString(),je+=_.length+1,Xe.push(_),Xe},Ke=w.__private__.write=function(_){return K(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Kt=w.__private__.getArrayBuffer=function(_){for(var O=_.length,Z=new ArrayBuffer(O),he=new Uint8Array(Z);O--;)he[O]=_.charCodeAt(O);return Z},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return vt};var $e=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return $e=U===D?_/Ht:_,this};var St,et=w.__private__.getFontSize=w.getFontSize=function(){return U===P?$e:$e*Ht},At=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return At=_,this},w.__private__.getR2L=w.getR2L=function(){return At};var yt,Wt=w.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))St=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');St=_}else St=parseInt(_,10)};w.__private__.getZoomMode=function(){return St};var It,zt=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');yt=_};w.__private__.getPageMode=function(){return yt};var sn=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');It=_};w.__private__.getLayoutMode=function(){return It},w.__private__.setDisplayMode=w.setDisplayMode=function(_,O,Z){return Wt(_),sn(O),zt(Z),this};var tn={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(tn).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tn[_]},w.__private__.getDocumentProperties=function(){return tn},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var O in tn)tn.hasOwnProperty(O)&&_[O]&&(tn[O]=_[O]);return this},w.__private__.setDocumentProperty=function(_,O){if(Object.keys(tn).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tn[_]=O};var ft,Ht,dt,Xn,rn,Et={},Bt={},on=[],Nt={},On={},Lt={},Mt={},En=null,Jt=0,mt=[],un=new Og(w),Or=r.hotfixes||[],Pi={},Fr={},_r=[],bt=function _(O,Z,he,ye,Be,Ge){if(!(this instanceof _))return new _(O,Z,he,ye,Be,Ge);isNaN(O)&&(O=1),isNaN(Z)&&(Z=0),isNaN(he)&&(he=0),isNaN(ye)&&(ye=1),isNaN(Be)&&(Be=0),isNaN(Ge)&&(Ge=0),this._matrix=[O,Z,he,ye,Be,Ge]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(_)},bt.prototype.multiply=function(_){var O=_.sx*this.sx+_.shy*this.shx,Z=_.sx*this.shy+_.shy*this.sy,he=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,Be=_.tx*this.sx+_.ty*this.shx+this.tx,Ge=_.tx*this.shy+_.ty*this.sy+this.ty;return new bt(O,Z,he,ye,Be,Ge)},bt.prototype.decompose=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Be=this.ty,Ge=Math.sqrt(_*_+O*O),lt=(_/=Ge)*Z+(O/=Ge)*he;Z-=_*lt,he-=O*lt;var pt=Math.sqrt(Z*Z+he*he);return lt/=pt,_*(he/=pt)<O*(Z/=pt)&&(_=-_,O=-O,lt=-lt,Ge=-Ge),{scale:new bt(Ge,0,0,pt,0,0),translate:new bt(1,0,0,1,ye,Be),rotate:new bt(_,O,-O,_,0,0),skew:new bt(1,0,lt,1,0,0)}},bt.prototype.toString=function(_){return this.join(" ")},bt.prototype.inversed=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Be=this.ty,Ge=1/(_*he-O*Z),lt=he*Ge,pt=-O*Ge,qt=-Z*Ge,Xt=_*Ge;return new bt(lt,pt,qt,Xt,-lt*ye-qt*Be,-pt*ye-Xt*Be)},bt.prototype.applyToPoint=function(_){var O=_.x*this.sx+_.y*this.shx+this.tx,Z=_.x*this.shy+_.y*this.sy+this.ty;return new Gr(O,Z)},bt.prototype.applyToRectangle=function(_){var O=this.applyToPoint(_),Z=this.applyToPoint(new Gr(_.x+_.w,_.y+_.h));return new Ga(O.x,O.y,Z.x-O.x,Z.y-O.y)},bt.prototype.clone=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Be=this.ty;return new bt(_,O,Z,he,ye,Be)},w.Matrix=bt;var la=w.matrixMult=function(_,O){return O.multiply(_)},Ir=new bt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Ir;var or=function(_,O){if(!On[_]){var Z=(O instanceof Fl?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);O.id=Z,On[_]=Z,Nt[Z]=O,un.publish("addPattern",O)}};w.ShadingPattern=Fl,w.TilingPattern=Zc,w.addShadingPattern=function(_,O){return Y("addShadingPattern()"),or(_,O),this},w.beginTilingPattern=function(_){Y("beginTilingPattern()"),Ws(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,O){Y("endTilingPattern()"),O.stream=Ve[I].join(`
`),or(_,O),un.publish("endTilingPattern",O),_r.pop().restore()};var lr,Un=w.__private__.newObject=function(){var _=ri();return mi(_,!0),_},ri=w.__private__.newObjectDeferred=function(){return ue++,pe[ue]=function(){return je},ue},mi=function(_,O){return O=typeof O=="boolean"&&O,pe[_]=je,O&&K(_+" 0 obj"),_},Aa=w.__private__.newAdditionalObject=function(){var _={objId:ri(),content:""};return Pe.push(_),_},Hi=ri(),kn=ri(),Rn=w.__private__.decodeColorString=function(_){var O=_.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var Z=parseFloat(O[0]);O=[Z,Z,Z,"r"]}for(var he="#",ye=0;ye<3;ye++)he+=("0"+Math.floor(255*parseFloat(O[ye])).toString(16)).slice(-2);return he},vi=w.__private__.encodeColorString=function(_){var O;typeof _=="string"&&(_={ch1:_});var Z=_.ch1,he=_.ch2,ye=_.ch3,Be=_.ch4,Ge=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var lt=new w5(Z);if(lt.ok)Z=lt.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var pt=parseInt(Z.substr(1),16);Z=pt>>16&255,he=pt>>8&255,ye=255&pt}if(he===void 0||Be===void 0&&Z===he&&he===ye)O=typeof Z=="string"?Z+" "+Ge[0]:_.precision===2?M(Z/255)+" "+Ge[0]:H(Z/255)+" "+Ge[0];else if(Be===void 0||qn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",Ge[1]].join(" ");O=typeof Z=="string"?[Z,he,ye,Ge[1]].join(" "):_.precision===2?[M(Z/255),M(he/255),M(ye/255),Ge[1]].join(" "):[H(Z/255),H(he/255),H(ye/255),Ge[1]].join(" ")}else O=typeof Z=="string"?[Z,he,ye,Be,Ge[2]].join(" "):_.precision===2?[M(Z),M(he),M(ye),M(Be),Ge[2]].join(" "):[H(Z),H(he),H(ye),H(Be),Ge[2]].join(" ");return O},cr=w.__private__.getFilters=function(){return c},xr=w.__private__.putStream=function(_){var O=(_=_||{}).data||"",Z=_.filters||cr(),he=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,Be=O.length,Ge=_.objectId,lt=function(Ci){return Ci};if(b!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(lt=ki.encryptor(Ge,0));var pt={};Z===!0&&(Z=["FlateEncode"]);var qt=_.additionalKeyValues||[],Xt=(pt=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(O,Z):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(pt.data.length!==0&&(qt.push({key:"Length",value:pt.data.length}),ye===!0&&qt.push({key:"Length1",value:Be})),Xt.length!=0)if(Xt.split("/").length-1==1)qt.push({key:"Filter",value:Xt});else{qt.push({key:"Filter",value:"["+Xt+"]"});for(var vn=0;vn<qt.length;vn+=1)if(qt[vn].key==="DecodeParms"){for(var Qn=[],ui=0;ui<pt.reverseChain.split("/").length-1;ui+=1)Qn.push("null");Qn.push(qt[vn].value),qt[vn].value="["+Qn.join(" ")+"]"}}K("<<");for(var Fn=0;Fn<qt.length;Fn++)K("/"+qt[Fn].key+" "+qt[Fn].value);K(">>"),pt.data.length!==0&&(K("stream"),K(lt(pt.data)),K("endstream"))},ja=w.__private__.putPage=function(_){var O=_.number,Z=_.data,he=_.objId,ye=_.contentsObjId;mi(he,!0),K("<</Type /Page"),K("/Parent "+_.rootDictionaryObjId+" 0 R"),K("/Resources "+_.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat($(_.mediaBox.bottomLeftX))+" "+parseFloat($(_.mediaBox.bottomLeftY))+" "+$(_.mediaBox.topRightX)+" "+$(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&K("/CropBox ["+$(_.cropBox.bottomLeftX)+" "+$(_.cropBox.bottomLeftY)+" "+$(_.cropBox.topRightX)+" "+$(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&K("/BleedBox ["+$(_.bleedBox.bottomLeftX)+" "+$(_.bleedBox.bottomLeftY)+" "+$(_.bleedBox.topRightX)+" "+$(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&K("/TrimBox ["+$(_.trimBox.bottomLeftX)+" "+$(_.trimBox.bottomLeftY)+" "+$(_.trimBox.topRightX)+" "+$(_.trimBox.topRightY)+"]"),_.artBox!==null&&K("/ArtBox ["+$(_.artBox.bottomLeftX)+" "+$(_.artBox.bottomLeftY)+" "+$(_.artBox.topRightX)+" "+$(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&K("/UserUnit "+_.userUnit),un.publish("putPage",{objId:he,pageContext:mt[O],pageNumber:O,page:Z}),K("/Contents "+ye+" 0 R"),K(">>"),K("endobj");var Be=Z.join(`
`);return U===D&&(Be+=`
Q`),mi(ye,!0),xr({data:Be,filters:cr(),objectId:ye}),K("endobj"),he},Sr=w.__private__.putPages=function(){var _,O,Z=[];for(_=1;_<=Jt;_++)mt[_].objId=ri(),mt[_].contentsObjId=ri();for(_=1;_<=Jt;_++)Z.push(ja({number:_,data:Ve[_],objId:mt[_].objId,contentsObjId:mt[_].contentsObjId,mediaBox:mt[_].mediaBox,cropBox:mt[_].cropBox,bleedBox:mt[_].bleedBox,trimBox:mt[_].trimBox,artBox:mt[_].artBox,userUnit:mt[_].userUnit,rootDictionaryObjId:Hi,resourceDictionaryObjId:kn}));mi(Hi,!0),K("<</Type /Pages");var he="/Kids [";for(O=0;O<Jt;O++)he+=Z[O]+" 0 R ";K(he+"]"),K("/Count "+Jt),K(">>"),K("endobj"),un.publish("postPutPages")},Dn=function(_){un.publish("putFont",{font:_,out:K,newObject:Un,putStream:xr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Un(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Kc(_.postScriptName)),K("/Subtype /Type1"),typeof _.encoding=="string"&&K("/Encoding /"+_.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},zr=function(_){_.objectNumber=Un();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[$(_.x),$(_.y),$(_.x+_.width),$(_.y+_.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var Z=_.pages[1].join(`
`);xr({data:Z,additionalKeyValues:O,objectId:_.objectNumber}),K("endobj")},Rr=function(_,O){O||(O=21);var Z=Un(),he=(function(Ge,lt){var pt,qt=[],Xt=1/(lt-1);for(pt=0;pt<1;pt+=Xt)qt.push(pt);if(qt.push(1),Ge[0].offset!=0){var vn={offset:0,color:Ge[0].color};Ge.unshift(vn)}if(Ge[Ge.length-1].offset!=1){var Qn={offset:1,color:Ge[Ge.length-1].color};Ge.push(Qn)}for(var ui="",Fn=0,Ci=0;Ci<qt.length;Ci++){for(pt=qt[Ci];pt>Ge[Fn+1].offset;)Fn++;var bi=Ge[Fn].offset,Gi=(pt-bi)/(Ge[Fn+1].offset-bi),Xa=Ge[Fn].color,ha=Ge[Fn+1].color;ui+=ie(Math.round((1-Gi)*Xa[0]+Gi*ha[0]).toString(16))+ie(Math.round((1-Gi)*Xa[1]+Gi*ha[1]).toString(16))+ie(Math.round((1-Gi)*Xa[2]+Gi*ha[2]).toString(16))}return ui.trim()})(_.colors,O),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+O+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xr({data:he,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),K("endobj"),_.objectNumber=Un(),K("<< /ShadingType "+_.type),K("/ColorSpace /DeviceRGB");var Be="/Coords ["+$(parseFloat(_.coords[0]))+" "+$(parseFloat(_.coords[1]))+" ";_.type===2?Be+=$(parseFloat(_.coords[2]))+" "+$(parseFloat(_.coords[3])):Be+=$(parseFloat(_.coords[2]))+" "+$(parseFloat(_.coords[3]))+" "+$(parseFloat(_.coords[4]))+" "+$(parseFloat(_.coords[5])),K(Be+="]"),_.matrix&&K("/Matrix ["+_.matrix.toString()+"]"),K("/Function "+Z+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},ne=function(_,O){var Z=ri(),he=Un();O.push({resourcesOid:Z,objectOid:he}),_.objectNumber=he;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map($).join(" ")+"]"}),ye.push({key:"XStep",value:$(_.xStep)}),ye.push({key:"YStep",value:$(_.yStep)}),ye.push({key:"Resources",value:Z+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),xr({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),K("endobj")},me=function(_){for(var O in _.objectNumber=Un(),K("<<"),_)switch(O){case"opacity":K("/ca "+M(_[O]));break;case"stroke-opacity":K("/CA "+M(_[O]))}K(">>"),K("endobj")},qe=function(_){mi(_.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in K("/Font <<"),Et)Et.hasOwnProperty(O)&&(A===!1||A===!0&&k.hasOwnProperty(O))&&K("/"+O+" "+Et[O].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(Nt).length>0){for(var O in K("/Shading <<"),Nt)Nt.hasOwnProperty(O)&&Nt[O]instanceof Fl&&Nt[O].objectNumber>=0&&K("/"+O+" "+Nt[O].objectNumber+" 0 R");un.publish("putShadingPatternDict"),K(">>")}})(),(function(O){if(Object.keys(Nt).length>0){for(var Z in K("/Pattern <<"),Nt)Nt.hasOwnProperty(Z)&&Nt[Z]instanceof w.TilingPattern&&Nt[Z].objectNumber>=0&&Nt[Z].objectNumber<O&&K("/"+Z+" "+Nt[Z].objectNumber+" 0 R");un.publish("putTilingPatternDict"),K(">>")}})(_.objectOid),(function(){if(Object.keys(Lt).length>0){var O;for(O in K("/ExtGState <<"),Lt)Lt.hasOwnProperty(O)&&Lt[O].objectNumber>=0&&K("/"+O+" "+Lt[O].objectNumber+" 0 R");un.publish("putGStateDict"),K(">>")}})(),(function(){for(var O in K("/XObject <<"),Pi)Pi.hasOwnProperty(O)&&Pi[O].objectNumber>=0&&K("/"+O+" "+Pi[O].objectNumber+" 0 R");un.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},Fe=function(_){Bt[_.fontName]=Bt[_.fontName]||{},Bt[_.fontName][_.fontStyle]=_.id},ot=function(_,O,Z,he,ye){var Be={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:_,fontName:O,fontStyle:Z,encoding:he,isStandardFont:ye||!1,metadata:{}};return un.publish("addFont",{font:Be,instance:this}),Et[Be.id]=Be,Fe(Be),Be.id},rt=w.__private__.pdfEscape=w.pdfEscape=function(_,O){return(function(Z,he){var ye,Be,Ge,lt,pt,qt,Xt,vn,Qn;if(Ge=(he=he||{}).sourceEncoding||"Unicode",pt=he.outputEncoding,(he.autoencode||pt)&&Et[ft].metadata&&Et[ft].metadata[Ge]&&Et[ft].metadata[Ge].encoding&&(lt=Et[ft].metadata[Ge].encoding,!pt&&Et[ft].encoding&&(pt=Et[ft].encoding),!pt&&lt.codePages&&(pt=lt.codePages[0]),typeof pt=="string"&&(pt=lt[pt]),pt)){for(Xt=!1,qt=[],ye=0,Be=Z.length;ye<Be;ye++)(vn=pt[Z.charCodeAt(ye)])?qt.push(String.fromCharCode(vn)):qt.push(Z[ye]),qt[ye].charCodeAt(0)>>8&&(Xt=!0);Z=qt.join("")}for(ye=Z.length;Xt===void 0&&ye!==0;)Z.charCodeAt(ye-1)>>8&&(Xt=!0),ye--;if(!Xt)return Z;for(qt=he.noBOM?[]:[254,255],ye=0,Be=Z.length;ye<Be;ye++){if((Qn=(vn=Z.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+Z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Qn),qt.push(vn-(Qn<<8))}return String.fromCharCode.apply(void 0,qt)})(_,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$t=w.__private__.beginPage=function(_){Ve[++Jt]=[],mt[Jt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Qe(Jt),it(Ve[I])},at=function(_,O){var Z,he,ye;switch(n=O||n,typeof _=="string"&&(Z=N(_.toLowerCase()),Array.isArray(Z)&&(he=Z[0],ye=Z[1])),Array.isArray(_)&&(he=_[0]*Ht,ye=_[1]*Ht),isNaN(he)&&(he=o[0],ye=o[1]),(he>14400||ye>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ye=Math.min(14400,ye)),o=[he,ye],n.substr(0,1)){case"l":ye>he&&(o=[ye,he]);break;case"p":he>ye&&(o=[ye,he])}$t(o),Rt(Gs),K(Pr),No!==0&&K(No+" J"),Mi!==0&&K(Mi+" j"),un.publish("addPage",{pageNumber:Jt})},He=function(_){_>0&&_<=Jt&&(Ve.splice(_,1),mt.splice(_,1),Jt--,I>Jt&&(I=Jt),this.setPage(I))},Qe=function(_){_>0&&_<=Jt&&(I=_)},kt=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ve.length-1},Bi=function(_,O,Z){var he,ye=void 0;return Z=Z||{},_=_!==void 0?_:Et[ft].fontName,O=O!==void 0?O:Et[ft].fontStyle,he=_.toLowerCase(),Bt[he]!==void 0&&Bt[he][O]!==void 0?ye=Bt[he][O]:Bt[_]!==void 0&&Bt[_][O]!==void 0?ye=Bt[_][O]:Z.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+_+"', '"+O+"'. Refer to getFontList() for available fonts."),ye||Z.noFallback||(ye=Bt.times[O])==null&&(ye=Bt.times.normal),ye},Ot=w.__private__.putInfo=function(){var _=Un(),O=function(he){return he};for(var Z in b!==null&&(O=ki.encryptor(_,0)),K("<<"),K("/Producer ("+rt(O("jsPDF "+xt.version))+")"),tn)tn.hasOwnProperty(Z)&&tn[Z]&&K("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+rt(O(tn[Z]))+")");K("/CreationDate ("+rt(O(we))+")"),K(">>"),K("endobj")},ur=w.__private__.putCatalog=function(_){var O=(_=_||{}).rootDictionaryObjId||Hi;switch(Un(),K("<<"),K("/Type /Catalog"),K("/Pages "+O+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+St;Z.substr(Z.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&K("/OpenAction [3 0 R /XYZ null null "+M(St)+"]")}switch(It||(It="continuous"),It){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}yt&&K("/PageMode /"+yt),un.publish("putCatalog"),K(">>"),K("endobj")},Hr=w.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ue+1)),K("/Root "+ue+" 0 R"),K("/Info "+(ue-1)+" 0 R"),b!==null&&K("/Encrypt "+ki.oid+" 0 R"),K("/ID [ <"+ee+"> <"+ee+"> ]"),K(">>")},mn=w.__private__.putHeader=function(){K("%PDF-"+j),K("%")},ll=w.__private__.putXRef=function(){var _="0000000000";K("xref"),K("0 "+(ue+1)),K("0000000000 65535 f ");for(var O=1;O<=ue;O++)typeof pe[O]=="function"?K((_+pe[O]()).slice(-10)+" 00000 n "):pe[O]!==void 0?K((_+pe[O]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ea=w.__private__.buildDocument=function(){var _;ue=0,je=0,ke=[],pe=[],Pe=[],Hi=ri(),kn=ri(),it(ke),un.publish("buildDocument"),mn(),Sr(),(function(){un.publish("putAdditionalObjects");for(var Z=0;Z<Pe.length;Z++){var he=Pe[Z];mi(he.objId,!0),K(he.content),K("endobj")}un.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var Z in Et)Et.hasOwnProperty(Z)&&(A===!1||A===!0&&k.hasOwnProperty(Z))&&Dn(Et[Z])})(),(function(){var Z;for(Z in Lt)Lt.hasOwnProperty(Z)&&me(Lt[Z])})(),(function(){for(var Z in Pi)Pi.hasOwnProperty(Z)&&zr(Pi[Z])})(),(function(Z){var he;for(he in Nt)Nt.hasOwnProperty(he)&&(Nt[he]instanceof Fl?Rr(Nt[he]):Nt[he]instanceof Zc&&ne(Nt[he],Z))})(_),un.publish("putResources"),_.forEach(qe),qe({resourcesOid:kn,objectOid:Number.MAX_SAFE_INTEGER}),un.publish("postPutResources"),b!==null&&(ki.oid=Un(),K("<<"),K("/Filter /Standard"),K("/V "+ki.v),K("/R "+ki.r),K("/U <"+ki.toHexString(ki.U)+">"),K("/O <"+ki.toHexString(ki.O)+">"),K("/P "+ki.P),K(">>"),K("endobj")),Ot(),ur();var O=je;return ll(),Hr(),K("startxref"),K(""+O),K("%%EOF"),it(Ve[I]),ke.join(`
`)},xs=w.__private__.getBlob=function(_){return new Blob([Kt(_)],{type:"application/pdf"})},cl=w.output=w.__private__.output=(lr=function(_,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",_){case void 0:return Ea();case"save":w.save(O.filename);break;case"arraybuffer":return Kt(Ea());case"blob":return xs(Ea());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(xs(Ea()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",he=Ea();try{Z=Cg(he)}catch{Z=Cg(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+O.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ye=O.pdfObjectUrl,Be="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",lt=Yt.open();return lt!==null&&lt.document.write(Ge),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',qt=Yt.open();if(qt!==null){qt.document.write(pt);var Xt=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=O.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Qn=Yt.open();if(Qn!==null&&(Qn.document.write(vn),Qn.document.title=O.filename),Qn||typeof safari>"u")return Qn;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",O);default:return null}},lr.foo=function(){try{return lr.apply(this,arguments)}catch(Z){var _=Z.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var O="Error in function "+_.split(`
`)[0].split("<")[0]+": "+Z.message;if(!Yt.console)throw new Error(O);Yt.console.error(O,Z),Yt.alert&&alert(O)}},lr.foo.bar=lr,lr.foo),hr=function(_){return Array.isArray(Or)===!0&&Or.indexOf(_)>-1};switch(a){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=hr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Ht=a}var ki=null;G(),re();var yi=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[_].objId,pageNumber:_,pageContext:mt[_]}},xo=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in mt)if(mt[O].objId===_)break;return yi(O)},Jl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:mt[I].objId,pageNumber:I,pageContext:mt[I]}};w.addPage=function(){return at.apply(this,arguments),this},w.setPage=function(){return Qe.apply(this,arguments),it.call(this,Ve[I]),this},w.insertPage=function(_){return this.addPage(),this.movePage(I,_),this},w.movePage=function(_,O){var Z,he;if(_>O){Z=Ve[_],he=mt[_];for(var ye=_;ye>O;ye--)Ve[ye]=Ve[ye-1],mt[ye]=mt[ye-1];Ve[O]=Z,mt[O]=he,this.setPage(O)}else if(_<O){Z=Ve[_],he=mt[_];for(var Be=_;Be<O;Be++)Ve[Be]=Ve[Be+1],mt[Be]=mt[Be+1];Ve[O]=Z,mt[O]=he,this.setPage(O)}return this},w.deletePage=function(){return He.apply(this,arguments),this},w.__private__.text=w.text=function(_,O,Z,he,ye){var Be,Ge,lt,pt,qt,Xt,vn,Qn,ui,Fn=(he=he||{}).scope||this;if(typeof _=="number"&&typeof O=="number"&&(typeof Z=="string"||Array.isArray(Z))){var Ci=Z;Z=O,O=_,_=Ci}if(arguments[3]instanceof bt==0?(lt=arguments[4],pt=arguments[5],qn(vn=arguments[3])==="object"&&vn!==null||(typeof lt=="string"&&(pt=lt,lt=null),typeof vn=="string"&&(pt=vn,vn=null),typeof vn=="number"&&(lt=vn,vn=null),he={flags:vn,angle:lt,align:pt})):(Y("The transform parameter of text() with a Matrix value"),ui=ye),isNaN(O)||isNaN(Z)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Fn;var bi,Gi="",Xa=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:$a,ha=Fn.internal.scaleFactor;function Qa(Sn){return Sn=Sn.split("	").join(Array(he.TabLen||9).join(" ")),rt(Sn,vn)}function yl(Sn){for(var yn,In=Sn.concat(),fi=[],Ma=In.length;Ma--;)typeof(yn=In.shift())=="string"?fi.push(yn):Array.isArray(Sn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?fi.push(yn[0]):fi.push([yn[0],yn[1],yn[2]]);return fi}function jo(Sn,yn){var In;if(typeof Sn=="string")In=yn(Sn)[0];else if(Array.isArray(Sn)){for(var fi,Ma,ga=Sn.concat(),Qs=[],_l=ga.length;_l--;)typeof(fi=ga.shift())=="string"?Qs.push(yn(fi)[0]):Array.isArray(fi)&&typeof fi[0]=="string"&&(Ma=yn(fi[0],fi[1],fi[2]),Qs.push([Ma[0],Ma[1],Ma[2]]));In=Qs}return In}var Ta=!1,fa=!0;if(typeof _=="string")Ta=!0;else if(Array.isArray(_)){var Js=_.concat();Ge=[];for(var Za,qi=Js.length;qi--;)(typeof(Za=Js.shift())!="string"||Array.isArray(Za)&&typeof Za[0]!="string")&&(fa=!1);Ta=fa}if(Ta===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Ns=$e/Fn.internal.scaleFactor,As=Ns*(Xa-1);switch(he.baseline){case"bottom":Z-=As;break;case"top":Z+=Ns-As;break;case"hanging":Z+=Ns-2*As;break;case"middle":Z+=Ns/2-As}if((Xt=he.maxWidth||0)>0&&(typeof _=="string"?_=Fn.splitTextToSize(_,Xt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Sn,yn){return Sn.concat(Fn.splitTextToSize(yn,Xt))},[]))),Be={text:_,x:O,y:Z,options:he,mutex:{pdfEscape:rt,activeFontKey:ft,fonts:Et,activeFontSize:$e}},un.publish("preProcessText",Be),_=Be.text,lt=(he=Be.options).angle,ui instanceof bt==0&&lt&&typeof lt=="number"){lt*=Math.PI/180,he.rotationDirection===0&&(lt=-lt),U===D&&(lt=-lt);var Eo=Math.cos(lt),La=Math.sin(lt);ui=new bt(Eo,La,-La,Eo,0,0)}else lt&&lt instanceof bt&&(ui=lt);U!==D||ui||(ui=Ir),(qt=he.charSpace||$r)!==void 0&&(Gi+=$(se(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Qn=he.horizontalScale)!==void 0&&(Gi+=$(100*Qn)+` Tz
`),he.lang;var dr=-1,es=he.renderingMode!==void 0?he.renderingMode:he.stroke,ko=Fn.internal.getCurrentPageInfo().pageContext;switch(es){case 0:case!1:case"fill":dr=0;break;case 1:case!0:case"stroke":dr=1;break;case 2:case"fillThenStroke":dr=2;break;case 3:case"invisible":dr=3;break;case 4:case"fillAndAddForClipping":dr=4;break;case 5:case"strokeAndAddPathForClipping":dr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":dr=6;break;case 7:case"addToPathForClipping":dr=7}var bl=ko.usedRenderingMode!==void 0?ko.usedRenderingMode:-1;dr!==-1?Gi+=dr+` Tr
`:bl!==-1&&(Gi+=`0 Tr
`),dr!==-1&&(ko.usedRenderingMode=dr),pt=he.align||"left";var Br,da=$e*Xa,ts=Fn.internal.pageSize.getWidth(),wl=Et[ft];qt=he.charSpace||$r,Xt=he.maxWidth||0,vn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var pa=[],js=function(Sn){return Fn.getStringUnitWidth(Sn,{font:wl,charSpace:qt,fontSize:$e,doKerning:!1})*$e/ha};if(Object.prototype.toString.call(_)==="[object Array]"){var Ar;Ge=yl(_),pt!=="left"&&(Br=Ge.map(js));var pr,Oa=0;if(pt==="right"){O-=Br[0],_=[],qi=Ge.length;for(var Ra=0;Ra<qi;Ra++)Ra===0?(pr=Dr(O),Ar=$i(Z)):(pr=se(Oa-Br[Ra]),Ar=-da),_.push([Ge[Ra],pr,Ar]),Oa=Br[Ra]}else if(pt==="center"){O-=Br[0]/2,_=[],qi=Ge.length;for(var ns=0;ns<qi;ns++)ns===0?(pr=Dr(O),Ar=$i(Z)):(pr=se((Oa-Br[ns])/2),Ar=-da),_.push([Ge[ns],pr,Ar]),Oa=Br[ns]}else if(pt==="left"){_=[],qi=Ge.length;for(var Co=0;Co<qi;Co++)_.push(Ge[Co])}else if(pt==="justify"&&wl.encoding==="Identity-H"){_=[],qi=Ge.length,Xt=Xt!==0?Xt:ts;for(var To=0,hi=0;hi<qi;hi++)if(Ar=hi===0?$i(Z):-da,pr=hi===0?Dr(O):To,hi<qi-1){var ac=se((Xt-Br[hi])/(Ge[hi].split(" ").length-1)),Da=Ge[hi].split(" ");_.push([Da[0]+" ",pr,Ar]),To=0;for(var Pa=1;Pa<Da.length;Pa++){var Vi=(js(Da[Pa-1]+" "+Da[Pa])-js(Da[Pa]))*ha+ac;Pa==Da.length-1?_.push([Da[Pa],Vi,0]):_.push([Da[Pa]+" ",Vi,0]),To-=Vi}}else _.push([Ge[hi],pr,Ar]);_.push(["",To,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],qi=Ge.length,Xt=Xt!==0?Xt:ts,hi=0;hi<qi;hi++){Ar=hi===0?$i(Z):-da,pr=hi===0?Dr(O):0;var is=Ge[hi].split(" ").length-1,Lo=is>0?(Xt-Br[hi])/is:0;hi<qi-1?pa.push($(se(Lo))):pa.push(0),_.push([Ge[hi],pr,Ar])}}}(typeof he.R2L=="boolean"?he.R2L:At)===!0&&(_=jo(_,function(Sn,yn,In){return[Sn.split("").reverse().join(""),yn,In]})),Be={text:_,x:O,y:Z,options:he,mutex:{pdfEscape:rt,activeFontKey:ft,fonts:Et,activeFontSize:$e}},un.publish("postProcessText",Be),_=Be.text,bi=Be.mutex.isHex||!1;var Oo=Et[ft].encoding;Oo!=="WinAnsiEncoding"&&Oo!=="StandardEncoding"||(_=jo(_,function(Sn,yn,In){return[Qa(Sn),yn,In]})),Ge=yl(_),_=[];for(var rs,as,Ba,Xs=Array.isArray(Ge[0])?1:0,Mr="",ss=function(Sn,yn,In){var fi="";return In instanceof bt?(In=typeof he.angle=="number"?la(In,new bt(1,0,0,1,Sn,yn)):la(new bt(1,0,0,1,Sn,yn),In),U===D&&(In=la(new bt(1,0,0,-1,0,0),In)),fi=In.join(" ")+` Tm
`):fi=$(Sn)+" "+$(yn)+` Td
`,fi},er=0;er<Ge.length;er++){switch(Mr="",Xs){case 1:Ba=(bi?"<":"(")+Ge[er][0]+(bi?">":")"),rs=parseFloat(Ge[er][1]),as=parseFloat(Ge[er][2]);break;case 0:Ba=(bi?"<":"(")+Ge[er]+(bi?">":")"),rs=Dr(O),as=$i(Z)}pa!==void 0&&pa[er]!==void 0&&(Mr=pa[er]+` Tw
`),er===0?_.push(Mr+ss(rs,as,ui)+Ba):Xs===0?_.push(Mr+Ba):Xs===1&&_.push(Mr+ss(rs,as,ui)+Ba)}_=Xs===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Vr=`BT
/`;return Vr+=ft+" "+$e+` Tf
`,Vr+=$($e*Xa)+` TL
`,Vr+=ka+`
`,Vr+=Gi,Vr+=_,K(Vr+="ET"),k[ft]=!0,Fn};var ul=w.__private__.clip=w.clip=function(_){return K(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ul("evenodd")},w.__private__.discardPath=w.discardPath=function(){return K("n"),this};var fr=w.__private__.isValidStyle=function(_){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(O=!0),O};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return fr(_)&&(m=_),this};var hl=w.__private__.getStyle=w.getStyle=function(_){var O=m;switch(_){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=_}return O},fl=w.close=function(){return K("h"),this};w.stroke=function(){return K("S"),this},w.fill=function(_){return ca("f",_),this},w.fillEvenOdd=function(_){return ca("f*",_),this},w.fillStroke=function(_){return ca("B",_),this},w.fillStrokeEvenOdd=function(_){return ca("B*",_),this};var ca=function(_,O){qn(O)==="object"?Ql(O,_):K(_)},$s=function(_){_===null||U===D&&_===void 0||(_=hl(_),K(_))};function Xl(_,O,Z,he,ye){var Be=new Zc(O||this.boundingBox,Z||this.xStep,he||this.yStep,this.gState,ye||this.matrix);Be.stream=this.stream;var Ge=_+"$$"+this.cloneIndex+++"$$";return or(Ge,Be),Be}var Ql=function(_,O){var Z=On[_.key],he=Nt[Z];if(he instanceof Fl)K("q"),K(dl(O)),he.gState&&w.setGState(he.gState),K(_.matrix.toString()+" cm"),K("/"+Z+" sh"),K("Q");else if(he instanceof Zc){var ye=new bt(1,0,0,-1,0,Ja());_.matrix&&(ye=ye.multiply(_.matrix||Ir),Z=Xl.call(he,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),K("q"),K("/Pattern cs"),K("/"+Z+" scn"),he.gState&&w.setGState(he.gState),K(O),K("Q")}},dl=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pl=w.moveTo=function(_,O){return K($(se(_))+" "+$(ae(O))+" m"),this},Zl=w.lineTo=function(_,O){return K($(se(_))+" "+$(ae(O))+" l"),this},Nr=w.curveTo=function(_,O,Z,he,ye,Be){return K([$(se(_)),$(ae(O)),$(se(Z)),$(ae(he)),$(se(ye)),$(ae(Be)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!fr(ye))throw new Error("Invalid arguments passed to jsPDF.line");return U===P?this.lines([[Z-_,he-O]],_,O,[1,1],ye||"S"):this.lines([[Z-_,he-O]],_,O,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,O,Z,he,ye,Be){var Ge,lt,pt,qt,Xt,vn,Qn,ui,Fn,Ci,bi,Gi;if(typeof _=="number"&&(Gi=Z,Z=O,O=_,_=Gi),he=he||[1,1],Be=Be||!1,isNaN(O)||isNaN(Z)||!Array.isArray(_)||!Array.isArray(he)||!fr(ye)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pl(O,Z),Ge=he[0],lt=he[1],qt=_.length,Ci=O,bi=Z,pt=0;pt<qt;pt++)(Xt=_[pt]).length===2?(Ci=Xt[0]*Ge+Ci,bi=Xt[1]*lt+bi,Zl(Ci,bi)):(vn=Xt[0]*Ge+Ci,Qn=Xt[1]*lt+bi,ui=Xt[2]*Ge+Ci,Fn=Xt[3]*lt+bi,Ci=Xt[4]*Ge+Ci,bi=Xt[5]*lt+bi,Nr(vn,Qn,ui,Fn,Ci,bi));return Be&&fl(),$s(ye),this},w.path=function(_){for(var O=0;O<_.length;O++){var Z=_[O],he=Z.c;switch(Z.op){case"m":pl(he[0],he[1]);break;case"l":Zl(he[0],he[1]);break;case"c":Nr.apply(this,he);break;case"h":fl()}}return this},w.__private__.rect=w.rect=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!fr(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return U===P&&(he=-he),K([$(se(_)),$(ae(O)),$(se(Z)),$(se(he)),"re"].join(" ")),$s(ye),this},w.__private__.triangle=w.triangle=function(_,O,Z,he,ye,Be,Ge){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||isNaN(ye)||isNaN(Be)||!fr(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-_,he-O],[ye-Z,Be-he],[_-ye,O-Be]],_,O,[1,1],Ge,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,O,Z,he,ye,Be,Ge){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||isNaN(ye)||isNaN(Be)||!fr(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*Z),Be=Math.min(Be,.5*he),this.lines([[Z-2*ye,0],[ye*lt,0,ye,Be-Be*lt,ye,Be],[0,he-2*Be],[0,Be*lt,-ye*lt,Be,-ye,Be],[2*ye-Z,0],[-ye*lt,0,-ye,-Be*lt,-ye,-Be],[0,2*Be-he],[0,-Be*lt,ye*lt,-Be,ye,-Be]],_+ye,O,[1,1],Ge,!0),this},w.__private__.ellipse=w.ellipse=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!fr(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*Z,Ge=4/3*(Math.SQRT2-1)*he;return pl(_+Z,O),Nr(_+Z,O-Ge,_+Be,O-he,_,O-he),Nr(_-Be,O-he,_-Z,O-Ge,_-Z,O),Nr(_-Z,O+Ge,_-Be,O+he,_,O+he),Nr(_+Be,O+he,_+Z,O+Ge,_+Z,O),$s(ye),this},w.__private__.circle=w.circle=function(_,O,Z,he){if(isNaN(_)||isNaN(O)||isNaN(Z)||!fr(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,O,Z,Z,he)},w.setFont=function(_,O,Z){return Z&&(O=te(O,Z)),ft=Bi(_,O,{disableWarning:!1}),this};var ua=w.__private__.getFont=w.getFont=function(){return Et[Bi.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,O,Z={};for(_ in Bt)if(Bt.hasOwnProperty(_))for(O in Z[_]=[],Bt[_])Bt[_].hasOwnProperty(O)&&Z[_].push(O);return Z},w.addFont=function(_,O,Z,he,ye){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(Z=te(Z,he)),ot.call(this,_,O,Z,ye=ye||"Identity-H")};var $a,Gs=r.lineWidth||.200025,Ss=w.__private__.getLineWidth=w.getLineWidth=function(){return Gs},Rt=w.__private__.setLineWidth=w.setLineWidth=function(_){return Gs=_,K($(se(_))+" w"),this};w.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(_,O){if(_=_||[],O=O||0,isNaN(O)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(Z){return $(se(Z))}).join(" "),O=$(se(O)),K("["+_+"] "+O+" d"),this};var ec=w.__private__.getLineHeight=w.getLineHeight=function(){return $e*$a};w.__private__.getLineHeight=w.getLineHeight=function(){return $e*$a};var gl=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&($a=_),this},tc=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return $a};gl(r.lineHeight);var Dr=w.__private__.getHorizontalCoordinate=function(_){return se(_)},$i=w.__private__.getVerticalCoordinate=function(_){return U===D?_:mt[I].mediaBox.topRightY-mt[I].mediaBox.bottomLeftY-se(_)},ml=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return $(Dr(_))},Vs=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return $($i(_))},Pr=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Rn(Pr)},w.__private__.setStrokeColor=w.setDrawColor=function(_,O,Z,he){return Pr=vi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"draw",precision:2}),K(Pr),this};var Ys=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Rn(Ys)},w.__private__.setFillColor=w.setFillColor=function(_,O,Z,he){return Ys=vi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"fill",precision:2}),K(Ys),this};var ka=r.textColor||"0 g",nc=w.__private__.getTextColor=w.getTextColor=function(){return Rn(ka)};w.__private__.setTextColor=w.setTextColor=function(_,O,Z,he){return ka=vi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"text",precision:3}),this};var $r=r.charSpace,So=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat($r||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $r=_,this};var No=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var O=w.CapJoinStyles[_];if(O===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return No=O,K(O+" J"),this};var Mi=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var O=w.CapJoinStyles[_];if(O===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mi=O,K(O+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K($(se(_))+" M"),this},w.GState=Af,w.setGState=function(_){(_=typeof _=="string"?Lt[Mt[_]]:Ca(null,_)).equals(En)||(K("/"+_.id+" gs"),En=_)};var Ca=function(_,O){if(!_||!Mt[_]){var Z=!1;for(var he in Lt)if(Lt.hasOwnProperty(he)&&Lt[he].equals(O)){Z=!0;break}if(Z)O=Lt[he];else{var ye="GS"+(Object.keys(Lt).length+1).toString(10);Lt[ye]=O,O.id=ye}return _&&(Mt[_]=O.id),un.publish("addGState",O),O}};w.addGState=function(_,O){return Ca(_,O),this},w.saveGraphicsState=function(){return K("q"),on.push({key:ft,size:$e,color:ka}),this},w.restoreGraphicsState=function(){K("Q");var _=on.pop();return ft=_.key,$e=_.size,ka=_.color,En=null,this},w.setCurrentTransformationMatrix=function(_){return K(_.toString()+" cm"),this},w.comment=function(_){return K("#"+_),this};var Gr=function(_,O){var Z=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Be){isNaN(Be)||(Z=parseFloat(Be))}});var he=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Be){isNaN(Be)||(he=parseFloat(Be))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Be){ye=Be.toString()}}),this},Ga=function(_,O,Z,he){Gr.call(this,_,O),this.type="rect";var ye=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ge){isNaN(Ge)||(ye=parseFloat(Ge))}});var Be=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ge){isNaN(Ge)||(Be=parseFloat(Ge))}}),this},Ao=function(){this.page=Jt,this.currentPage=I,this.pages=Ve.slice(0),this.pagesContext=mt.slice(0),this.x=dt,this.y=Xn,this.matrix=rn,this.width=Ya(I),this.height=vl(I),this.outputDestination=Xe,this.id="",this.objectNumber=-1};Ao.prototype.restore=function(){Jt=this.page,I=this.currentPage,mt=this.pagesContext,Ve=this.pages,dt=this.x,Xn=this.y,rn=this.matrix,Ks(I,this.width),Wa(I,this.height),Xe=this.outputDestination};var Ws=function(_,O,Z,he,ye){_r.push(new Ao),Jt=I=0,Ve=[],dt=_,Xn=O,rn=ye,$t([Z,he])};for(var Va in w.beginFormObject=function(_,O,Z,he,ye){return Ws(_,O,Z,he,ye),this},w.endFormObject=function(_){return(function(O){if(Fr[O])_r.pop().restore();else{var Z=new Ao,he="Xo"+(Object.keys(Pi).length+1).toString(10);Z.id=he,Fr[O]=he,Pi[he]=Z,un.publish("addFormObject",Z),_r.pop().restore()}})(_),this},w.doFormObject=function(_,O){var Z=Pi[Fr[_]];return K("q"),K(O.toString()+" cm"),K("/"+Z.id+" Do"),K("Q"),this},w.getFormObject=function(_){var O=Pi[Fr[_]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},w.save=function(_,O){return _=_||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(ql(xs(Ea()),_),typeof ql.unload=="function"&&Yt.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(Z,he){try{var ye=ql(xs(Ea()),_);typeof ql.unload=="function"&&Yt.setTimeout&&setTimeout(ql.unload,911),Z(ye)}catch(Be){he(Be.message)}})},xt.API)xt.API.hasOwnProperty(Va)&&(Va==="events"&&xt.API.events.length?(function(_,O){var Z,he,ye;for(ye=O.length-1;ye!==-1;ye--)Z=O[ye][0],he=O[ye][1],_.subscribe.apply(_,[Z].concat(typeof he=="function"?[he]:he))})(un,xt.API.events):w[Va]=xt.API[Va]);function Ya(_){return mt[_].mediaBox.topRightX-mt[_].mediaBox.bottomLeftX}function Ks(_,O){mt[_].mediaBox.topRightX=O+mt[_].mediaBox.bottomLeftX}function vl(_){return mt[_].mediaBox.topRightY-mt[_].mediaBox.bottomLeftY}function Wa(_,O){mt[_].mediaBox.topRightY=O+mt[_].mediaBox.bottomLeftY}var Ka=w.getPageWidth=function(_){return Ya(_=_||I)/Ht},ic=w.setPageWidth=function(_,O){Ks(_,O*Ht)},Ja=w.getPageHeight=function(_){return vl(_=_||I)/Ht},rc=w.setPageHeight=function(_,O){Wa(_,O*Ht)};return w.internal={pdfEscape:rt,getStyle:hl,getFont:ua,getFontSize:et,getCharSpace:So,getTextColor:nc,getLineHeight:ec,getLineHeightFactor:tc,getLineWidth:Ss,write:Ke,getHorizontalCoordinate:Dr,getVerticalCoordinate:$i,getCoordinateString:ml,getVerticalCoordinateString:Vs,collections:{},newObject:Un,newAdditionalObject:Aa,newObjectDeferred:ri,newObjectDeferredBegin:mi,getFilters:cr,putStream:xr,events:un,scaleFactor:Ht,pageSize:{getWidth:function(){return Ka(I)},setWidth:function(_){ic(I,_)},getHeight:function(){return Ja(I)},setHeight:function(_){rc(I,_)}},encryptionOptions:b,encryption:ki,getEncryptor:function(_){return b!==null?ki.encryptor(_,0):function(O){return O}},output:cl,getNumberOfPages:kt,get pages(){return Ve},out:K,f2:M,f3:H,getPageInfo:yi,getPageInfoByObjId:xo,getCurrentPageInfo:Jl,getPDFVersion:S,Point:Gr,Rectangle:Ga,Matrix:bt,hasHotfix:hr},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ka(I)},set:function(_){ic(I,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ja(I)},set:function(_){rc(I,_)},enumerable:!0,configurable:!0}),(function(_){for(var O=0,Z=vt.length;O<Z;O++){var he=ot.call(this,_[O][0],_[O][1],_[O][2],vt[O][3],!0);A===!1&&(k[he]=!0);var ye=_[O][0].split("-");Fe({id:he,fontName:ye[0],fontStyle:ye[1]||""})}un.publish("addFonts",{fonts:Et,dictionary:Bt})}).call(w,vt),ft="F1",at(o,n),un.publish("initialized"),w}Wc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Wc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wc.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},Wc.prototype.processOwnerPassword=function(r,e){return M0(B0(e).substr(0,5),r)},Wc.prototype.encryptor=function(r,e){var n=B0(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return M0(n,a)}},Af.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||qn(r)!==qn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;a++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},xt.API={events:[]},xt.version="3.0.4";var ji=xt.API,sp=1,Kl=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(r){return r.toFixed(2)},il=function(r){return r.toFixed(5)};ji.__acroform__={};var oa=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Rg=function(r){return r*sp},Is=function(r){var e=new N5,n=ht.internal.getHeight(r)||0,a=ht.internal.getWidth(r)||0;return e.BBox=[0,0,Number(en(a)),Number(en(n))],e},qw=ji.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Uw=ji.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},Fw=ji.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Oi=ji.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Fw(r,e-1)},Ri=ji.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return qw(r,e-1)},Di=ji.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Uw(r,e-1)},Iw=ji.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,o=r[0],l=r[1],c=r[2],h=r[3],d={};return d.lowerLeft_X=n(o)||0,d.lowerLeft_Y=a(l+h)||0,d.upperRight_X=n(o+c)||0,d.upperRight_Y=a(l)||0,[Number(en(d.lowerLeft_X)),Number(en(d.lowerLeft_Y)),Number(en(d.upperRight_X)),Number(en(d.upperRight_Y))]},zw=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,a=q0(r,n),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+en(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Is(r);return l.scope=r.scope,l.stream=e.join(`
`),l}},q0=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(M){return M.split(`
`)}):o.map(function(M){return[M]});var l=n,c=ht.internal.getHeight(r)||0;c=c<0?-c:c;var h=ht.internal.getWidth(r)||0;h=h<0?-h:h;var d=function(M,H,se){if(M+1<o.length){var ae=H+" "+o[M+1][0];return cf(ae,r,se).width<=h-4}return!1};l++;e:for(;l>0;){e="",l--;var m,b,A=cf("3",r,l).height,k=r.multiline?c-l:(c-A)/2,w=k+=2,j=0,S=0,T=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+cf(e,r,l=12).width+", FieldWidth:"+h+`
`;break}for(var N="",P=0,D=0;D<o.length;D++)if(o.hasOwnProperty(D)){var U=!1;if(o[D].length!==1&&T!==o[D].length-1){if((A+2)*(P+2)+2>c)continue e;N+=o[D][T],U=!0,S=D,D--}else{N=(N+=o[D][T]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var le=parseInt(D),ce=d(le,N,l),te=D>=o.length-1;if(ce&&!te){N+=" ",T=0;continue}if(ce||te){if(te)S=le;else if(r.multiline&&(A+2)*(P+2)+2>c)continue e}else{if(!r.multiline||(A+2)*(P+2)+2>c)continue e;S=le}}for(var $="",Y=j;Y<=S;Y++){var ge=o[Y];if(r.multiline){if(Y===S){$+=ge[T]+" ",T=(T+1)%ge.length;continue}if(Y===j){$+=ge[ge.length-1]+" ";continue}}$+=ge[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,b=cf($,r,l).width,r.textAlign){case"right":m=h-b-2;break;case"center":m=(h-b)/2;break;default:m=2}e+=en(m)+" "+en(w)+` Td
`,e+="("+Kl($)+`) Tj
`,e+=-en(m)+` 0 Td
`,w=-(l+2),b=0,j=U?S:S+1,P++,N=""}break}return a.text=e,a.fontSize=l,a},cf=function(r,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},Hw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$w=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},Gw=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ws.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Hw)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sp=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new A5,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];l.objId=void 0,l.hasAnnotation&&$w(l,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(a,o){var l=!a;for(var c in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var h=a[c],d=[],m=h.Rect;if(h.Rect&&(h.Rect=Iw(h.Rect,o)),o.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ht.createDefaultAppearanceStream(h),qn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(d=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=zw(h);d.push({key:"AP",value:"<</N "+b+">>"}),o.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var A="";for(var k in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(k)){var w=h.appearanceStreamContent[k];if(A+="/"+k+" ",A+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var c in w)if(w.hasOwnProperty(c)){var j=w[c];typeof j=="function"&&(j=j.call(o,h)),A+="/"+c+" "+j+" ",o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j)}}else typeof(j=w)=="function"&&(j=j.call(o,h)),A+="/"+c+" "+j,o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j);A+=">>"}d.push({key:"AP",value:`<<
`+A+">>"})}o.internal.putStream({additionalKeyValues:d,objectId:h.objId}),o.internal.out("endobj")}l&&(function(S,T){for(var N in S)if(S.hasOwnProperty(N)){var P=N,D=S[N];T.internal.newObjectDeferredBegin(D.objId,!0),qn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete S[P]}})(o.internal.acroformPlugin.xForms,o)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},S5=ji.__acroform__.arrayToPdfArray=function(r,e,n){var a=function(c){return c};if(Array.isArray(r)){for(var o="[",l=0;l<r.length;l++)switch(l!==0&&(o+=" "),qn(r[l])){case"boolean":case"number":case"object":o+=r[l].toString();break;case"string":r[l].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),o+="("+Kl(a(r[l].toString()))+")"):o+=r[l].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g0=function(r,e,n){var a=function(o){return o};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+Kl(a(r))+")"},zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zs.prototype.toString=function(){return this.objId+" 0 R"},zs.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},zs.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],o=this[a];o&&(Array.isArray(o)?r.push({key:a,value:S5(o,this.objId,this.scope)}):o instanceof zs?(o.scope=this.scope,r.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:a,value:o}))}return r};var N5=function(){zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};oa(N5,zs);var A5=function(){zs.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Kl(n(r))+")"}},set:function(n){r=n}})};oa(A5,zs);var ws=function r(){zs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oi(e,3)},set:function(N){N?this.F=Ri(e,3):this.F=Di(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof jf)return;l="FieldObject"+r.FieldNum++}var N=function(P){return P};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Kl(N(l))+")"},set:function(N){l=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(N){l=N}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/sp:m},set:function(N){m=N}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){b=N}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof jf||this instanceof $l))return g0(A,this.objId,this.scope)},set:function(N){N=N.toString(),A=N}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof sr==0?g0(k,this.objId,this.scope):k},set:function(N){N=N.toString(),k=this instanceof sr==0?N.substr(0,1)==="("?Fc(N.substr(1,N.length-2)):Fc(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr==1?Fc(k.substr(1,k.length-1)):k},set:function(N){N=N.toString(),k=this instanceof sr==1?"/"+N:N}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof sr==0?g0(w,this.objId,this.scope):w},set:function(N){N=N.toString(),w=this instanceof sr==0?N.substr(0,1)==="("?Fc(N.substr(1,N.length-2)):Fc(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr==1?Fc(w.substr(1,w.length-1)):w},set:function(N){N=N.toString(),w=this instanceof sr==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(N){N=!!N,S=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(N){j=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,1)},set:function(N){N?this.Ff=Ri(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,2)},set:function(N){N?this.Ff=Ri(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,3)},set:function(N){N?this.Ff=Ri(this.Ff,3):this.Ff=Di(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');T=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(T){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};oa(ws,zs);var tu=function(){ws.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return S5(e,this.objId,this.scope)},set:function(n){var a,o;o=[],typeof(a=n)=="string"&&(o=(function(l,c,h){h||(h=1);for(var d,m=[];d=c.exec(l);)m.push(d[h]);return m})(a,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,18)},set:function(n){n?this.Ff=Ri(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ri(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,20)},set:function(n){n?(this.Ff=Ri(this.Ff,20),e.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,22)},set:function(n){n?this.Ff=Ri(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(n){n?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,27)},set:function(n){n?this.Ff=Ri(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};oa(tu,ws);var nu=function(){tu.call(this),this.fontName="helvetica",this.combo=!1};oa(nu,tu);var iu=function(){nu.call(this),this.combo=!0};oa(iu,nu);var yf=function(){iu.call(this),this.edit=!0};oa(yf,iu);var sr=function(){ws.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,15)},set:function(n){n?this.Ff=Ri(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,16)},set:function(n){n?this.Ff=Ri(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,17)},set:function(n){n?this.Ff=Ri(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(n){n?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,o=[];for(a in o.push("<<"),e)o.push("/"+a+" ("+Kl(n(e[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){qn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};oa(sr,ws);var bf=function(){sr.call(this),this.pushButton=!0};oa(bf,sr);var ru=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};oa(ru,sr);var jf=function(){var r,e;ws.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,c=[];for(l in c.push("<<"),a)c.push("/"+l+" ("+Kl(o(a[l]))+")");return c.push(">>"),c.join(`
`)},set:function(o){qn(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oa(jf,ws),ru.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},ru.prototype.createOption=function(r){var e=new jf;return e.Parent=this,e.optionName=r,this.Kids.push(e),Vw.call(this.scope,e),e};var wf=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};oa(wf,sr);var $l=function(){ws.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,13)},set:function(e){e?this.Ff=Ri(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,21)},set:function(e){e?this.Ff=Ri(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(e){e?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,24)},set:function(e){e?this.Ff=Ri(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,25)},set:function(e){e?this.Ff=Ri(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(e){e?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oa($l,ws);var _f=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,14)},set:function(r){r?this.Ff=Ri(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};oa(_f,$l);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),l=q0(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+en(ht.internal.getWidth(r))+" "+en(ht.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+en(l.fontSize)+" Tf "+o),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=[],l=ht.internal.getHeight(r),c=ht.internal.getWidth(r),h=q0(r,r.caption);return o.push("1 g"),o.push("0 0 "+en(c)+" "+en(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+en(c-1)+" "+en(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+en(h.fontSize)+" Tf "+a),o.push(h.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(ht.internal.getWidth(r))+" "+en(ht.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=ht.RadioButton.Circle.YesNormal,e.D[r]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ht.internal.getWidth(r)<=ht.internal.getHeight(r)?ht.internal.getWidth(r)/4:ht.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=ht.internal.Bezier_C,l=Number((a*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+il(ht.internal.getWidth(r)/2)+" "+il(ht.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ht.internal.getWidth(r)<=ht.internal.getHeight(r)?ht.internal.getWidth(r)/4:ht.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*ht.internal.Bezier_C).toFixed(5)),c=Number((a*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+il(ht.internal.getWidth(r)/2)+" "+il(ht.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+il(ht.internal.getWidth(r)/2)+" "+il(ht.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),n.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),n.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),n.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ht.internal.getWidth(r)<=ht.internal.getHeight(r)?ht.internal.getWidth(r)/4:ht.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+il(ht.internal.getWidth(r)/2)+" "+il(ht.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=ht.RadioButton.Cross.YesNormal,e.D[r]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ht.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+en(ht.internal.getWidth(r)-2)+" "+en(ht.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(en(a.x1.x)+" "+en(a.x1.y)+" m"),n.push(en(a.x2.x)+" "+en(a.x2.y)+" l"),n.push(en(a.x4.x)+" "+en(a.x4.y)+" m"),n.push(en(a.x3.x)+" "+en(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=ht.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+en(ht.internal.getWidth(r))+" "+en(ht.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+en(ht.internal.getWidth(r)-2)+" "+en(ht.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(en(n.x1.x)+" "+en(n.x1.y)+" m"),a.push(en(n.x2.x)+" "+en(n.x2.y)+" l"),a.push(en(n.x4.x)+" "+en(n.x4.y)+" m"),a.push(en(n.x3.x)+" "+en(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(ht.internal.getWidth(r))+" "+en(ht.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};ht.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=ht.internal.getWidth(r),n=ht.internal.getHeight(r),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},ht.internal.getWidth=function(r){var e=0;return qn(r)==="object"&&(e=Rg(r.Rect[2])),e},ht.internal.getHeight=function(r){var e=0;return qn(r)==="object"&&(e=Rg(r.Rect[3])),e};var Vw=ji.addField=function(r){if(Gw(this,r),!(r instanceof ws))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ji.AcroFormChoiceField=tu,ji.AcroFormListBox=nu,ji.AcroFormComboBox=iu,ji.AcroFormEditBox=yf,ji.AcroFormButton=sr,ji.AcroFormPushButton=bf,ji.AcroFormRadioButton=ru,ji.AcroFormCheckBox=wf,ji.AcroFormTextField=$l,ji.AcroFormPasswordField=_f,ji.AcroFormAppearance=ht,ji.AcroForm={ChoiceField:tu,ListBox:nu,ComboBox:iu,EditBox:yf,Button:sr,PushButton:bf,RadioButton:ru,CheckBox:wf,TextField:$l,PasswordField:_f,Appearance:ht},xt.AcroForm={ChoiceField:tu,ListBox:nu,ComboBox:iu,EditBox:yf,Button:sr,PushButton:bf,RadioButton:ru,CheckBox:wf,TextField:$l,PasswordField:_f,Appearance:ht};xt.AcroForm;function j5(r){return r.reduce(function(e,n,a){return e[n]=a,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=r.__addimage__.getImageFileTypeByImageData=function(M,H){var se,ae,we,ee,X,re=n;if((H=H||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(ce(M))for(X in a)for(we=a[X],se=0;se<we.length;se+=1){for(ee=!0,ae=0;ae<we[se].length;ae+=1)if(we[se][ae]!==void 0&&we[se][ae]!==M[ae]){ee=!1;break}if(ee===!0){re=X;break}}else for(X in a)for(we=a[X],se=0;se<we.length;se+=1){for(ee=!0,ae=0;ae<we[se].length;ae+=1)if(we[se][ae]!==void 0&&we[se][ae]!==M.charCodeAt(ae)){ee=!1;break}if(ee===!0){re=X;break}}return re===n&&H!==n&&(re=H),re},l=function M(H){for(var se=this.internal.write,ae=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:H.width}),ee.push({key:"Height",value:H.height}),H.colorSpace===N.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===N.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var X="",re=0,xe=H.transparency.length;re<xe;re++)X+=H.transparency[re]+" "+H.transparency[re]+" ";ee.push({key:"Mask",value:"["+X+"]"})}H.sMask!==void 0&&ee.push({key:"SMask",value:H.objectId+1+" 0 R"});var Le=H.filter!==void 0?["/"+H.filter]:void 0;if(ae({data:H.data,additionalKeyValues:ee,alreadyAppliedFilters:Le,objectId:H.objectId}),se("endobj"),"sMask"in H&&H.sMask!==void 0){var G,L=(G=H.sMaskBitsPerComponent)!==null&&G!==void 0?G:H.bitsPerComponent,I={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:H.sMask};"filter"in H&&(I.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(H.width),I.filter=H.filter),M.call(this,I)}if(H.colorSpace===N.INDEXED){var W=this.internal.newObject();ae({data:$(new Uint8Array(H.palette)),objectId:W}),se("endobj")}},c=function(){var M=this.internal.collections[e+"images"];for(var H in M)l.call(this,M[H])},h=function(){var M,H=this.internal.collections[e+"images"],se=this.internal.write;for(var ae in H)se("/I"+(M=H[ae]).index,M.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var M=this.internal.collections[e+"images"];return d.call(this),M},b=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(M){return typeof r["process"+M.toUpperCase()]=="function"},k=function(M){return qn(M)==="object"&&M.nodeType===1},w=function(M,H){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var se=""+M.getAttribute("src");if(se.indexOf("data:image/")===0)return vf(unescape(se).split("base64,").pop());var ae=r.loadFile(se,!0);if(ae!==void 0)return ae}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var we;switch(H){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return vf(M.toDataURL(we,1).split("base64,").pop())}},j=function(M){var H=this.internal.collections[e+"images"];if(H){for(var se in H)if(M===H[se].alias)return H[se]}},S=function(M,H,se){return M||H||(M=-96,H=-96),M<0&&(M=-1*se.width*72/M/this.internal.scaleFactor),H<0&&(H=-1*se.height*72/H/this.internal.scaleFactor),M===0&&(M=H*se.width/se.height),H===0&&(H=M*se.height/se.width),[M,H]},T=function(M,H,se,ae,we,ee){var X=S.call(this,se,ae,we),re=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Le=m.call(this);if(se=X[0],ae=X[1],Le[we.index]=we,ee){ee*=Math.PI/180;var G=Math.cos(ee),L=Math.sin(ee),I=function(ie){return ie.toFixed(4)},W=[I(G),I(L),I(-1*L),I(G),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,re(M),xe(H+ae),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([re(se),"0","0",re(ae),"0","0","cm"].join(" "))):this.internal.write([re(se),"0","0",re(ae),re(M),xe(H+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},N=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(M){var H,se,ae=0;if(typeof M=="string")for(se=M.length,H=0;H<se;H++)ae=(ae<<5)-ae+M.charCodeAt(H),ae|=0;else if(ce(M))for(se=M.byteLength/2,H=0;H<se;H++)ae=(ae<<5)-ae+M[H],ae|=0;return ae},U=r.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var H=!0;return M.length===0&&(H=!1),M.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(H=!1),H},le=r.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var H=M.indexOf(",");return H<0?null:M.substring(0,H).trim().endsWith("base64")?M.substring(H+1):null};r.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var ce=r.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},te=r.__addimage__.binaryStringToUint8Array=function(M){for(var H=M.length,se=new Uint8Array(H),ae=0;ae<H;ae++)se[ae]=M.charCodeAt(ae);return se},$=r.__addimage__.arrayBufferToBinaryString=function(M){for(var H="",se=ce(M)?M:new Uint8Array(M),ae=0;ae<se.length;ae+=8192)H+=String.fromCharCode.apply(null,se.subarray(ae,ae+8192));return H};r.addImage=function(){var M,H,se,ae,we,ee,X,re,xe;if(typeof arguments[1]=="number"?(H=n,se=arguments[1],ae=arguments[2],we=arguments[3],ee=arguments[4],X=arguments[5],re=arguments[6],xe=arguments[7]):(H=arguments[1],se=arguments[2],ae=arguments[3],we=arguments[4],ee=arguments[5],X=arguments[6],re=arguments[7],xe=arguments[8]),qn(M=arguments[0])==="object"&&!k(M)&&"imageData"in M){var Le=M;M=Le.imageData,H=Le.format||H||n,se=Le.x||se||0,ae=Le.y||ae||0,we=Le.w||Le.width||we,ee=Le.h||Le.height||ee,X=Le.alias||X,re=Le.compression||re,xe=Le.rotation||Le.angle||xe}var G=this.internal.getFilters();if(re===void 0&&G.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(se)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var L=Y.call(this,M,H,X,re);return T.call(this,se,ae,we,ee,L,xe),this};var Y=function(M,H,se,ae){var we,ee,X;if(typeof M=="string"&&o(M)===n){M=unescape(M);var re=ge(M,!1);(re!==""||(re=r.loadFile(M,!0))!==void 0)&&(M=re)}if(k(M)&&(M=w(M,H)),H=o(M,H),!A(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((X=se)==null||X.length===0)&&(se=(function(xe){return typeof xe=="string"||ce(xe)?D(xe):ce(xe.data)?D(xe.data):null})(M)),(we=j.call(this,se))||(M instanceof Uint8Array||H==="RGBA"||(ee=M,M=te(M)),we=this["process"+H.toUpperCase()](M,b.call(this),se,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in r.image_compression?xe:P.NONE})(ae),ee)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},ge=r.__addimage__.convertBase64ToBinaryString=function(M,H){H=typeof H!="boolean"||H;var se,ae="";if(typeof M=="string"){var we;se=(we=le(M))!==null&&we!==void 0?we:M;try{ae=vf(se)}catch(ee){if(H)throw U(se)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};r.getImageProperties=function(M){var H,se,ae="";if(k(M)&&(M=w(M)),typeof M=="string"&&o(M)===n&&((ae=ge(M,!1))===""&&(ae=r.loadFile(M)||""),M=ae),se=o(M),!A(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(M instanceof Uint8Array||(M=te(M)),!(H=this["process"+se.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=se,H}})(xt.API),(function(r){var e=function(n){if(n!==void 0&&n!="")return!0};xt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var a,o,l,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,b=!1,A=0;A<m.length&&!b;A++)switch((a=m[A]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var k=0;k<m.length;k++){a=m[k];var w=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(S.objId),P=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+c(a.bounds.x)+" "+h(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y)+"] ")+"/Contents ("+w(N(a.contents))+")",l+=" /Popup "+T.objId+" 0 R",l+=" /P "+d.objId+" 0 R",l+=" /T ("+w(N(P))+") >>",S.content=l;var D=S.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+c(a.bounds.x+30)+" "+h(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+h(a.bounds.y)+"] ")+" /Parent "+D,a.open&&(l+=" /Open true"),l+=" >>",T.content=l,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":o="/Rect ["+c(a.bounds.x)+" "+h(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y+a.bounds.h)+"] ";var U=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+w(j(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var le=this.annotations._nameMap[a.options.name];a.options.pageNumber=le.page,a.options.top=le.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+w(j(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ce=h(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ce+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},r.link=function(n,a,o,l,c){var h=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:d(n),y:m(a),w:d(n+o),h:m(a+l)},options:c,type:"link"})},r.textWithLink=function(n,a,o,l){var c,h,d=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var b=this.splitTextToSize(n,h).length;c=Math.ceil(m*b)}else h=d,c=m;return this.text(n,a,o,l),o+=.2*m,l.align==="center"&&(a-=d/2),l.align==="right"&&(a-=d),this.link(a,o-m,h,c,l),d},r.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(xt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var l=r.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=r.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},h=r.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&o.indexOf(S.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=1};var m=r.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length>=3};var b=r.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&l(S)&&e[S.charCodeAt(0)].length==4},A=r.__arabicParser__.resolveLigatures=function(S){var T=0,N=n,P="",D=0;for(T=0;T<S.length;T+=1)N[S.charCodeAt(T)]!==void 0?(D++,typeof(N=N[S.charCodeAt(T)])=="number"&&(P+=String.fromCharCode(N),N=n,D=0),T===S.length-1&&(N=n,P+=S.charAt(T-(D-1)),T-=D-1,D=0)):(N=n,P+=S.charAt(T-D),T-=D,D=0);return P};r.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&a[S.charCodeAt(0)]!==void 0};var k=r.__arabicParser__.getCorrectForm=function(S,T,N){return c(S)?l(S)===!1?-1:!m(S)||!c(T)&&!c(N)||!c(N)&&h(T)||h(S)&&!c(T)||h(S)&&d(T)||h(S)&&h(T)?0:b(S)&&c(T)&&!h(T)&&c(N)&&m(N)?3:h(S)||!c(N)?1:2:-1},w=function(S){var T=0,N=0,P=0,D="",U="",le="",ce=(S=S||"").split("\\s+"),te=[];for(T=0;T<ce.length;T+=1){for(te.push(""),N=0;N<ce[T].length;N+=1)D=ce[T][N],U=ce[T][N-1],le=ce[T][N+1],c(D)?(P=k(D,U,le),te[T]+=P!==-1?String.fromCharCode(e[D.charCodeAt(0)][P]):D):te[T]+=D;te[T]=A(te[T])}return te.join(" ")},j=r.__arabicParser__.processArabic=r.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(T)){var P=0;for(N=[],P=0;P<T.length;P+=1)Array.isArray(T[P])?N.push([w(T[P][0]),T[P][1],T[P][2]]):N.push([w(T[P])]);S=N}else S=w(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};r.events.push(["preProcessText",j])})(xt.API),xt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var o;if((n=n||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(xt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(S){A=S}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(S){k=S}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(S){j=S}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return a.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,m){a.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),A=m.font||this.getFont(),k=m.scaleFactor||this.internal.scaleFactor,w=0,j=0,S=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var N=m.maxWidth;N>0?typeof d=="string"?d=this.splitTextToSize(d,N):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(D,U){return D.concat(T.splitTextToSize(U,N))},[])):d=Array.isArray(d)?d:[d];for(var P=0;P<d.length;P++)w<(S=this.getStringUnitWidth(d[P],{font:A})*b)&&(w=S);return w!==0&&(j=d.length),{w:w/=k,h:Math.max((j*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/k,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=r.cell=function(){var d;d=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,k=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=A.top,w&&k&&(this.printHeaderRow(d.lineNumber,!0),d.y+=k[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};r.table=function(d,m,b,A,k){if(a.call(this),!b)throw new Error("No data for PDF table.");var w,j,S,T,N=[],P=[],D=[],U={},le={},ce=[],te=[],$=(k=k||{}).autoSize||!1,Y=k.printHeaders!==!1,ge=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,M=k.margins||Object.assign({width:this.getPageWidth()},e),H=typeof k.padding=="number"?k.padding:3,se=k.headerBackgroundColor||"#c8c8c8",ae=k.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=ae,this.setFontSize(ge),A==null)P=N=Object.keys(b[0]),D=N.map(function(){return"left"});else if(Array.isArray(A)&&qn(A[0])==="object")for(N=A.map(function(Le){return Le.name}),P=A.map(function(Le){return Le.prompt||Le.name||""}),D=A.map(function(Le){return Le.align||"left"}),w=0;w<A.length;w+=1)le[A[w].name]=.7499990551181103*A[w].width;else Array.isArray(A)&&typeof A[0]=="string"&&(P=N=A,D=N.map(function(){return"left"}));if($||Array.isArray(A)&&typeof A[0]=="string")for(w=0;w<N.length;w+=1){for(U[T=N[w]]=b.map(function(Le){return Le[T]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(P[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=U[T],this.setFont(void 0,"normal"),S=0;S<j.length;S+=1)ce.push(this.getTextDimensions(j[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[T]=Math.max.apply(null,ce)+H+H,ce=[]}if(Y){var we={};for(w=0;w<N.length;w+=1)we[N[w]]={},we[N[w]].text=P[w],we[N[w]].align=D[w];var ee=h.call(this,we,le);te=N.map(function(Le){return new l(d,m,le[Le],ee,we[Le].text,void 0,we[Le].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var X=A.reduce(function(Le,G){return Le[G.name]=G.align,Le},{});for(w=0;w<b.length;w+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:w,data:b[w]},this);var re=h.call(this,b[w],le);for(S=0;S<N.length;S+=1){var xe=b[w][N[S]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:w,col:S,data:xe},this),c.call(this,new l(d,m,le[N[S]],re,xe,w+2,X[N[S]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var h=function(d,m){var b=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(d).map(function(w){var j=d[w];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,m[w]-b-b)},this).map(function(w){return this.getLineHeightFactor()*w.length*A/k+b+b},this).reduce(function(w,j){return Math.max(w,j)},0)};r.setTableHeaderRow=function(d){a.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,m){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,k.push(b)),b.lineNumber=d;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,b),this.setTextColor(j)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),n=!1}})(xt.API);var E5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},k5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U0=j5(k5),C5=[100,200,300,400,500,600,700,800,900],Yw=j5(C5);function m0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return E5[l=l||"normal"]?l:"normal"})(r.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(r.weight),o=(function(l){return typeof U0[l=l||"normal"]=="number"?l:"normal"})(r.stretch);return{family:e,style:n,weight:a,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,n,a].join(" ")}}}function Dg(r,e,n,a){var o;for(o=n;o>=0&&o<e.length;o+=a)if(r[e[o]])return r[e[o]];for(o=n;o>=0&&o<e.length;o-=a)if(r[e[o]])return r[e[o]]}var Ww={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Pg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bg(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Mg(r){return r.trimLeft()}function Kw(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function Jw(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var uf,qg,Ug,Ic,hf,Fg,Ig,zg,v0=["times"];function Hg(r,e,n,a,o){var l=4,c=Gg;switch(o){case xt.API.image_compression.FAST:l=1,c=$g;break;case xt.API.image_compression.MEDIUM:l=6,c=Vg;break;case xt.API.image_compression.SLOW:l=9,c=Yg}r=(function(d,m,b,A){for(var k,w=d.length/m,j=new Uint8Array(d.length+w),S=[Xw,$g,Gg,Vg,Yg],T=0;T<w;T+=1){var N=T*m,P=d.subarray(N,N+m);if(A)j.set(A(P,b,k),N+T);else{for(var D=S.length,U=[],le=0;le<D;le+=1)U[le]=S[le](P,b,k);var ce=Zw(U.concat());j.set(U[ce],N+T)}k=P}return j})(r,e,Math.ceil(n*a/8),c);var h=O0(r,{level:l});return xt.API.__addimage__.arrayBufferToBinaryString(h)}function Xw(r){var e=Array.apply([],r);return e.unshift(0),e}function $g(r,e){var n=r.length,a=[];a[0]=1;for(var o=0;o<n;o+=1){var l=r[o-e]||0;a[o+1]=r[o]-l+256&255}return a}function Gg(r,e,n){var a=r.length,o=[];o[0]=2;for(var l=0;l<a;l+=1){var c=n&&n[l]||0;o[l+1]=r[l]-c+256&255}return o}function Vg(r,e,n){var a=r.length,o=[];o[0]=3;for(var l=0;l<a;l+=1){var c=r[l-e]||0,h=n&&n[l]||0;o[l+1]=r[l]+256-(c+h>>>1)&255}return o}function Yg(r,e,n){var a=r.length,o=[];o[0]=4;for(var l=0;l<a;l+=1){var c=Qw(r[l-e]||0,n&&n[l]||0,n&&n[l-e]||0);o[l+1]=r[l]-c+256&255}return o}function Qw(r,e,n){if(r===e&&e===n)return r;var a=Math.abs(e-n),o=Math.abs(r-n),l=Math.abs(r+e-n-n);return a<=o&&a<=l?r:o<=l?e:n}function Zw(r){var e=r.map(function(n){return n.reduce(function(a,o){return a+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function y0(r,e,n){var a=e*n,o=Math.floor(a/8),l=16-(a-8*o+n),c=(1<<n)-1;return T5(r,o)>>l&c}function Wg(r,e,n,a){var o=n*a,l=Math.floor(o/8),c=16-(o-8*l+a),h=(1<<a)-1,d=(e&h)<<c;(function(m,b,A){if(b+1<m.byteLength)m.setUint16(b,A,!1);else{var k=A>>8&255;m.setUint8(b,k)}})(r,l,T5(r,l)&~(h<<c)&65535|d)}function T5(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function e4(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,a=r[e++]|r[e++]<<8,o=r[e++],l=o>>7,c=1<<1+(7&o);r[e++],r[e++];var h=null,d=null;l&&(h=e,d=c,e+=3*c);var m=!0,b=[],A=0,k=null,w=0,j=null;for(this.width=n,this.height=a;m&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,j=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=r[e++];A=r[e++]|r[e++]<<8,k=r[e++],1&S||(k=null),w=S>>2&7,e++;break;case 254:for(;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,U=r[e++],le=U>>6&1,ce=1<<1+(7&U),te=h,$=d,Y=!1;U>>7&&(Y=!0,te=e,$=ce,e+=3*ce);var ge=e;for(e++;;){var M;if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}b.push({x:T,y:N,width:P,height:D,has_local_palette:Y,palette_offset:te,palette_size:$,data_offset:ge,data_length:e-ge,transparent_index:k,interlaced:!!le,delay:A,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return j},this.frameInfo=function(H){if(H<0||H>=b.length)throw new Error("Frame index out of range.");return b[H]},this.decodeAndBlitFrameBGRA=function(H,se){var ae=this.frameInfo(H),we=ae.width*ae.height,ee=new Uint8Array(we);Kg(r,ae.data_offset,ee,we);var X=ae.palette_offset,re=ae.transparent_index;re===null&&(re=256);var xe=ae.width,Le=n-xe,G=xe,L=4*(ae.y*n+ae.x),I=4*((ae.y+ae.height)*n+ae.x),W=L,ie=4*Le;ae.interlaced===!0&&(ie+=4*n*7);for(var ue=8,pe=0,ke=ee.length;pe<ke;++pe){var je=ee[pe];if(G===0&&(G=xe,(W+=ie)>=I&&(ie=4*Le+4*n*(ue-1),W=L+(xe+Le)*(ue<<1),ue>>=1)),je===re)W+=4;else{var Pe=r[X+3*je],Ve=r[X+3*je+1],Ze=r[X+3*je+2];se[W++]=Ze,se[W++]=Ve,se[W++]=Pe,se[W++]=255}--G}},this.decodeAndBlitFrameRGBA=function(H,se){var ae=this.frameInfo(H),we=ae.width*ae.height,ee=new Uint8Array(we);Kg(r,ae.data_offset,ee,we);var X=ae.palette_offset,re=ae.transparent_index;re===null&&(re=256);var xe=ae.width,Le=n-xe,G=xe,L=4*(ae.y*n+ae.x),I=4*((ae.y+ae.height)*n+ae.x),W=L,ie=4*Le;ae.interlaced===!0&&(ie+=4*n*7);for(var ue=8,pe=0,ke=ee.length;pe<ke;++pe){var je=ee[pe];if(G===0&&(G=xe,(W+=ie)>=I&&(ie=4*Le+4*n*(ue-1),W=L+(xe+Le)*(ue<<1),ue>>=1)),je===re)W+=4;else{var Pe=r[X+3*je],Ve=r[X+3*je+1],Ze=r[X+3*je+2];se[W++]=Pe,se[W++]=Ve,se[W++]=Ze,se[W++]=255}--G}}}function Kg(r,e,n,a){for(var o=r[e++],l=1<<o,c=l+1,h=c+1,d=o+1,m=(1<<d)-1,b=0,A=0,k=0,w=r[e++],j=new Int32Array(4096),S=null;;){for(;b<16&&w!==0;)A|=r[e++]<<b,b+=8,w===1?w=r[e++]:--w;if(b<d)break;var T=A&m;if(A>>=d,b-=d,T!==l){if(T===c)break;for(var N=T<h?T:S,P=0,D=N;D>l;)D=j[D]>>8,++P;var U=D;if(k+P+(N!==T?1:0)>a)return void Kn.log("Warning, gif stream longer than expected.");n[k++]=U;var le=k+=P;for(N!==T&&(n[k++]=U),D=N;P--;)D=j[D],n[--le]=255&D,D>>=8;S!==null&&h<4096&&(j[h++]=S<<8|U,h>=m+1&&d<12&&(++d,m=m<<1|1)),S=T}else h=c+1,m=(1<<(d=o+1))-1,S=null}return k!==a&&Kn.log("Warning, gif stream shorter than expected."),n}function b0(r){var e,n,a,o,l,c=Math.floor,h=new Array(64),d=new Array(64),m=new Array(64),b=new Array(64),A=new Array(65535),k=new Array(65535),w=new Array(64),j=new Array(64),S=[],T=0,N=7,P=new Array(64),D=new Array(64),U=new Array(64),le=new Array(256),ce=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(L,I){for(var W=0,ie=0,ue=new Array,pe=1;pe<=16;pe++){for(var ke=1;ke<=L[pe];ke++)ue[I[ie]]=[],ue[I[ie]][0]=W,ue[I[ie]][1]=pe,ie++,W++;W*=2}return ue}function X(L){for(var I=L[0],W=L[1]-1;W>=0;)I&1<<W&&(T|=1<<N),W--,--N<0&&(T==255?(re(255),re(0)):re(T),N=7,T=0)}function re(L){S.push(L)}function xe(L){re(L>>8&255),re(255&L)}function Le(L,I,W,ie,ue){for(var pe,ke=ue[0],je=ue[240],Pe=(function($e,St){var et,At,yt,Wt,It,zt,sn,tn,ft,Ht,dt=0;for(ft=0;ft<8;++ft){et=$e[dt],At=$e[dt+1],yt=$e[dt+2],Wt=$e[dt+3],It=$e[dt+4],zt=$e[dt+5],sn=$e[dt+6];var Xn=et+(tn=$e[dt+7]),rn=et-tn,Et=At+sn,Bt=At-sn,on=yt+zt,Nt=yt-zt,On=Wt+It,Lt=Wt-It,Mt=Xn+On,En=Xn-On,Jt=Et+on,mt=Et-on;$e[dt]=Mt+Jt,$e[dt+4]=Mt-Jt;var un=.707106781*(mt+En);$e[dt+2]=En+un,$e[dt+6]=En-un;var Or=.382683433*((Mt=Lt+Nt)-(mt=Bt+rn)),Pi=.5411961*Mt+Or,Fr=1.306562965*mt+Or,_r=.707106781*(Jt=Nt+Bt),bt=rn+_r,la=rn-_r;$e[dt+5]=la+Pi,$e[dt+3]=la-Pi,$e[dt+1]=bt+Fr,$e[dt+7]=bt-Fr,dt+=8}for(dt=0,ft=0;ft<8;++ft){et=$e[dt],At=$e[dt+8],yt=$e[dt+16],Wt=$e[dt+24],It=$e[dt+32],zt=$e[dt+40],sn=$e[dt+48];var Ir=et+(tn=$e[dt+56]),or=et-tn,lr=At+sn,Un=At-sn,ri=yt+zt,mi=yt-zt,Aa=Wt+It,Hi=Wt-It,kn=Ir+Aa,Rn=Ir-Aa,vi=lr+ri,cr=lr-ri;$e[dt]=kn+vi,$e[dt+32]=kn-vi;var xr=.707106781*(cr+Rn);$e[dt+16]=Rn+xr,$e[dt+48]=Rn-xr;var ja=.382683433*((kn=Hi+mi)-(cr=Un+or)),Sr=.5411961*kn+ja,Dn=1.306562965*cr+ja,zr=.707106781*(vi=mi+Un),Rr=or+zr,ne=or-zr;$e[dt+40]=ne+Sr,$e[dt+24]=ne-Sr,$e[dt+8]=Rr+Dn,$e[dt+56]=Rr-Dn,dt++}for(ft=0;ft<64;++ft)Ht=$e[ft]*St[ft],w[ft]=Ht>0?Ht+.5|0:Ht-.5|0;return w})(L,I),Ve=0;Ve<64;++Ve)j[te[Ve]]=Pe[Ve];var Ze=j[0]-W;W=j[0],Ze==0?X(ie[0]):(X(ie[k[pe=32767+Ze]]),X(A[pe]));for(var Xe=63;Xe>0&&j[Xe]==0;)Xe--;if(Xe==0)return X(ke),W;for(var it,K=1;K<=Xe;){for(var Ke=K;j[K]==0&&K<=Xe;)++K;var Kt=K-Ke;if(Kt>=16){it=Kt>>4;for(var vt=1;vt<=it;++vt)X(je);Kt&=15}pe=32767+j[K],X(ue[(Kt<<4)+k[pe]]),X(A[pe]),K++}return Xe!=63&&X(ke),W}function G(L){L=Math.min(Math.max(L,1),100),l!=L&&((function(I){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ue=c((W[ie]*I+50)/100);ue=Math.min(Math.max(ue,1),255),h[te[ie]]=ue}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var je=c((pe[ke]*I+50)/100);je=Math.min(Math.max(je,1),255),d[te[ke]]=je}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Ze=0;Ze<8;Ze++)for(var Xe=0;Xe<8;Xe++)m[Ve]=1/(h[te[Ve]]*Pe[Ze]*Pe[Xe]*8),b[Ve]=1/(d[te[Ve]]*Pe[Ze]*Pe[Xe]*8),Ve++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),l=L)}this.encode=function(L,I){I&&G(I),S=new Array,T=0,N=7,xe(65496),xe(65504),xe(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),xe(1),xe(1),re(0),re(0),(function(){xe(65499),xe(132),re(0);for(var At=0;At<64;At++)re(h[At]);re(1);for(var yt=0;yt<64;yt++)re(d[yt])})(),(function(At,yt){xe(65472),xe(17),re(8),xe(yt),xe(At),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(L.width,L.height),(function(){xe(65476),xe(418),re(0);for(var At=0;At<16;At++)re($[At+1]);for(var yt=0;yt<=11;yt++)re(Y[yt]);re(16);for(var Wt=0;Wt<16;Wt++)re(ge[Wt+1]);for(var It=0;It<=161;It++)re(M[It]);re(1);for(var zt=0;zt<16;zt++)re(H[zt+1]);for(var sn=0;sn<=11;sn++)re(se[sn]);re(17);for(var tn=0;tn<16;tn++)re(ae[tn+1]);for(var ft=0;ft<=161;ft++)re(we[ft])})(),xe(65498),xe(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var W=0,ie=0,ue=0;T=0,N=7,this.encode.displayName="_encode_";for(var pe,ke,je,Pe,Ve,Ze,Xe,it,K,Ke=L.data,Kt=L.width,vt=L.height,$e=4*Kt,St=0;St<vt;){for(pe=0;pe<$e;){for(Ve=$e*St+pe,Xe=-1,it=0,K=0;K<64;K++)Ze=Ve+(it=K>>3)*$e+(Xe=4*(7&K)),St+it>=vt&&(Ze-=$e*(St+1+it-vt)),pe+Xe>=$e&&(Ze-=pe+Xe-$e+4),ke=Ke[Ze++],je=Ke[Ze++],Pe=Ke[Ze++],P[K]=(ce[ke]+ce[je+256|0]+ce[Pe+512|0]>>16)-128,D[K]=(ce[ke+768|0]+ce[je+1024|0]+ce[Pe+1280|0]>>16)-128,U[K]=(ce[ke+1280|0]+ce[je+1536|0]+ce[Pe+1792|0]>>16)-128;W=Le(P,m,W,e,a),ie=Le(D,b,ie,n,o),ue=Le(U,b,ue,n,o),pe+=32}St+=8}if(N>=0){var et=[];et[1]=N+1,et[0]=(1<<N+1)-1,X(et)}return xe(65497),new Uint8Array(S)},r=r||50,(function(){for(var L=String.fromCharCode,I=0;I<256;I++)le[I]=L(I)})(),e=ee($,Y),n=ee(H,se),a=ee(ge,M),o=ee(ae,we),(function(){for(var L=1,I=2,W=1;W<=15;W++){for(var ie=L;ie<I;ie++)k[32767+ie]=W,A[32767+ie]=[],A[32767+ie][1]=W,A[32767+ie][0]=ie;for(var ue=-(I-1);ue<=-L;ue++)k[32767+ue]=W,A[32767+ue]=[],A[32767+ue][1]=W,A[32767+ue][0]=I-1+ue;L<<=1,I<<=1}})(),(function(){for(var L=0;L<256;L++)ce[L]=19595*L,ce[L+256|0]=38470*L,ce[L+512|0]=7471*L+32768,ce[L+768|0]=-11059*L,ce[L+1024|0]=-21709*L,ce[L+1280|0]=32768*L+8421375,ce[L+1536|0]=-27439*L,ce[L+1792|0]=-5329*L})(),G(r)}function gs(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jg(r){function e(Y){if(!Y)throw Error("assert :P")}function n(Y,ge,M){for(var H=0;4>H;H++)if(Y[ge+H]!=M.charCodeAt(H))return!0;return!1}function a(Y,ge,M,H,se){for(var ae=0;ae<se;ae++)Y[ge+ae]=M[H+ae]}function o(Y,ge,M,H){for(var se=0;se<H;se++)Y[ge+se]=M}function l(Y){return new Int32Array(Y)}function c(Y,ge){for(var M=[],H=0;H<Y;H++)M.push(new ge);return M}function h(Y,ge){var M=[];return(function H(se,ae,we){for(var ee=we[ae],X=0;X<ee&&(se.push(we.length>ae+1?[]:new ge),!(we.length<ae+1));X++)H(se[X],ae+1,we)})(M,0,Y),M}var d=function(){var Y=this;function ge(f,v){for(var x=1<<v-1>>>0;f&x;)x>>>=1;return x?(f&x-1)+x:f}function M(f,v,x,E,R){e(!(E%x));do f[v+(E-=x)]=R;while(0<E)}function H(f,v,x,E,R){if(e(2328>=R),512>=R)var B=l(512);else if((B=l(R))==null)return 0;return(function(q,z,V,Q,fe,Ne){var J,ve,_e=z,Re=1<<V,Se=l(16),Oe=l(16);for(e(fe!=0),e(Q!=null),e(q!=null),e(0<V),ve=0;ve<fe;++ve){if(15<Q[ve])return 0;++Se[Q[ve]]}if(Se[0]==fe)return 0;for(Oe[1]=0,J=1;15>J;++J){if(Se[J]>1<<J)return 0;Oe[J+1]=Oe[J]+Se[J]}for(ve=0;ve<fe;++ve)J=Q[ve],0<Q[ve]&&(Ne[Oe[J]++]=ve);if(Oe[15]==1)return(Q=new se).g=0,Q.value=Ne[0],M(q,_e,1,Re,Q),Re;var Me,Ye=-1,ze=Re-1,ut=0,tt=1,Gt=1,st=1<<V;for(ve=0,J=1,fe=2;J<=V;++J,fe<<=1){if(tt+=Gt<<=1,0>(Gt-=Se[J]))return 0;for(;0<Se[J];--Se[J])(Q=new se).g=J,Q.value=Ne[ve++],M(q,_e+ut,fe,st,Q),ut=ge(ut,J)}for(J=V+1,fe=2;15>=J;++J,fe<<=1){if(tt+=Gt<<=1,0>(Gt-=Se[J]))return 0;for(;0<Se[J];--Se[J]){if(Q=new se,(ut&ze)!=Ye){for(_e+=st,Me=1<<(Ye=J)-V;15>Ye&&!(0>=(Me-=Se[Ye]));)++Ye,Me<<=1;Re+=st=1<<(Me=Ye-V),q[z+(Ye=ut&ze)].g=Me+V,q[z+Ye].value=_e-z-Ye}Q.g=J-V,Q.value=Ne[ve++],M(q,_e+(ut>>V),fe,st,Q),ut=ge(ut,J)}}return tt!=2*Oe[15]-1?0:Re})(f,v,x,E,R,B)}function se(){this.value=this.g=0}function ae(){this.value=this.g=0}function we(){this.G=c(5,se),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(js,ae)}function ee(f,v,x,E){e(f!=null),e(v!=null),e(2147483648>E),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=x,f.Jd=v,f.Yc=x+E,f.Zc=4<=E?x+E-4+1:x,ke(f)}function X(f,v){for(var x=0;0<v--;)x|=Pe(f,128)<<v;return x}function re(f,v){var x=X(f,v);return je(f)?-x:x}function xe(f,v,x,E){var R,B=0;for(e(f!=null),e(v!=null),e(4294967288>E),f.Sb=E,f.Ra=0,f.u=0,f.h=0,4<E&&(E=4),R=0;R<E;++R)B+=v[x+R]<<8*R;f.Ra=B,f.bb=E,f.oa=v,f.pa=x}function Le(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Oa-8>>>0,++f.bb,f.u-=8;ie(f)&&(f.h=1,f.u=0)}function G(f,v){if(e(0<=v),!f.h&&v<=pr){var x=W(f)&Ar[v];return f.u+=v,Le(f),x}return f.h=1,f.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(f){return f.Ra>>>(f.u&Oa-1)>>>0}function ie(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Oa}function ue(f,v){f.u=v,f.h=ie(f)}function pe(f){f.u>=Ra&&(e(f.u>=Ra),Le(f))}function ke(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function je(f){return X(f,1)}function Pe(f,v){var x=f.Ca;0>f.b&&ke(f);var E=f.b,R=x*v>>>8,B=(f.I>>>E>R)+0;for(B?(x-=R,f.I-=R+1<<E>>>0):x=R+1,E=x,R=0;256<=E;)R+=8,E>>=8;return E=7^R+ns[E],f.b-=E,f.Ca=(x<<E)-1,B}function Ve(f,v,x){f[v+0]=x>>24&255,f[v+1]=x>>16&255,f[v+2]=x>>8&255,f[v+3]=255&x}function Ze(f,v){return f[v+0]|f[v+1]<<8}function Xe(f,v){return Ze(f,v)|f[v+2]<<16}function it(f,v){return Ze(f,v)|Ze(f,v+2)<<16}function K(f,v){var x=1<<v;return e(f!=null),e(0<v),f.X=l(x),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function Ke(f,v){e(f!=null),e(v!=null),e(f.Xa==v.Xa),a(v.X,0,f.X,0,1<<v.Xa)}function Kt(){this.X=[],this.Xa=this.Mb=0}function vt(f,v,x,E){e(x!=null),e(E!=null);var R=x[0],B=E[0];return R==0&&(R=(f*B+v/2)/v),B==0&&(B=(v*R+f/2)/f),0>=R||0>=B?0:(x[0]=R,E[0]=B,1)}function $e(f,v){return f+(1<<v)-1>>>v}function St(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function et(f,v){Y[v]=function(x,E,R,B,q,z,V){var Q;for(Q=0;Q<q;++Q){var fe=Y[f](z[V+Q-1],R,B+Q);z[V+Q]=St(x[E+Q],fe)}}}function At(){this.ud=this.hd=this.jd=0}function yt(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Wt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function It(f,v){return Wt(f+(f-v+.5>>1))}function zt(f,v,x){return Math.abs(v-x)-Math.abs(f-x)}function sn(f,v,x,E,R,B,q){for(E=B[q-1],x=0;x<R;++x)B[q+x]=E=St(f[v+x],E)}function tn(f,v,x,E,R){var B;for(B=0;B<x;++B){var q=f[v+B],z=q>>8&255,V=16711935&(V=(V=16711935&q)+((z<<16)+z));E[R+B]=(4278255360&q)+V>>>0}}function ft(f,v){v.jd=255&f,v.hd=f>>8&255,v.ud=f>>16&255}function Ht(f,v,x,E,R,B){var q;for(q=0;q<E;++q){var z=v[x+q],V=z>>>8,Q=z,fe=255&(fe=(fe=z>>>16)+((f.jd<<24>>24)*(V<<24>>24)>>>5));Q=255&(Q=(Q+=(f.hd<<24>>24)*(V<<24>>24)>>>5)+((f.ud<<24>>24)*(fe<<24>>24)>>>5)),R[B+q]=(4278255360&z)+(fe<<16)+Q}}function dt(f,v,x,E,R){Y[v]=function(B,q,z,V,Q,fe,Ne,J,ve){for(V=Ne;V<J;++V)for(Ne=0;Ne<ve;++Ne)Q[fe++]=R(z[E(B[q++])])},Y[f]=function(B,q,z,V,Q,fe,Ne){var J=8>>B.b,ve=B.Ea,_e=B.K[0],Re=B.w;if(8>J)for(B=(1<<B.b)-1,Re=(1<<J)-1;q<z;++q){var Se,Oe=0;for(Se=0;Se<ve;++Se)Se&B||(Oe=E(V[Q++])),fe[Ne++]=R(_e[Oe&Re]),Oe>>=J}else Y["VP8LMapColor"+x](V,Q,_e,Re,fe,Ne,q,z,ve)}}function Xn(f,v,x,E,R){for(x=v+x;v<x;){var B=f[v++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B}}function rn(f,v,x,E,R){for(x=v+x;v<x;){var B=f[v++];E[R++]=B>>16&255,E[R++]=B>>8&255,E[R++]=255&B,E[R++]=B>>24&255}}function Et(f,v,x,E,R){for(x=v+x;v<x;){var B=(q=f[v++])>>16&240|q>>12&15,q=240&q|q>>28&15;E[R++]=B,E[R++]=q}}function Bt(f,v,x,E,R){for(x=v+x;v<x;){var B=(q=f[v++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;E[R++]=B,E[R++]=q}}function on(f,v,x,E,R){for(x=v+x;v<x;){var B=f[v++];E[R++]=255&B,E[R++]=B>>8&255,E[R++]=B>>16&255}}function Nt(f,v,x,E,R,B){if(B==0)for(x=v+x;v<x;)Ve(E,((B=f[v++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),R+=32;else a(E,R,f,v,x)}function On(f,v){Y[v][0]=Y[f+"0"],Y[v][1]=Y[f+"1"],Y[v][2]=Y[f+"2"],Y[v][3]=Y[f+"3"],Y[v][4]=Y[f+"4"],Y[v][5]=Y[f+"5"],Y[v][6]=Y[f+"6"],Y[v][7]=Y[f+"7"],Y[v][8]=Y[f+"8"],Y[v][9]=Y[f+"9"],Y[v][10]=Y[f+"10"],Y[v][11]=Y[f+"11"],Y[v][12]=Y[f+"12"],Y[v][13]=Y[f+"13"],Y[v][14]=Y[f+"0"],Y[v][15]=Y[f+"0"]}function Lt(f){return f==El||f==uc||f==Do||f==hc}function Mt(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mt,this.f.kb=new En,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Or(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Pi(f,v){var x=f.T,E=v.ba.f.RGBA,R=E.eb,B=E.fb+f.ka*E.A,q=Ki[v.ba.S],z=f.y,V=f.O,Q=f.f,fe=f.N,Ne=f.ea,J=f.W,ve=v.cc,_e=v.dc,Re=v.Mc,Se=v.Nc,Oe=f.ka,Me=f.ka+f.T,Ye=f.U,ze=Ye+1>>1;for(Oe==0?q(z,V,null,null,Q,fe,Ne,J,Q,fe,Ne,J,R,B,null,null,Ye):(q(v.ec,v.fc,z,V,ve,_e,Re,Se,Q,fe,Ne,J,R,B-E.A,R,B,Ye),++x);Oe+2<Me;Oe+=2)ve=Q,_e=fe,Re=Ne,Se=J,fe+=f.Rc,J+=f.Rc,B+=2*E.A,q(z,(V+=2*f.fa)-f.fa,z,V,ve,_e,Re,Se,Q,fe,Ne,J,R,B-E.A,R,B,Ye);return V+=f.fa,f.j+Me<f.o?(a(v.ec,v.fc,z,V,Ye),a(v.cc,v.dc,Q,fe,ze),a(v.Mc,v.Nc,Ne,J,ze),x--):1&Me||q(z,V,null,null,Q,fe,Ne,J,Q,fe,Ne,J,R,B+E.A,null,null,Ye),x}function Fr(f,v,x){var E=f.F,R=[f.J];if(E!=null){var B=f.U,q=v.ba.S,z=q==jl||q==Do;v=v.ba.f.RGBA;var V=[0],Q=f.ka;V[0]=f.T,f.Kb&&(Q==0?--V[0]:(--Q,R[0]-=f.width),f.j+f.ka+f.T==f.o&&(V[0]=f.o-f.j-Q));var fe=v.eb;Q=v.fb+Q*v.A,f=xl(E,R[0],f.width,B,V,fe,Q+(z?0:3),v.A),e(x==V),f&&Lt(q)&&Zs(fe,Q,z,B,V,v.A)}return 0}function _r(f){var v=f.ma,x=v.ba.S,E=11>x,R=x==nr||x==Wr||x==jl||x==Ro||x==12||Lt(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ts(v.Oa,f,R?11:12))return 0;if(R&&Lt(x)&&yl(),f.da)alert("todo:use_scaling");else{if(E){if(v.Ib=Or,f.Kb){if(x=f.U+1>>1,v.memory=l(f.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=Pi,yl()}}else alert("todo:EmitYUV");R&&(v.Jb=Fr,E&&ha())}if(E&&!Rs){for(f=0;256>f;++f)Ji[f]=89858*(f-128)+Mo>>ea,Pf[f]=-22014*(f-128)+Mo,gh[f]=-45773*(f-128),mc[f]=113618*(f-128)+Mo>>ea;for(f=io;f<Os;++f)v=76283*(f-16)+Mo>>ea,Bf[f-io]=Ot(v,255),Mf[f-io]=Ot(v+8>>4,15);Rs=1}return 1}function bt(f){var v=f.ma,x=f.U,E=f.T;return e(!(1&f.ka)),0>=x||0>=E?0:(x=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,x),v.Dc+=x,1)}function la(f){f.ma.memory=null}function Ir(f,v,x,E){return G(f,8)!=47?0:(v[0]=G(f,14)+1,x[0]=G(f,14)+1,E[0]=G(f,1),G(f,3)!=0?0:!f.h)}function or(f,v){if(4>f)return f+1;var x=f-2>>1;return(2+(1&f)<<x)+G(v,x)+1}function lr(f,v){return 120<v?v-120:1<=(x=((x=Jr[v-1])>>4)*f+(8-(15&x)))?x:1;var x}function Un(f,v,x){var E=W(x),R=f[v+=255&E].g-8;return 0<R&&(ue(x,x.u+8),E=W(x),v+=f[v].value,v+=E&(1<<R)-1),ue(x,x.u+f[v].g),f[v].value}function ri(f,v,x){return x.g+=f.g,x.value+=f.value<<v>>>0,e(8>=x.g),f.g}function mi(f,v,x){var E=f.xc;return e((v=E==0?0:f.vc[f.md*(x>>E)+(v>>E)])<f.Wb),f.Ya[v]}function Aa(f,v,x,E){var R=f.ab,B=f.c*v,q=f.C;v=q+v;var z=x,V=E;for(E=f.Ta,x=f.Ua;0<R--;){var Q=f.gc[R],fe=q,Ne=v,J=z,ve=V,_e=(V=E,z=x,Q.Ea);switch(e(fe<Ne),e(Ne<=Q.nc),Q.hc){case 2:hi(J,ve,(Ne-fe)*_e,V,z);break;case 0:var Re=fe,Se=Ne,Oe=V,Me=z,Ye=(st=Q).Ea;Re==0&&(Co(J,ve,null,null,1,Oe,Me),sn(J,ve+1,0,0,Ye-1,Oe,Me+1),ve+=Ye,Me+=Ye,++Re);for(var ze=1<<st.b,ut=ze-1,tt=$e(Ye,st.b),Gt=st.K,st=st.w+(Re>>st.b)*tt;Re<Se;){var cn=Gt,Yn=st,Qt=1;for(To(J,ve,Oe,Me-Ye,1,Oe,Me);Qt<Ye;){var nt=(Qt&~ut)+ze;nt>Ye&&(nt=Ye),(0,is[cn[Yn++]>>8&15])(J,ve+ +Qt,Oe,Me+Qt-Ye,nt-Qt,Oe,Me+Qt),Qt=nt}ve+=Ye,Me+=Ye,++Re&ut||(st+=tt)}Ne!=Q.nc&&a(V,z-_e,V,z+(Ne-fe-1)*_e,_e);break;case 1:for(_e=J,Se=ve,Ye=(J=Q.Ea)-(Me=J&~(Oe=(ve=1<<Q.b)-1)),Re=$e(J,Q.b),ze=Q.K,Q=Q.w+(fe>>Q.b)*Re;fe<Ne;){for(ut=ze,tt=Q,Gt=new At,st=Se+Me,cn=Se+J;Se<st;)ft(ut[tt++],Gt),Lo(Gt,_e,Se,ve,V,z),Se+=ve,z+=ve;Se<cn&&(ft(ut[tt++],Gt),Lo(Gt,_e,Se,Ye,V,z),Se+=Ye,z+=Ye),++fe&Oe||(Q+=Re)}break;case 3:if(J==V&&ve==z&&0<Q.b){for(Se=V,J=_e=z+(Ne-fe)*_e-(Me=(Ne-fe)*$e(Q.Ea,Q.b)),ve=V,Oe=z,Re=[],Me=(Ye=Me)-1;0<=Me;--Me)Re[Me]=ve[Oe+Me];for(Me=Ye-1;0<=Me;--Me)Se[J+Me]=Re[Me];ac(Q,fe,Ne,V,_e,V,z)}else ac(Q,fe,Ne,J,ve,V,z)}z=E,V=x}V!=x&&a(E,x,z,V,B)}function Hi(f,v){var x=f.V,E=f.Ba+f.c*f.C,R=v-f.C;if(e(v<=f.l.o),e(16>=R),0<R){var B=f.l,q=f.Ta,z=f.Ua,V=B.width;if(Aa(f,R,x,E),R=z=[z],e((x=f.C)<(E=v)),e(B.v<B.va),E>B.o&&(E=B.o),x<B.j){var Q=B.j-x;x=B.j,R[0]+=Q*V}if(x>=E?x=0:(R[0]+=4*B.v,B.ka=x-B.j,B.U=B.va-B.v,B.T=E-x,x=1),x){if(z=z[0],11>(x=f.ca).S){var fe=x.f.RGBA,Ne=(E=x.S,R=B.U,B=B.T,Q=fe.eb,fe.A),J=B;for(fe=fe.fb+f.Ma*fe.A;0<J--;){var ve=q,_e=z,Re=R,Se=Q,Oe=fe;switch(E){case lc:Oo(ve,_e,Re,Se,Oe);break;case nr:rs(ve,_e,Re,Se,Oe);break;case El:rs(ve,_e,Re,Se,Oe),Zs(Se,Oe,0,Re,1,0);break;case cc:Xs(ve,_e,Re,Se,Oe);break;case Wr:Nt(ve,_e,Re,Se,Oe,1);break;case uc:Nt(ve,_e,Re,Se,Oe,1),Zs(Se,Oe,0,Re,1,0);break;case jl:Nt(ve,_e,Re,Se,Oe,0);break;case Do:Nt(ve,_e,Re,Se,Oe,0),Zs(Se,Oe,1,Re,1,0);break;case Ro:as(ve,_e,Re,Se,Oe);break;case hc:as(ve,_e,Re,Se,Oe),Yr(Se,Oe,Re,1,0);break;case Es:Ba(ve,_e,Re,Se,Oe);break;default:e(0)}z+=V,fe+=Ne}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=x.height)}}f.C=v,e(f.C<=f.i)}function kn(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var x=f.Ya[v].G,E=f.Ya[v].H;if(0<x[1][E[1]+0].g||0<x[2][E[2]+0].g||0<x[3][E[3]+0].g)return 0}return 1}function Rn(f,v,x,E,R,B){if(f.Z!=0){var q=f.qd,z=f.rd;for(e(ls[f.Z]!=null);v<x;++v)ls[f.Z](q,z,E,R,E,R,B),q=E,z=R,R+=B;f.qd=q,f.rd=z}}function vi(f,v){var x=f.l.ma,E=x.Z==0||x.Z==1?f.l.j:f.C;if(E=f.C<E?E:f.C,e(v<=f.l.o),v>E){var R=f.l.width,B=x.ca,q=x.tb+R*E,z=f.V,V=f.Ba+f.c*E,Q=f.gc;e(f.ab==1),e(Q[0].hc==3),Pa(Q[0],E,v,z,V,B,q),Rn(x,E,v,B,q,R)}f.C=f.Ma=v}function cr(f,v,x,E,R,B,q){var z=f.$/E,V=f.$%E,Q=f.m,fe=f.s,Ne=x+f.$,J=Ne;R=x+E*R;var ve=x+E*B,_e=280+fe.ua,Re=f.Pb?z:16777216,Se=0<fe.ua?fe.Wa:null,Oe=fe.wc,Me=Ne<ve?mi(fe,V,z):null;e(f.C<B),e(ve<=R);var Ye=!1;e:for(;;){for(;Ye||Ne<ve;){var ze=0;if(z>=Re){var ut=Ne-x;e((Re=f).Pb),Re.wd=Re.m,Re.xd=ut,0<Re.s.ua&&Ke(Re.s.Wa,Re.s.vb),Re=z+ks}if(V&Oe||(Me=mi(fe,V,z)),e(Me!=null),Me.Qb&&(v[Ne]=Me.qb,Ye=!0),!Ye)if(pe(Q),Me.jc){ze=Q,ut=v;var tt=Ne,Gt=Me.pd[W(ze)&js-1];e(Me.jc),256>Gt.g?(ue(ze,ze.u+Gt.g),ut[tt]=Gt.value,ze=0):(ue(ze,ze.u+Gt.g-256),e(256<=Gt.value),ze=Gt.value),ze==0&&(Ye=!0)}else ze=Un(Me.G[0],Me.H[0],Q);if(Q.h)break;if(Ye||256>ze){if(!Ye)if(Me.nd)v[Ne]=(Me.qb|ze<<8)>>>0;else{if(pe(Q),Ye=Un(Me.G[1],Me.H[1],Q),pe(Q),ut=Un(Me.G[2],Me.H[2],Q),tt=Un(Me.G[3],Me.H[3],Q),Q.h)break;v[Ne]=(tt<<24|Ye<<16|ze<<8|ut)>>>0}if(Ye=!1,++Ne,++V>=E&&(V=0,++z,q!=null&&z<=B&&!(z%16)&&q(f,z),Se!=null))for(;J<Ne;)ze=v[J++],Se.X[(506832829*ze&4294967295)>>>Se.Mb]=ze}else if(280>ze){if(ze=or(ze-256,Q),ut=Un(Me.G[4],Me.H[4],Q),pe(Q),ut=lr(E,ut=or(ut,Q)),Q.h)break;if(Ne-x<ut||R-Ne<ze)break e;for(tt=0;tt<ze;++tt)v[Ne+tt]=v[Ne+tt-ut];for(Ne+=ze,V+=ze;V>=E;)V-=E,++z,q!=null&&z<=B&&!(z%16)&&q(f,z);if(e(Ne<=R),V&Oe&&(Me=mi(fe,V,z)),Se!=null)for(;J<Ne;)ze=v[J++],Se.X[(506832829*ze&4294967295)>>>Se.Mb]=ze}else{if(!(ze<_e))break e;for(Ye=ze-280,e(Se!=null);J<Ne;)ze=v[J++],Se.X[(506832829*ze&4294967295)>>>Se.Mb]=ze;ze=Ne,e(!(Ye>>>(ut=Se).Xa)),v[ze]=ut.X[Ye],Ye=!0}Ye||e(Q.h==ie(Q))}if(f.Pb&&Q.h&&Ne<R)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ke(f.s.vb,f.s.Wa);else{if(Q.h)break e;q?.(f,z>B?B:z),f.a=0,f.$=Ne-x}return 1}return f.a=3,0}function xr(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,e(f!=null)}function ja(){var f=new qt;return f==null?null:(f.a=0,f.xb=fu,On("Predictor","VP8LPredictors"),On("Predictor","VP8LPredictors_C"),On("PredictorAdd","VP8LPredictorsAdd"),On("PredictorAdd","VP8LPredictorsAdd_C"),hi=tn,Lo=Ht,Oo=Xn,rs=rn,as=Et,Ba=Bt,Xs=on,Y.VP8LMapColor32b=Da,Y.VP8LMapColor8b=Vi,f)}function Sr(f,v,x,E,R){var B=1,q=[f],z=[v],V=E.m,Q=E.s,fe=null,Ne=0;e:for(;;){if(x)for(;B&&G(V,1);){var J=q,ve=z,_e=E,Re=1,Se=_e.m,Oe=_e.gc[_e.ab],Me=G(Se,2);if(_e.Oc&1<<Me)B=0;else{switch(_e.Oc|=1<<Me,Oe.hc=Me,Oe.Ea=J[0],Oe.nc=ve[0],Oe.K=[null],++_e.ab,e(4>=_e.ab),Me){case 0:case 1:Oe.b=G(Se,3)+2,Re=Sr($e(Oe.Ea,Oe.b),$e(Oe.nc,Oe.b),0,_e,Oe.K),Oe.K=Oe.K[0];break;case 3:var Ye,ze=G(Se,8)+1,ut=16<ze?0:4<ze?1:2<ze?2:3;if(J[0]=$e(Oe.Ea,ut),Oe.b=ut,Ye=Re=Sr(ze,1,0,_e,Oe.K)){var tt,Gt=ze,st=Oe,cn=1<<(8>>st.b),Yn=l(cn);if(Yn==null)Ye=0;else{var Qt=st.K[0],nt=st.w;for(Yn[0]=st.K[0][0],tt=1;tt<1*Gt;++tt)Yn[tt]=St(Qt[nt+tt],Yn[tt-1]);for(;tt<4*cn;++tt)Yn[tt]=0;st.K[0]=null,st.K[0]=Yn,Ye=1}}Re=Ye;break;case 2:break;default:e(0)}B=Re}}if(q=q[0],z=z[0],B&&G(V,1)&&!(B=1<=(Ne=G(V,4))&&11>=Ne)){E.a=3;break e}var Je;if(Je=B)t:{var Zn,Dt,nn,Cn=E,Ti=q,Xi=z,zn=Ne,wi=x,ir=Cn.m,_i=Cn.s,ln=[null],wn=1,ei=0,Nn=Xr[zn];n:for(;;){if(wi&&G(ir,1)){var Li=G(ir,3)+2,ti=$e(Ti,Li),_n=$e(Xi,Li),pi=ti*_n;if(!Sr(ti,_n,0,Cn,ln))break n;for(ln=ln[0],_i.xc=Li,Zn=0;Zn<pi;++Zn){var Tn=ln[Zn]>>8&65535;ln[Zn]=Tn,Tn>=wn&&(wn=Tn+1)}}if(ir.h)break n;for(Dt=0;5>Dt;++Dt){var xi=to[Dt];!Dt&&0<zn&&(xi+=1<<zn),ei<xi&&(ei=xi)}var Si=c(wn*Nn,se),Pn=wn,bn=c(Pn,we);if(bn==null)var rr=null;else e(65536>=Pn),rr=bn;var si=l(ei);if(rr==null||si==null||Si==null){Cn.a=1;break n}var jt=Si;for(Zn=nn=0;Zn<wn;++Zn){var Ct=rr[Zn],xn=Ct.G,jr=Ct.H,ta=0,mr=1,Ni=0;for(Dt=0;5>Dt;++Dt){xi=to[Dt],xn[Dt]=jt,jr[Dt]=nn,!Dt&&0<zn&&(xi+=1<<zn);r:{var Ds,Ps=xi,yc=Cn,Hn=si,pu=jt,gu=nn,bc=0,cs=yc.m,qf=G(cs,1);if(o(Hn,0,0,Ps),qf){var mu=G(cs,1)+1,vu=G(cs,1),wc=G(cs,vu==0?1:8);Hn[wc]=1,mu==2&&(Hn[wc=G(cs,8)]=1);var Ui=1}else{var oi=l(19),Ll=G(cs,4)+4;if(19<Ll){yc.a=3;var Bs=0;break r}for(Ds=0;Ds<Ll;++Ds)oi[kl[Ds]]=G(cs,3);var Uo=void 0,ro=void 0,Ua=yc,_c=oi,Fo=Ps,xc=Hn,Sc=0,us=Ua.m,yu=8,bu=c(128,se);i:for(;H(bu,0,7,_c,19);){if(G(us,1)){var mh=2+2*G(us,3);if((Uo=2+G(us,mh))>Fo)break i}else Uo=Fo;for(ro=0;ro<Fo&&Uo--;){pe(us);var wu=bu[0+(127&W(us))];ue(us,us.u+wu.g);var Ms=wu.value;if(16>Ms)xc[ro++]=Ms,Ms!=0&&(yu=Ms);else{var vh=Ms==16,yh=Ms-16,bh=Po[yh],_u=G(us,Kr[yh])+bh;if(ro+_u>Fo)break i;for(var wh=vh?yu:0;0<_u--;)xc[ro++]=wh}}Sc=1;break i}Sc||(Ua.a=3),Ui=Sc}(Ui=Ui&&!cs.h)&&(bc=H(pu,gu,8,Hn,Ps)),Ui&&bc!=0?Bs=bc:(yc.a=3,Bs=0)}if(Bs==0)break n;if(mr&&fc[Dt]==1&&(mr=jt[nn].g==0),ta+=jt[nn].g,nn+=Bs,3>=Dt){var ao,Nc=si[0];for(ao=1;ao<xi;++ao)si[ao]>Nc&&(Nc=si[ao]);Ni+=Nc}}if(Ct.nd=mr,Ct.Qb=0,mr&&(Ct.qb=(xn[3][jr[3]+0].value<<24|xn[1][jr[1]+0].value<<16|xn[2][jr[2]+0].value)>>>0,ta==0&&256>xn[0][jr[0]+0].value&&(Ct.Qb=1,Ct.qb+=xn[0][jr[0]+0].value<<8)),Ct.jc=!Ct.Qb&&6>Ni,Ct.jc){var Ol,Fa=Ct;for(Ol=0;Ol<js;++Ol){var hs=Ol,fs=Fa.pd[hs],Ac=Fa.G[0][Fa.H[0]+hs];256<=Ac.value?(fs.g=Ac.g+256,fs.value=Ac.value):(fs.g=0,fs.value=0,hs>>=ri(Ac,8,fs),hs>>=ri(Fa.G[1][Fa.H[1]+hs],16,fs),hs>>=ri(Fa.G[2][Fa.H[2]+hs],0,fs),ri(Fa.G[3][Fa.H[3]+hs],24,fs))}}}_i.vc=ln,_i.Wb=wn,_i.Ya=rr,_i.yc=Si,Je=1;break t}Je=0}if(!(B=Je)){E.a=3;break e}if(0<Ne){if(Q.ua=1<<Ne,!K(Q.Wa,Ne)){E.a=1,B=0;break e}}else Q.ua=0;var jc=E,so=q,_h=z,Io=jc.s,zo=Io.xc;if(jc.c=so,jc.i=_h,Io.md=$e(so,zo),Io.wc=zo==0?-1:(1<<zo)-1,x){E.xb=Cs;break e}if((fe=l(q*z))==null){E.a=1,B=0;break e}B=(B=cr(E,fe,0,q,z,z,null))&&!V.h;break e}return B?(R!=null?R[0]=fe:(e(fe==null),e(x)),E.$=0,x||xr(Q)):xr(Q),B}function Dn(f,v){var x=f.c*f.i,E=x+v+16*v;return e(f.c<=v),f.V=l(E),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+x+v,1)}function zr(f,v){var x=f.C,E=v-x,R=f.V,B=f.Ba+f.c*x;for(e(v<=f.l.o);0<E;){var q=16<E?16:E,z=f.l.ma,V=f.l.width,Q=V*q,fe=z.ca,Ne=z.tb+V*x,J=f.Ta,ve=f.Ua;Aa(f,q,R,B),qr(J,ve,fe,Ne,Q),Rn(z,x,x+q,fe,Ne,V),E-=q,R+=q*f.c,x+=q}e(x==v),f.C=f.Ma=v}function Rr(){this.ub=this.yd=this.td=this.Rb=0}function ne(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function me(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function qe(){this.Yb=(function(){var f=[];return(function v(x,E,R){for(var B=R[E],q=0;q<B&&(x.push(R.length>E+1?[]:0),!(R.length<E+1));q++)v(x[q],E+1,R)})(f,0,[3,11]),f})()}function Fe(){this.jb=l(3),this.Wc=h([4,8],qe),this.Xc=h([4,17],qe)}function ot(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function rt(){this.ld=this.La=this.dd=this.tc=0}function $t(){this.Na=this.la=0}function at(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function He(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qe(){this.uc=this.M=this.Nb=0,this.wa=Array(new rt),this.Y=0,this.ya=Array(new He),this.aa=0,this.l=new ur}function kt(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Bi(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Rr,this.Kc=new ne,this.ed=new ot,this.Qa=new me,this.Ic=this.$c=this.Aa=0,this.D=new Qe,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,L),this.ia=0,this.pb=c(4,at),this.Pa=new Fe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kt),this.Hd=0,this.rb=Array(new $t),this.sb=0,this.wa=Array(new rt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new He),this.L=this.aa=0,this.gd=h([4,2],rt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ot(f,v){return 0>f?0:f>v?v:f}function ur(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hr(){var f=new Bi;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ur||(Ur=xs)),f}function mn(f,v,x){return f.a==0&&(f.a=v,f.sc=x,f.cb=0),0}function ll(f,v,x){return 3<=x&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Ea(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return mn(f,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,E=v.w,R=v.ha;if(4>R)return mn(f,7,"Truncated header.");var B=x[E+0]|x[E+1]<<8|x[E+2]<<16,q=f.Od;if(q.Rb=!(1&B),q.td=B>>1&7,q.yd=B>>4&1,q.ub=B>>5,3<q.td)return mn(f,3,"Incorrect keyframe parameters.");if(!q.yd)return mn(f,4,"Frame not displayable.");E+=3,R-=3;var z=f.Kc;if(q.Rb){if(7>R)return mn(f,7,"cannot parse picture header");if(!ll(x,E,R))return mn(f,3,"Bad code word");z.c=16383&(x[E+4]<<8|x[E+3]),z.Td=x[E+4]>>6,z.i=16383&(x[E+6]<<8|x[E+5]),z.Ud=x[E+6]>>6,E+=7,R-=7,f.za=z.c+15>>4,f.Ub=z.i+15>>4,v.width=z.c,v.height=z.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,o((B=f.Pa).jb,0,255,B.jb.length),e((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,o(B.Zb,0,0,B.Zb.length),o(B.Lb,0,0,B.Lb)}if(q.ub>R)return mn(f,7,"bad partition length");ee(B=f.m,x,E,q.ub),E+=q.ub,R-=q.ub,q.Rb&&(z.Ld=je(B),z.Kd=je(B)),z=f.Qa;var V,Q=f.Pa;if(e(B!=null),e(z!=null),z.Cb=je(B),z.Cb){if(z.Bb=je(B),je(B)){for(z.Fb=je(B),V=0;4>V;++V)z.Zb[V]=je(B)?re(B,7):0;for(V=0;4>V;++V)z.Lb[V]=je(B)?re(B,6):0}if(z.Bb)for(V=0;3>V;++V)Q.jb[V]=je(B)?X(B,8):255}else z.Bb=0;if(B.Ka)return mn(f,3,"cannot parse segment header");if((z=f.ed).zd=je(B),z.Tb=X(B,6),z.wb=X(B,3),z.Pc=je(B),z.Pc&&je(B)){for(Q=0;4>Q;++Q)je(B)&&(z.vd[Q]=re(B,6));for(Q=0;4>Q;++Q)je(B)&&(z.od[Q]=re(B,6))}if(f.L=z.Tb==0?0:z.zd?1:2,B.Ka)return mn(f,3,"cannot parse filter header");var fe=R;if(R=V=E,E=V+fe,z=fe,f.Xb=(1<<X(f.m,2))-1,fe<3*(Q=f.Xb))x=7;else{for(V+=3*Q,z-=3*Q,fe=0;fe<Q;++fe){var Ne=x[R+0]|x[R+1]<<8|x[R+2]<<16;Ne>z&&(Ne=z),ee(f.Jc[+fe],x,V,Ne),V+=Ne,z-=Ne,R+=3}ee(f.Jc[+Q],x,V,z),x=V<E?0:5}if(x!=0)return mn(f,x,"cannot parse partitions");for(x=X(V=f.m,7),R=je(V)?re(V,4):0,E=je(V)?re(V,4):0,z=je(V)?re(V,4):0,Q=je(V)?re(V,4):0,V=je(V)?re(V,4):0,fe=f.Qa,Ne=0;4>Ne;++Ne){if(fe.Cb){var J=fe.Zb[Ne];fe.Fb||(J+=x)}else{if(0<Ne){f.pb[Ne]=f.pb[0];continue}J=x}var ve=f.pb[Ne];ve.Sc[0]=Qr[Ot(J+R,127)],ve.Sc[1]=Zr[Ot(J+0,127)],ve.Eb[0]=2*Qr[Ot(J+E,127)],ve.Eb[1]=101581*Zr[Ot(J+z,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Qr[Ot(J+Q,117)],ve.Qc[1]=Zr[Ot(J+V,127)],ve.lc=J+V}if(!q.Rb)return mn(f,4,"Not a key frame.");for(je(B),q=f.Pa,x=0;4>x;++x){for(R=0;8>R;++R)for(E=0;3>E;++E)for(z=0;11>z;++z)Q=Pe(B,Vn[x][R][E][z])?X(B,8):ph[x][R][E][z],q.Wc[x][R].Yb[E][z]=Q;for(R=0;17>R;++R)q.Xc[x][R]=q.Wc[x][hn[R]]}return f.kc=je(B),f.kc&&(f.Bd=X(B,8)),f.cb=1}function xs(f,v,x,E,R,B,q){var z=v[R].Yb[x];for(x=0;16>R;++R){if(!Pe(f,z[x+0]))return R;for(;!Pe(f,z[x+1]);)if(z=v[++R].Yb[0],x=0,R==16)return 16;var V=v[R+1].Yb;if(Pe(f,z[x+2])){var Q=f,fe=0;if(Pe(Q,(J=z)[(Ne=x)+3]))if(Pe(Q,J[Ne+6])){for(z=0,Ne=2*(fe=Pe(Q,J[Ne+8]))+(J=Pe(Q,J[Ne+9+fe])),fe=0,J=dh[Ne];J[z];++z)fe+=fe+Pe(Q,J[z]);fe+=3+(8<<Ne)}else Pe(Q,J[Ne+7])?(fe=7+2*Pe(Q,165),fe+=Pe(Q,145)):fe=5+Pe(Q,159);else fe=Pe(Q,J[Ne+4])?3+Pe(Q,J[Ne+5]):2;z=V[2]}else fe=1,z=V[1];V=q+hu[R],0>(Q=f).b&&ke(Q);var Ne,J=Q.b,ve=(Ne=Q.Ca>>1)-(Q.I>>J)>>31;--Q.b,Q.Ca+=ve,Q.Ca|=1,Q.I-=(Ne+1&ve)<<J,B[V]=((fe^ve)-ve)*E[(0<R)+0]}return 16}function cl(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,o(f.zc,0,0,f.zc.length),f.ja=0}function hr(f,v,x,E,R){R=f[v+x+32*E]+(R>>3),f[v+x+32*E]=-256&R?0>R?0:255:R}function ki(f,v,x,E,R,B){hr(f,v,0,x,E+R),hr(f,v,1,x,E+B),hr(f,v,2,x,E-B),hr(f,v,3,x,E-R)}function yi(f){return(20091*f>>16)+f}function xo(f,v,x,E){var R,B=0,q=l(16);for(R=0;4>R;++R){var z=f[v+0]+f[v+8],V=f[v+0]-f[v+8],Q=(35468*f[v+4]>>16)-yi(f[v+12]),fe=yi(f[v+4])+(35468*f[v+12]>>16);q[B+0]=z+fe,q[B+1]=V+Q,q[B+2]=V-Q,q[B+3]=z-fe,B+=4,v++}for(R=B=0;4>R;++R)z=(f=q[B+0]+4)+q[B+8],V=f-q[B+8],Q=(35468*q[B+4]>>16)-yi(q[B+12]),hr(x,E,0,0,z+(fe=yi(q[B+4])+(35468*q[B+12]>>16))),hr(x,E,1,0,V+Q),hr(x,E,2,0,V-Q),hr(x,E,3,0,z-fe),B++,E+=32}function Jl(f,v,x,E){var R=f[v+0]+4,B=35468*f[v+4]>>16,q=yi(f[v+4]),z=35468*f[v+1]>>16;ki(x,E,0,R+q,f=yi(f[v+1]),z),ki(x,E,1,R+B,f,z),ki(x,E,2,R-B,f,z),ki(x,E,3,R-q,f,z)}function ul(f,v,x,E,R){xo(f,v,x,E),R&&xo(f,v+16,x,E+4)}function fr(f,v,x,E){ss(f,v+0,x,E,1),ss(f,v+32,x,E+128,1)}function hl(f,v,x,E){var R;for(f=f[v+0]+4,R=0;4>R;++R)for(v=0;4>v;++v)hr(x,E,v,R,f)}function fl(f,v,x,E){f[v+0]&&Sn(f,v+0,x,E),f[v+16]&&Sn(f,v+16,x,E+4),f[v+32]&&Sn(f,v+32,x,E+128),f[v+48]&&Sn(f,v+48,x,E+128+4)}function ca(f,v,x,E){var R,B=l(16);for(R=0;4>R;++R){var q=f[v+0+R]+f[v+12+R],z=f[v+4+R]+f[v+8+R],V=f[v+4+R]-f[v+8+R],Q=f[v+0+R]-f[v+12+R];B[0+R]=q+z,B[8+R]=q-z,B[4+R]=Q+V,B[12+R]=Q-V}for(R=0;4>R;++R)q=(f=B[0+4*R]+3)+B[3+4*R],z=B[1+4*R]+B[2+4*R],V=B[1+4*R]-B[2+4*R],Q=f-B[3+4*R],x[E+0]=q+z>>3,x[E+16]=Q+V>>3,x[E+32]=q-z>>3,x[E+48]=Q-V>>3,E+=64}function $s(f,v,x){var E,R=v-32,B=tr,q=255-f[R-1];for(E=0;E<x;++E){var z,V=B,Q=q+f[v-1];for(z=0;z<x;++z)f[v+z]=V[Q+f[R+z]];v+=32}}function Xl(f,v){$s(f,v,4)}function Ql(f,v){$s(f,v,8)}function dl(f,v){$s(f,v,16)}function pl(f,v){var x;for(x=0;16>x;++x)a(f,v+32*x,f,v-32,16)}function Zl(f,v){var x;for(x=16;0<x;--x)o(f,v,f[v-1],16),v+=32}function Nr(f,v,x){var E;for(E=0;16>E;++E)o(v,x+32*E,f,16)}function ua(f,v){var x,E=16;for(x=0;16>x;++x)E+=f[v-1+32*x]+f[v+x-32];Nr(E>>5,f,v)}function $a(f,v){var x,E=8;for(x=0;16>x;++x)E+=f[v-1+32*x];Nr(E>>4,f,v)}function Gs(f,v){var x,E=8;for(x=0;16>x;++x)E+=f[v+x-32];Nr(E>>4,f,v)}function Ss(f,v){Nr(128,f,v)}function Rt(f,v,x){return f+2*v+x+2>>2}function ec(f,v){var x,E=v-32;for(E=new Uint8Array([Rt(f[E-1],f[E+0],f[E+1]),Rt(f[E+0],f[E+1],f[E+2]),Rt(f[E+1],f[E+2],f[E+3]),Rt(f[E+2],f[E+3],f[E+4])]),x=0;4>x;++x)a(f,v+32*x,E,0,E.length)}function gl(f,v){var x=f[v-1],E=f[v-1+32],R=f[v-1+64],B=f[v-1+96];Ve(f,v+0,16843009*Rt(f[v-1-32],x,E)),Ve(f,v+32,16843009*Rt(x,E,R)),Ve(f,v+64,16843009*Rt(E,R,B)),Ve(f,v+96,16843009*Rt(R,B,B))}function tc(f,v){var x,E=4;for(x=0;4>x;++x)E+=f[v+x-32]+f[v-1+32*x];for(E>>=3,x=0;4>x;++x)o(f,v+32*x,E,4)}function Dr(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],B=f[v-1-32],q=f[v+0-32],z=f[v+1-32],V=f[v+2-32],Q=f[v+3-32];f[v+0+96]=Rt(E,R,f[v-1+96]),f[v+1+96]=f[v+0+64]=Rt(x,E,R),f[v+2+96]=f[v+1+64]=f[v+0+32]=Rt(B,x,E),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Rt(q,B,x),f[v+3+64]=f[v+2+32]=f[v+1+0]=Rt(z,q,B),f[v+3+32]=f[v+2+0]=Rt(V,z,q),f[v+3+0]=Rt(Q,V,z)}function $i(f,v){var x=f[v+1-32],E=f[v+2-32],R=f[v+3-32],B=f[v+4-32],q=f[v+5-32],z=f[v+6-32],V=f[v+7-32];f[v+0+0]=Rt(f[v+0-32],x,E),f[v+1+0]=f[v+0+32]=Rt(x,E,R),f[v+2+0]=f[v+1+32]=f[v+0+64]=Rt(E,R,B),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Rt(R,B,q),f[v+3+32]=f[v+2+64]=f[v+1+96]=Rt(B,q,z),f[v+3+64]=f[v+2+96]=Rt(q,z,V),f[v+3+96]=Rt(z,V,V)}function ml(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],B=f[v-1-32],q=f[v+0-32],z=f[v+1-32],V=f[v+2-32],Q=f[v+3-32];f[v+0+0]=f[v+1+64]=B+q+1>>1,f[v+1+0]=f[v+2+64]=q+z+1>>1,f[v+2+0]=f[v+3+64]=z+V+1>>1,f[v+3+0]=V+Q+1>>1,f[v+0+96]=Rt(R,E,x),f[v+0+64]=Rt(E,x,B),f[v+0+32]=f[v+1+96]=Rt(x,B,q),f[v+1+32]=f[v+2+96]=Rt(B,q,z),f[v+2+32]=f[v+3+96]=Rt(q,z,V),f[v+3+32]=Rt(z,V,Q)}function Vs(f,v){var x=f[v+0-32],E=f[v+1-32],R=f[v+2-32],B=f[v+3-32],q=f[v+4-32],z=f[v+5-32],V=f[v+6-32],Q=f[v+7-32];f[v+0+0]=x+E+1>>1,f[v+1+0]=f[v+0+64]=E+R+1>>1,f[v+2+0]=f[v+1+64]=R+B+1>>1,f[v+3+0]=f[v+2+64]=B+q+1>>1,f[v+0+32]=Rt(x,E,R),f[v+1+32]=f[v+0+96]=Rt(E,R,B),f[v+2+32]=f[v+1+96]=Rt(R,B,q),f[v+3+32]=f[v+2+96]=Rt(B,q,z),f[v+3+64]=Rt(q,z,V),f[v+3+96]=Rt(z,V,Q)}function Pr(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],B=f[v-1+96];f[v+0+0]=x+E+1>>1,f[v+2+0]=f[v+0+32]=E+R+1>>1,f[v+2+32]=f[v+0+64]=R+B+1>>1,f[v+1+0]=Rt(x,E,R),f[v+3+0]=f[v+1+32]=Rt(E,R,B),f[v+3+32]=f[v+1+64]=Rt(R,B,B),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=B}function Ys(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],B=f[v-1+96],q=f[v-1-32],z=f[v+0-32],V=f[v+1-32],Q=f[v+2-32];f[v+0+0]=f[v+2+32]=x+q+1>>1,f[v+0+32]=f[v+2+64]=E+x+1>>1,f[v+0+64]=f[v+2+96]=R+E+1>>1,f[v+0+96]=B+R+1>>1,f[v+3+0]=Rt(z,V,Q),f[v+2+0]=Rt(q,z,V),f[v+1+0]=f[v+3+32]=Rt(x,q,z),f[v+1+32]=f[v+3+64]=Rt(E,x,q),f[v+1+64]=f[v+3+96]=Rt(R,E,x),f[v+1+96]=Rt(B,R,E)}function ka(f,v){var x;for(x=0;8>x;++x)a(f,v+32*x,f,v-32,8)}function nc(f,v){var x;for(x=0;8>x;++x)o(f,v,f[v-1],8),v+=32}function $r(f,v,x){var E;for(E=0;8>E;++E)o(v,x+32*E,f,8)}function So(f,v){var x,E=8;for(x=0;8>x;++x)E+=f[v+x-32]+f[v-1+32*x];$r(E>>4,f,v)}function No(f,v){var x,E=4;for(x=0;8>x;++x)E+=f[v+x-32];$r(E>>3,f,v)}function Mi(f,v){var x,E=4;for(x=0;8>x;++x)E+=f[v-1+32*x];$r(E>>3,f,v)}function Ca(f,v){$r(128,f,v)}function Gr(f,v,x){var E=f[v-x],R=f[v+0],B=3*(R-E)+os[1020+f[v-2*x]-f[v+x]],q=Al[112+(B+4>>3)];f[v-x]=tr[255+E+Al[112+(B+3>>3)]],f[v+0]=tr[255+R-q]}function Ga(f,v,x,E){var R=f[v+0],B=f[v+x];return Yi[255+f[v-2*x]-f[v-x]]>E||Yi[255+B-R]>E}function Ao(f,v,x,E){return 4*Yi[255+f[v-x]-f[v+0]]+Yi[255+f[v-2*x]-f[v+x]]<=E}function Ws(f,v,x,E,R){var B=f[v-3*x],q=f[v-2*x],z=f[v-x],V=f[v+0],Q=f[v+x],fe=f[v+2*x],Ne=f[v+3*x];return 4*Yi[255+z-V]+Yi[255+q-Q]>E?0:Yi[255+f[v-4*x]-B]<=R&&Yi[255+B-q]<=R&&Yi[255+q-z]<=R&&Yi[255+Ne-fe]<=R&&Yi[255+fe-Q]<=R&&Yi[255+Q-V]<=R}function Va(f,v,x,E){var R=2*E+1;for(E=0;16>E;++E)Ao(f,v+E,x,R)&&Gr(f,v+E,x)}function Ya(f,v,x,E){var R=2*E+1;for(E=0;16>E;++E)Ao(f,v+E*x,1,R)&&Gr(f,v+E*x,1)}function Ks(f,v,x,E){var R;for(R=3;0<R;--R)Va(f,v+=4*x,x,E)}function vl(f,v,x,E){var R;for(R=3;0<R;--R)Ya(f,v+=4,x,E)}function Wa(f,v,x,E,R,B,q,z){for(B=2*B+1;0<R--;){if(Ws(f,v,x,B,q))if(Ga(f,v,x,z))Gr(f,v,x);else{var V=f,Q=v,fe=x,Ne=V[Q-2*fe],J=V[Q-fe],ve=V[Q+0],_e=V[Q+fe],Re=V[Q+2*fe],Se=27*(Me=os[1020+3*(ve-J)+os[1020+Ne-_e]])+63>>7,Oe=18*Me+63>>7,Me=9*Me+63>>7;V[Q-3*fe]=tr[255+V[Q-3*fe]+Me],V[Q-2*fe]=tr[255+Ne+Oe],V[Q-fe]=tr[255+J+Se],V[Q+0]=tr[255+ve-Se],V[Q+fe]=tr[255+_e-Oe],V[Q+2*fe]=tr[255+Re-Me]}v+=E}}function Ka(f,v,x,E,R,B,q,z){for(B=2*B+1;0<R--;){if(Ws(f,v,x,B,q))if(Ga(f,v,x,z))Gr(f,v,x);else{var V=f,Q=v,fe=x,Ne=V[Q-fe],J=V[Q+0],ve=V[Q+fe],_e=Al[112+(4+(Re=3*(J-Ne))>>3)],Re=Al[112+(Re+3>>3)],Se=_e+1>>1;V[Q-2*fe]=tr[255+V[Q-2*fe]+Se],V[Q-fe]=tr[255+Ne+Re],V[Q+0]=tr[255+J-_e],V[Q+fe]=tr[255+ve-Se]}v+=E}}function ic(f,v,x,E,R,B){Wa(f,v,x,1,16,E,R,B)}function Ja(f,v,x,E,R,B){Wa(f,v,1,x,16,E,R,B)}function rc(f,v,x,E,R,B){var q;for(q=3;0<q;--q)Ka(f,v+=4*x,x,1,16,E,R,B)}function _(f,v,x,E,R,B){var q;for(q=3;0<q;--q)Ka(f,v+=4,1,x,16,E,R,B)}function O(f,v,x,E,R,B,q,z){Wa(f,v,R,1,8,B,q,z),Wa(x,E,R,1,8,B,q,z)}function Z(f,v,x,E,R,B,q,z){Wa(f,v,1,R,8,B,q,z),Wa(x,E,1,R,8,B,q,z)}function he(f,v,x,E,R,B,q,z){Ka(f,v+4*R,R,1,8,B,q,z),Ka(x,E+4*R,R,1,8,B,q,z)}function ye(f,v,x,E,R,B,q,z){Ka(f,v+4,1,R,8,B,q,z),Ka(x,E+4,1,R,8,B,q,z)}function Be(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ge(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new Kt,this.vb=new Kt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new se}function qt(){this.xb=this.a=0,this.l=new ur,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=c(4,lt),this.Oc=0}function Xt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ur,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vn(f,v,x,E,R,B,q){for(f=f==null?0:f[v+0],v=0;v<q;++v)R[B+v]=f+x[E+v]&255,f=R[B+v]}function Qn(f,v,x,E,R,B,q){var z;if(f==null)vn(null,null,x,E,R,B,q);else for(z=0;z<q;++z)R[B+z]=f[v+z]+x[E+z]&255}function ui(f,v,x,E,R,B,q){if(f==null)vn(null,null,x,E,R,B,q);else{var z,V=f[v+0],Q=V,fe=V;for(z=0;z<q;++z)Q=fe+(V=f[v+z])-Q,fe=x[E+z]+(-256&Q?0>Q?0:255:Q)&255,Q=V,R[B+z]=fe}}function Fn(f,v,x,E){var R=v.width,B=v.o;if(e(f!=null&&v!=null),0>x||0>=E||x+E>B)return null;if(!f.Cc){if(f.ga==null){var q;if(f.ga=new Xt,(q=f.ga==null)||(q=v.width*v.o,e(f.Gb.length==0),f.Gb=l(q),f.Uc=0,f.Gb==null?q=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,q=1),q=!q),!q){q=f.ga;var z=f.Fa,V=f.P,Q=f.qc,fe=f.mb,Ne=f.nb,J=V+1,ve=Q-1,_e=q.l;if(e(z!=null&&fe!=null&&v!=null),ls[0]=null,ls[1]=vn,ls[2]=Qn,ls[3]=ui,q.ca=fe,q.tb=Ne,q.c=v.width,q.i=v.height,e(0<q.c&&0<q.i),1>=Q)v=0;else if(q.$a=3&z[V+0],q.Z=z[V+0]>>2&3,q.Lc=z[V+0]>>4&3,V=z[V+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||V)v=0;else if(_e.put=bt,_e.ac=_r,_e.bc=la,_e.ma=q,_e.width=v.width,_e.height=v.height,_e.Da=v.Da,_e.v=v.v,_e.va=v.va,_e.j=v.j,_e.o=v.o,q.$a)e:{e(q.$a==1),v=ja();t:for(;;){if(v==null){v=0;break e}if(e(q!=null),q.mc=v,v.c=q.c,v.i=q.i,v.l=q.l,v.l.ma=q,v.l.width=q.c,v.l.height=q.i,v.a=0,xe(v.m,z,J,ve),!Sr(q.c,q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&kn(v.s)?(q.ic=1,z=v.c*v.i,v.Ta=null,v.Ua=0,v.V=l(z),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(q.ic=0,v=Dn(v,q.c)),!v))break t;v=1;break e}q.mc=null,v=0}else v=ve>=q.c*q.i;q=!v}if(q)return null;f.ga.Lc!=1?f.Ga=0:E=B-x}e(f.ga!=null),e(x+E<=B);e:{if(v=(z=f.ga).c,B=z.l.o,z.$a==0){if(J=f.rc,ve=f.Vc,_e=f.Fa,V=f.P+1+x*v,Q=f.mb,fe=f.nb+x*v,e(V<=f.P+f.qc),z.Z!=0)for(e(ls[z.Z]!=null),q=0;q<E;++q)ls[z.Z](J,ve,_e,V,Q,fe,v),J=Q,ve=fe,fe+=v,V+=v;else for(q=0;q<E;++q)a(Q,fe,_e,V,v),J=Q,ve=fe,fe+=v,V+=v;f.rc=J,f.Vc=ve}else{if(e(z.mc!=null),v=x+E,e((q=z.mc)!=null),e(v<=q.i),q.C>=v)v=1;else if(z.ic||ha(),z.ic){z=q.V,J=q.Ba,ve=q.c;var Re=q.i,Se=(_e=1,V=q.$/ve,Q=q.$%ve,fe=q.m,Ne=q.s,q.$),Oe=ve*Re,Me=ve*v,Ye=Ne.wc,ze=Se<Me?mi(Ne,Q,V):null;e(Se<=Oe),e(v<=Re),e(kn(Ne));t:for(;;){for(;!fe.h&&Se<Me;){if(Q&Ye||(ze=mi(Ne,Q,V)),e(ze!=null),pe(fe),256>(Re=Un(ze.G[0],ze.H[0],fe)))z[J+Se]=Re,++Se,++Q>=ve&&(Q=0,++V<=v&&!(V%16)&&vi(q,V));else{if(!(280>Re)){_e=0;break t}Re=or(Re-256,fe);var ut,tt=Un(ze.G[4],ze.H[4],fe);if(pe(fe),!(Se>=(tt=lr(ve,tt=or(tt,fe)))&&Oe-Se>=Re)){_e=0;break t}for(ut=0;ut<Re;++ut)z[J+Se+ut]=z[J+Se+ut-tt];for(Se+=Re,Q+=Re;Q>=ve;)Q-=ve,++V<=v&&!(V%16)&&vi(q,V);Se<Me&&Q&Ye&&(ze=mi(Ne,Q,V))}e(fe.h==ie(fe))}vi(q,V>v?v:V);break t}!_e||fe.h&&Se<Oe?(_e=0,q.a=fe.h?5:3):q.$=Se,v=_e}else v=cr(q,q.V,q.Ba,q.c,q.i,v,zr);if(!v){E=0;break e}}x+E>=B&&(f.Cc=1),E=1}if(!E)return null;if(f.Cc&&((E=f.ga)!=null&&(E.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+x*R}function Ci(f,v,x,E,R,B){for(;0<R--;){var q,z=f,V=v+(x?1:0),Q=f,fe=v+(x?0:3);for(q=0;q<E;++q){var Ne=Q[fe+4*q];Ne!=255&&(Ne*=32897,z[V+4*q+0]=z[V+4*q+0]*Ne>>23,z[V+4*q+1]=z[V+4*q+1]*Ne>>23,z[V+4*q+2]=z[V+4*q+2]*Ne>>23)}v+=B}}function bi(f,v,x,E,R){for(;0<E--;){var B;for(B=0;B<x;++B){var q=f[v+2*B+0],z=15&(Q=f[v+2*B+1]),V=4369*z,Q=(240&Q|Q>>4)*V>>16;f[v+2*B+0]=(240&q|q>>4)*V>>16&240|(15&q|q<<4)*V>>16>>4&15,f[v+2*B+1]=240&Q|z}v+=R}}function Gi(f,v,x,E,R,B,q,z){var V,Q,fe=255;for(Q=0;Q<R;++Q){for(V=0;V<E;++V){var Ne=f[v+V];B[q+4*V]=Ne,fe&=Ne}v+=x,q+=z}return fe!=255}function Xa(f,v,x,E,R){var B;for(B=0;B<R;++B)x[E+B]=f[v+B]>>8}function ha(){Zs=Ci,Yr=bi,xl=Gi,qr=Xa}function Qa(f,v,x){Y[f]=function(E,R,B,q,z,V,Q,fe,Ne,J,ve,_e,Re,Se,Oe,Me,Ye){var ze,ut=Ye-1>>1,tt=z[V+0]|Q[fe+0]<<16,Gt=Ne[J+0]|ve[_e+0]<<16;e(E!=null);var st=3*tt+Gt+131074>>2;for(v(E[R+0],255&st,st>>16,Re,Se),B!=null&&(st=3*Gt+tt+131074>>2,v(B[q+0],255&st,st>>16,Oe,Me)),ze=1;ze<=ut;++ze){var cn=z[V+ze]|Q[fe+ze]<<16,Yn=Ne[J+ze]|ve[_e+ze]<<16,Qt=tt+cn+Gt+Yn+524296,nt=Qt+2*(cn+Gt)>>3;st=nt+tt>>1,tt=(Qt=Qt+2*(tt+Yn)>>3)+cn>>1,v(E[R+2*ze-1],255&st,st>>16,Re,Se+(2*ze-1)*x),v(E[R+2*ze-0],255&tt,tt>>16,Re,Se+(2*ze-0)*x),B!=null&&(st=Qt+Gt>>1,tt=nt+Yn>>1,v(B[q+2*ze-1],255&st,st>>16,Oe,Me+(2*ze-1)*x),v(B[q+2*ze+0],255&tt,tt>>16,Oe,Me+(2*ze+0)*x)),tt=cn,Gt=Yn}1&Ye||(st=3*tt+Gt+131074>>2,v(E[R+Ye-1],255&st,st>>16,Re,Se+(Ye-1)*x),B!=null&&(st=3*Gt+tt+131074>>2,v(B[q+Ye-1],255&st,st>>16,Oe,Me+(Ye-1)*x)))}}function yl(){Ki[lc]=no,Ki[nr]=Bo,Ki[cc]=du,Ki[Wr]=pc,Ki[jl]=Ts,Ki[Ro]=qa,Ki[Es]=Ls,Ki[El]=Bo,Ki[uc]=pc,Ki[Do]=Ts,Ki[hc]=qa}function jo(f){return f&-16384?0>f?0:255:f>>gc}function Ta(f,v){return jo((19077*f>>8)+(26149*v>>8)-14234)}function fa(f,v,x){return jo((19077*f>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function Js(f,v){return jo((19077*f>>8)+(33050*v>>8)-17685)}function Za(f,v,x,E,R){E[R+0]=Ta(f,x),E[R+1]=fa(f,v,x),E[R+2]=Js(f,v)}function qi(f,v,x,E,R){E[R+0]=Js(f,v),E[R+1]=fa(f,v,x),E[R+2]=Ta(f,x)}function Ns(f,v,x,E,R){var B=fa(f,v,x);v=B<<3&224|Js(f,v)>>3,E[R+0]=248&Ta(f,x)|B>>5,E[R+1]=v}function As(f,v,x,E,R){var B=240&Js(f,v)|15;E[R+0]=240&Ta(f,x)|fa(f,v,x)>>4,E[R+1]=B}function Eo(f,v,x,E,R){E[R+0]=255,Za(f,v,x,E,R+1)}function La(f,v,x,E,R){qi(f,v,x,E,R),E[R+3]=255}function dr(f,v,x,E,R){Za(f,v,x,E,R),E[R+3]=255}function es(f,v,x){Y[f]=function(E,R,B,q,z,V,Q,fe,Ne){for(var J=fe+(-2&Ne)*x;fe!=J;)v(E[R+0],B[q+0],z[V+0],Q,fe),v(E[R+1],B[q+0],z[V+0],Q,fe+x),R+=2,++q,++V,fe+=2*x;1&Ne&&v(E[R+0],B[q+0],z[V+0],Q,fe)}}function ko(f,v,x){return x==0?f==0?v==0?6:5:v==0?4:0:x}function bl(f,v,x,E,R){switch(f>>>30){case 3:ss(v,x,E,R,0);break;case 2:er(v,x,E,R);break;case 1:Sn(v,x,E,R)}}function Br(f,v){var x,E,R=v.M,B=v.Nb,q=f.oc,z=f.pc+40,V=f.oc,Q=f.pc+584,fe=f.oc,Ne=f.pc+600;for(x=0;16>x;++x)q[z+32*x-1]=129;for(x=0;8>x;++x)V[Q+32*x-1]=129,fe[Ne+32*x-1]=129;for(0<R?q[z-1-32]=V[Q-1-32]=fe[Ne-1-32]=129:(o(q,z-32-1,127,21),o(V,Q-32-1,127,9),o(fe,Ne-32-1,127,9)),E=0;E<f.za;++E){var J=v.ya[v.aa+E];if(0<E){for(x=-1;16>x;++x)a(q,z+32*x-4,q,z+32*x+12,4);for(x=-1;8>x;++x)a(V,Q+32*x-4,V,Q+32*x+4,4),a(fe,Ne+32*x-4,fe,Ne+32*x+4,4)}var ve=f.Gd,_e=f.Hd+E,Re=J.ad,Se=J.Hc;if(0<R&&(a(q,z-32,ve[_e].y,0,16),a(V,Q-32,ve[_e].f,0,8),a(fe,Ne-32,ve[_e].ea,0,8)),J.Za){var Oe=q,Me=z-32+16;for(0<R&&(E>=f.za-1?o(Oe,Me,ve[_e].y[15],4):a(Oe,Me,ve[_e+1].y,0,4)),x=0;4>x;x++)Oe[Me+128+x]=Oe[Me+256+x]=Oe[Me+384+x]=Oe[Me+0+x];for(x=0;16>x;++x,Se<<=2)Oe=q,Me=z+di[x],ai[J.Ob[x]](Oe,Me),bl(Se,Re,16*+x,Oe,Me)}else if(Oe=ko(E,R,J.Ob[0]),gr[Oe](q,z),Se!=0)for(x=0;16>x;++x,Se<<=2)bl(Se,Re,16*+x,q,z+di[x]);for(x=J.Gc,Oe=ko(E,R,J.Dd),ma[Oe](V,Q),ma[Oe](fe,Ne),Se=Re,Oe=V,Me=Q,255&(J=0|x)&&(170&J?Vr(Se,256,Oe,Me):yn(Se,256,Oe,Me)),J=fe,Se=Ne,255&(x>>=8)&&(170&x?Vr(Re,320,J,Se):yn(Re,320,J,Se)),R<f.Ub-1&&(a(ve[_e].y,0,q,z+480,16),a(ve[_e].f,0,V,Q+224,8),a(ve[_e].ea,0,fe,Ne+224,8)),x=8*B*f.B,ve=f.sa,_e=f.ta+16*E+16*B*f.R,Re=f.qa,J=f.ra+8*E+x,Se=f.Ha,Oe=f.Ia+8*E+x,x=0;16>x;++x)a(ve,_e+x*f.R,q,z+32*x,16);for(x=0;8>x;++x)a(Re,J+x*f.B,V,Q+32*x,8),a(Se,Oe+x*f.B,fe,Ne+32*x,8)}}function da(f,v,x,E,R,B,q,z,V){var Q=[0],fe=[0],Ne=0,J=V!=null?V.kd:0,ve=V??new Ge;if(f==null||12>x)return 7;ve.data=f,ve.w=v,ve.ha=x,v=[v],x=[x],ve.gb=[ve.gb];e:{var _e=v,Re=x,Se=ve.gb;if(e(f!=null),e(Re!=null),e(Se!=null),Se[0]=0,12<=Re[0]&&!n(f,_e[0],"RIFF")){if(n(f,_e[0]+8,"WEBP")){Se=3;break e}var Oe=it(f,_e[0]+4);if(12>Oe||4294967286<Oe){Se=3;break e}if(J&&Oe>Re[0]-8){Se=7;break e}Se[0]=Oe,_e[0]+=12,Re[0]-=12}Se=0}if(Se!=0)return Se;for(Oe=0<ve.gb[0],x=x[0];;){e:{var Me=f;Re=v,Se=x;var Ye=Q,ze=fe,ut=_e=[0];if((st=Ne=[Ne])[0]=0,8>Se[0])Se=7;else{if(!n(Me,Re[0],"VP8X")){if(it(Me,Re[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var tt=it(Me,Re[0]+8),Gt=1+Xe(Me,Re[0]+12);if(2147483648<=Gt*(Me=1+Xe(Me,Re[0]+15))){Se=3;break e}ut!=null&&(ut[0]=tt),Ye!=null&&(Ye[0]=Gt),ze!=null&&(ze[0]=Me),Re[0]+=18,Se[0]-=18,st[0]=1}Se=0}}if(Ne=Ne[0],_e=_e[0],Se!=0)return Se;if(Re=!!(2&_e),!Oe&&Ne)return 3;if(B!=null&&(B[0]=!!(16&_e)),q!=null&&(q[0]=Re),z!=null&&(z[0]=0),q=Q[0],_e=fe[0],Ne&&Re&&V==null){Se=0;break}if(4>x){Se=7;break}if(Oe&&Ne||!Oe&&!Ne&&!n(f,v[0],"ALPH")){x=[x],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{tt=f,Se=v,Oe=x;var st=ve.gb;Ye=ve.na,ze=ve.P,ut=ve.Sa,Gt=22,e(tt!=null),e(Oe!=null),Me=Se[0];var cn=Oe[0];for(e(Ye!=null),e(ut!=null),Ye[0]=null,ze[0]=null,ut[0]=0;;){if(Se[0]=Me,Oe[0]=cn,8>cn){Se=7;break e}var Yn=it(tt,Me+4);if(4294967286<Yn){Se=3;break e}var Qt=8+Yn+1&-2;if(Gt+=Qt,0<st&&Gt>st){Se=3;break e}if(!n(tt,Me,"VP8 ")||!n(tt,Me,"VP8L")){Se=0;break e}if(cn[0]<Qt){Se=7;break e}n(tt,Me,"ALPH")||(Ye[0]=tt,ze[0]=Me+8,ut[0]=Yn),Me+=Qt,cn-=Qt}}if(x=x[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Se!=0)break}x=[x],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(st=f,Se=v,Oe=x,Ye=ve.gb[0],ze=ve.Ja,ut=ve.xa,tt=Se[0],Me=!n(st,tt,"VP8 "),Gt=!n(st,tt,"VP8L"),e(st!=null),e(Oe!=null),e(ze!=null),e(ut!=null),8>Oe[0])Se=7;else{if(Me||Gt){if(st=it(st,tt+4),12<=Ye&&st>Ye-12){Se=3;break e}if(J&&st>Oe[0]-8){Se=7;break e}ze[0]=st,Se[0]+=8,Oe[0]-=8,ut[0]=Gt}else ut[0]=5<=Oe[0]&&st[tt+0]==47&&!(st[tt+4]>>5),ze[0]=Oe[0];Se=0}if(x=x[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],v=v[0],Se!=0)break;if(4294967286<ve.Ja)return 3;if(z==null||Re||(z[0]=ve.xa?2:1),q=[q],_e=[_e],ve.xa){if(5>x){Se=7;break}z=q,J=_e,Re=B,f==null||5>x?f=0:5<=x&&f[v+0]==47&&!(f[v+4]>>5)?(Oe=[0],st=[0],Ye=[0],xe(ze=new I,f,v,x),Ir(ze,Oe,st,Ye)?(z!=null&&(z[0]=Oe[0]),J!=null&&(J[0]=st[0]),Re!=null&&(Re[0]=Ye[0]),f=1):f=0):f=0}else{if(10>x){Se=7;break}z=_e,f==null||10>x||!ll(f,v+3,x-3)?f=0:(J=f[v+0]|f[v+1]<<8|f[v+2]<<16,Re=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=ve.Ja||!Re||!f?f=0:(q&&(q[0]=Re),z&&(z[0]=f),f=1))}if(!f||(q=q[0],_e=_e[0],Ne&&(Q[0]!=q||fe[0]!=_e)))return 3;V!=null&&(V[0]=ve,V.offset=v-V.w,e(4294967286>v-V.w),e(V.offset==V.ha-x));break}return Se==0||Se==7&&Ne&&V==null?(B!=null&&(B[0]|=ve.na!=null&&0<ve.na.length),E!=null&&(E[0]=q),R!=null&&(R[0]=_e),0):Se}function ts(f,v,x){var E=v.width,R=v.height,B=0,q=0,z=E,V=R;if(v.Da=f!=null&&0<f.Da,v.Da&&(z=f.cd,V=f.bd,B=f.v,q=f.j,11>x||(B&=-2,q&=-2),0>B||0>q||0>=z||0>=V||B+z>E||q+V>R))return 0;if(v.v=B,v.j=q,v.va=B+z,v.o=q+V,v.U=z,v.T=V,v.da=f!=null&&0<f.da,v.da){if(!vt(z,V,x=[f.ib],B=[f.hb]))return 0;v.ib=x[0],v.hb=B[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*R/4,v.Kb=0),1}function wl(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function pa(f,v,x,E){if(E==null||0>=f||0>=v)return 2;if(x!=null){if(x.Da){var R=x.cd,B=x.bd,q=-2&x.v,z=-2&x.j;if(0>q||0>z||0>=R||0>=B||q+R>f||z+B>v)return 2;f=R,v=B}if(x.da){if(!vt(f,v,R=[x.ib],B=[x.hb]))return 2;f=R[0],v=B[0]}}E.width=f,E.height=v;e:{var V=E.width,Q=E.height;if(f=E.S,0>=V||0>=Q||!(f>=lc&&13>f))f=2;else{if(0>=E.Rd&&E.sd==null){q=B=R=v=0;var fe=(z=V*vc[f])*Q;if(11>f||(B=(Q+1)/2*(v=(V+1)/2),f==12&&(q=(R=V)*Q)),(Q=l(fe+2*B+q))==null){f=1;break e}E.sd=Q,11>f?((V=E.f.RGBA).eb=Q,V.fb=0,V.A=z,V.size=fe):((V=E.f.kb).y=Q,V.O=0,V.fa=z,V.Fd=fe,V.f=Q,V.N=0+fe,V.Ab=v,V.Cd=B,V.ea=Q,V.W=0+fe+B,V.Db=v,V.Ed=B,f==12&&(V.F=Q,V.J=0+fe+2*B),V.Tc=q,V.lb=R)}if(v=1,R=E.S,B=E.width,q=E.height,R>=lc&&13>R)if(11>R)f=E.f.RGBA,v&=(z=Math.abs(f.A))*(q-1)+B<=f.size,v&=z>=B*vc[R],v&=f.eb!=null;else{f=E.f.kb,z=(B+1)/2,fe=(q+1)/2,V=Math.abs(f.fa),Q=Math.abs(f.Ab);var Ne=Math.abs(f.Db),J=Math.abs(f.lb),ve=J*(q-1)+B;v&=V*(q-1)+B<=f.Fd,v&=Q*(fe-1)+z<=f.Cd,v=(v&=Ne*(fe-1)+z<=f.Ed)&V>=B&Q>=z&Ne>=z,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,R==12&&(v&=J>=B,v&=ve<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||x!=null&&x.fd&&(f=wl(E)),f}var js=64,Ar=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pr=24,Oa=32,Ra=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(f){return f},Y.Predictor2=function(f,v,x){return v[x+0]},Y.Predictor3=function(f,v,x){return v[x+1]},Y.Predictor4=function(f,v,x){return v[x-1]},Y.Predictor5=function(f,v,x){return yt(yt(f,v[x+1]),v[x+0])},Y.Predictor6=function(f,v,x){return yt(f,v[x-1])},Y.Predictor7=function(f,v,x){return yt(f,v[x+0])},Y.Predictor8=function(f,v,x){return yt(v[x-1],v[x+0])},Y.Predictor9=function(f,v,x){return yt(v[x+0],v[x+1])},Y.Predictor10=function(f,v,x){return yt(yt(f,v[x-1]),yt(v[x+0],v[x+1]))},Y.Predictor11=function(f,v,x){var E=v[x+0];return 0>=zt(E>>24&255,f>>24&255,(v=v[x-1])>>24&255)+zt(E>>16&255,f>>16&255,v>>16&255)+zt(E>>8&255,f>>8&255,v>>8&255)+zt(255&E,255&f,255&v)?E:f},Y.Predictor12=function(f,v,x){var E=v[x+0];return(Wt((f>>24&255)+(E>>24&255)-((v=v[x-1])>>24&255))<<24|Wt((f>>16&255)+(E>>16&255)-(v>>16&255))<<16|Wt((f>>8&255)+(E>>8&255)-(v>>8&255))<<8|Wt((255&f)+(255&E)-(255&v)))>>>0},Y.Predictor13=function(f,v,x){var E=v[x-1];return(It((f=yt(f,v[x+0]))>>24&255,E>>24&255)<<24|It(f>>16&255,E>>16&255)<<16|It(f>>8&255,E>>8&255)<<8|It(255&f,255&E))>>>0};var Co=Y.PredictorAdd0;Y.PredictorAdd1=sn,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var To=Y.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var hi,ac=Y.ColorIndexInverseTransform,Da=Y.MapARGB,Pa=Y.VP8LColorIndexInverseTransformAlpha,Vi=Y.MapAlpha,is=Y.VP8LPredictorsAdd=[];is.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Lo,Oo,rs,as,Ba,Xs,Mr,ss,er,Vr,Sn,yn,In,fi,Ma,ga,Qs,_l,lu,uh,hh,fh,cu,uu,Zs,Yr,xl,qr,eo=l(511),sc=l(2041),Sl=l(225),Nl=l(767),oc=0,os=sc,Al=Sl,tr=Nl,Yi=eo,lc=0,nr=1,cc=2,Wr=3,jl=4,Ro=5,Es=6,El=7,uc=8,Do=9,hc=10,Kr=[2,3,7],Po=[3,3,11],to=[280,256,256,256,40],fc=[0,1,1,1,0],kl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ks=8,Qr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ur=null,dh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ph=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gr=[],ai=[],ma=[],Cs=1,fu=2,ls=[],Ki=[];Qa("UpsampleRgbLinePair",Za,3),Qa("UpsampleBgrLinePair",qi,3),Qa("UpsampleRgbaLinePair",dr,4),Qa("UpsampleBgraLinePair",La,4),Qa("UpsampleArgbLinePair",Eo,4),Qa("UpsampleRgba4444LinePair",As,2),Qa("UpsampleRgb565LinePair",Ns,2);var no=Y.UpsampleRgbLinePair,du=Y.UpsampleBgrLinePair,Bo=Y.UpsampleRgbaLinePair,pc=Y.UpsampleBgraLinePair,Ts=Y.UpsampleArgbLinePair,qa=Y.UpsampleRgba4444LinePair,Ls=Y.UpsampleRgb565LinePair,ea=16,Mo=1<<ea-1,io=-227,Os=482,gc=6,Rs=0,Ji=l(256),mc=l(256),gh=l(256),Pf=l(256),Bf=l(Os-io),Mf=l(Os-io);es("YuvToRgbRow",Za,3),es("YuvToBgrRow",qi,3),es("YuvToRgbaRow",dr,4),es("YuvToBgraRow",La,4),es("YuvToArgbRow",Eo,4),es("YuvToRgba4444Row",As,2),es("YuvToRgb565Row",Ns,2);var di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qo=[0,2,8],Cl=[8,7,6,4,4,2,2,2,1,1,1,1],Tl=1;this.WebPDecodeRGBA=function(f,v,x,E,R){var B=nr,q=new Be,z=new Jt;q.ba=z,z.S=B,z.width=[z.width],z.height=[z.height];var V=z.width,Q=z.height,fe=new mt;if(fe==null||f==null)var Ne=2;else e(fe!=null),Ne=da(f,v,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ne!=0?V=0:(V!=null&&(V[0]=fe.width[0]),Q!=null&&(Q[0]=fe.height[0]),V=1),V){z.width=z.width[0],z.height=z.height[0],E!=null&&(E[0]=z.width),R!=null&&(R[0]=z.height);e:{if(E=new ur,(R=new Ge).data=f,R.w=v,R.ha=x,R.kd=1,v=[0],e(R!=null),((f=da(R.data,R.w,R.ha,null,null,null,v,null,R))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(e(q!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=bt,E.ac=_r,E.bc=la,E.ma=q,R.xa){if((f=ja())==null){q=1;break e}if((function(J,ve){var _e=[0],Re=[0],Se=[0];t:for(;;){if(J==null)return 0;if(ve==null)return J.a=2,0;if(J.l=ve,J.a=0,xe(J.m,ve.data,ve.w,ve.ha),!Ir(J.m,_e,Re,Se)){J.a=3;break t}if(J.xb=fu,ve.width=_e[0],ve.height=Re[0],!Sr(_e[0],Re[0],1,J,null))break t;return 1}return e(J.a!=0),0})(f,E)){if(E=(v=pa(E.width,E.height,q.Oa,q.ba))==0){t:{E=f;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((x=E.l)!=null),e((R=x.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,e(E.ca!=null),!ts(R.Oa,x,Wr)){E.a=2;break n}if(!Dn(E,x.width)||x.da)break n;if((x.da||Lt(E.ca.S))&&ha(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ha()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!K(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!cr(E,E.V,E.Ba,E.c,E.i,x.o,Hi))break n;R.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(v=f.a)}else v=f.a}else{if((f=new Hr)==null){q=1;break e}if(f.Fa=R.na,f.P=R.P,f.qc=R.Sa,Ea(f,E)){if((v=pa(E.width,E.height,q.Oa,q.ba))==0){if(f.Aa=0,x=q.Oa,e((R=f)!=null),x!=null){if(0<(V=0>(V=x.Md)?0:100<V?255:255*V/100)){for(Q=fe=0;4>Q;++Q)12>(Ne=R.pb[Q]).lc&&(Ne.ia=V*Cl[0>Ne.lc?0:Ne.lc]>>3),fe|=Ne.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=x.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(J,ve){if(J==null)return 0;if(ve==null)return mn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!Ea(J,ve))return 0;if(e(J.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(J.L=0);var _e=qo[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=ve.v-_e>>4,J.zb=ve.j-_e>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=ve.o+15+_e>>4,J.Hb=ve.va+15+_e>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Re=J.ed;for(_e=0;4>_e;++_e){var Se;if(J.Qa.Cb){var Oe=J.Qa.Lb[_e];J.Qa.Fb||(Oe+=Re.Tb)}else Oe=Re.Tb;for(Se=0;1>=Se;++Se){var Me=J.gd[_e][Se],Ye=Oe;if(Re.Pc&&(Ye+=Re.vd[0],Se&&(Ye+=Re.od[0])),0<(Ye=0>Ye?0:63<Ye?63:Ye)){var ze=Ye;0<Re.wb&&(ze=4<Re.wb?ze>>2:ze>>1)>9-Re.wb&&(ze=9-Re.wb),1>ze&&(ze=1),Me.dd=ze,Me.tc=2*Ye+ze,Me.ld=40<=Ye?2:15<=Ye?1:0}else Me.tc=0;Me.La=Se}}}_e=0}else mn(J,6,"Frame setup failed"),_e=J.a;if(_e=_e==0){if(_e){J.$c=0,0<J.Aa||(J.Ic=Tl);t:{_e=J.Ic,Re=4*(ze=J.za);var ut=32*ze,tt=ze+1,Gt=0<J.L?ze*(0<J.Aa?2:1):0,st=(J.Aa==2?2:1)*ze;if((Me=Re+832+(Se=3*(16*_e+qo[J.L])/2*ut)+(Oe=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Me)_e=0;else{if(Me>J.Vb){if(J.Vb=0,J.Ec=l(Me),J.Fc=0,J.Ec==null){_e=mn(J,1,"no memory during frame initialization.");break t}J.Vb=Me}Me=J.Ec,Ye=J.Fc,J.Ac=Me,J.Bc=Ye,Ye+=Re,J.Gd=c(ut,kt),J.Hd=0,J.rb=c(tt+1,$t),J.sb=1,J.wa=Gt?c(Gt,rt):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=ze),e(!0),J.oc=Me,J.pc=Ye,Ye+=832,J.ya=c(st,He),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=ze),J.R=16*ze,J.B=8*ze,ze=(ut=qo[J.L])*J.R,ut=ut/2*J.B,J.sa=Me,J.ta=Ye+ze,J.qa=J.sa,J.ra=J.ta+16*_e*J.R+ut,J.Ha=J.qa,J.Ia=J.ra+8*_e*J.B+ut,J.$c=0,Ye+=Se,J.mb=Oe?Me:null,J.nb=Oe?Ye:null,e(Ye+Oe<=J.Fc+J.Vb),cl(J),o(J.Ac,J.Bc,0,Re),_e=1}}if(_e){if(ve.ka=0,ve.y=J.sa,ve.O=J.ta,ve.f=J.qa,ve.N=J.ra,ve.ea=J.Ha,ve.Vd=J.Ia,ve.fa=J.R,ve.Rc=J.B,ve.F=null,ve.J=0,!oc){for(_e=-255;255>=_e;++_e)eo[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)sc[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Sl[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Nl[255+_e]=0>_e?0:255<_e?255:_e;oc=1}Mr=ca,ss=ul,Vr=fr,Sn=hl,yn=fl,er=Jl,In=ic,fi=Ja,Ma=O,ga=Z,Qs=rc,_l=_,lu=he,uh=ye,hh=Va,fh=Ya,cu=Ks,uu=vl,ai[0]=tc,ai[1]=Xl,ai[2]=ec,ai[3]=gl,ai[4]=Dr,ai[5]=ml,ai[6]=$i,ai[7]=Vs,ai[8]=Ys,ai[9]=Pr,gr[0]=ua,gr[1]=dl,gr[2]=pl,gr[3]=Zl,gr[4]=$a,gr[5]=Gs,gr[6]=Ss,ma[0]=So,ma[1]=Ql,ma[2]=ka,ma[3]=nc,ma[4]=Mi,ma[5]=No,ma[6]=Ca,_e=1}else _e=0}_e&&(_e=(function(cn,Yn){for(cn.M=0;cn.M<cn.Va;++cn.M){var Qt,nt=cn.Jc[cn.M&cn.Xb],Je=cn.m,Zn=cn;for(Qt=0;Qt<Zn.za;++Qt){var Dt=Je,nn=Zn,Cn=nn.Ac,Ti=nn.Bc+4*Qt,Xi=nn.zc,zn=nn.ya[nn.aa+Qt];if(nn.Qa.Bb?zn.$b=Pe(Dt,nn.Pa.jb[0])?2+Pe(Dt,nn.Pa.jb[2]):Pe(Dt,nn.Pa.jb[1]):zn.$b=0,nn.kc&&(zn.Ad=Pe(Dt,nn.Bd)),zn.Za=!Pe(Dt,145)+0,zn.Za){var wi=zn.Ob,ir=0;for(nn=0;4>nn;++nn){var _i,ln=Xi[0+nn];for(_i=0;4>_i;++_i){ln=Wi[Cn[Ti+_i]][ln];for(var wn=dc[Pe(Dt,ln[0])];0<wn;)wn=dc[2*wn+Pe(Dt,ln[wn])];ln=-wn,Cn[Ti+_i]=ln}a(wi,ir,Cn,Ti,4),ir+=4,Xi[0+nn]=ln}}else ln=Pe(Dt,156)?Pe(Dt,128)?1:3:Pe(Dt,163)?2:0,zn.Ob[0]=ln,o(Cn,Ti,ln,4),o(Xi,0,ln,4);zn.Dd=Pe(Dt,142)?Pe(Dt,114)?Pe(Dt,183)?1:3:2:0}if(Zn.m.Ka)return mn(cn,7,"Premature end-of-partition0 encountered.");for(;cn.ja<cn.za;++cn.ja){if(Zn=nt,Dt=(Je=cn).rb[Je.sb-1],Cn=Je.rb[Je.sb+Je.ja],Qt=Je.ya[Je.aa+Je.ja],Ti=Je.kc?Qt.Ad:0)Dt.la=Cn.la=0,Qt.Za||(Dt.Na=Cn.Na=0),Qt.Hc=0,Qt.Gc=0,Qt.ia=0;else{var ei,Nn;if(Dt=Cn,Cn=Zn,Ti=Je.Pa.Xc,Xi=Je.ya[Je.aa+Je.ja],zn=Je.pb[Xi.$b],nn=Xi.ad,wi=0,ir=Je.rb[Je.sb-1],ln=_i=0,o(nn,wi,0,384),Xi.Za)var Li=0,ti=Ti[3];else{wn=l(16);var _n=Dt.Na+ir.Na;if(_n=Ur(Cn,Ti[1],_n,zn.Eb,0,wn,0),Dt.Na=ir.Na=(0<_n)+0,1<_n)Mr(wn,0,nn,wi);else{var pi=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)nn[wi+wn]=pi}Li=1,ti=Ti[0]}var Tn=15&Dt.la,xi=15&ir.la;for(wn=0;4>wn;++wn){var Si=1&xi;for(pi=Nn=0;4>pi;++pi)Tn=Tn>>1|(Si=(_n=Ur(Cn,ti,_n=Si+(1&Tn),zn.Sc,Li,nn,wi))>Li)<<7,Nn=Nn<<2|(3<_n?3:1<_n?2:nn[wi+0]!=0),wi+=16;Tn>>=4,xi=xi>>1|Si<<7,_i=(_i<<8|Nn)>>>0}for(ti=Tn,Li=xi>>4,ei=0;4>ei;ei+=2){for(Nn=0,Tn=Dt.la>>4+ei,xi=ir.la>>4+ei,wn=0;2>wn;++wn){for(Si=1&xi,pi=0;2>pi;++pi)_n=Si+(1&Tn),Tn=Tn>>1|(Si=0<(_n=Ur(Cn,Ti[2],_n,zn.Qc,0,nn,wi)))<<3,Nn=Nn<<2|(3<_n?3:1<_n?2:nn[wi+0]!=0),wi+=16;Tn>>=2,xi=xi>>1|Si<<5}ln|=Nn<<4*ei,ti|=Tn<<4<<ei,Li|=(240&xi)<<ei}Dt.la=ti,ir.la=Li,Xi.Hc=_i,Xi.Gc=ln,Xi.ia=43690&ln?0:zn.ia,Ti=!(_i|ln)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Qt.$b][Qt.Za],Je.wa[Je.Y+Je.ja].La|=!Ti),Zn.Ka)return mn(cn,7,"Premature end-of-file encountered.")}if(cl(cn),Je=Yn,Zn=1,Qt=(nt=cn).D,Dt=0<nt.L&&nt.M>=nt.zb&&nt.M<=nt.Va,nt.Aa==0)t:{if(Qt.M=nt.M,Qt.uc=Dt,Br(nt,Qt),Zn=1,Qt=(Nn=nt.D).Nb,Dt=(ln=qo[nt.L])*nt.R,Cn=ln/2*nt.B,wn=16*Qt*nt.R,pi=8*Qt*nt.B,Ti=nt.sa,Xi=nt.ta-Dt+wn,zn=nt.qa,nn=nt.ra-Cn+pi,wi=nt.Ha,ir=nt.Ia-Cn+pi,xi=(Tn=Nn.M)==0,_i=Tn>=nt.Va-1,nt.Aa==2&&Br(nt,Nn),Nn.uc)for(Si=(_n=nt).D.M,e(_n.D.uc),Nn=_n.yb;Nn<_n.Hb;++Nn){Li=Nn,ti=Si;var Pn=(bn=(Ni=_n).D).Nb;ei=Ni.R;var bn=bn.wa[bn.Y+Li],rr=Ni.sa,si=Ni.ta+16*Pn*ei+16*Li,jt=bn.dd,Ct=bn.tc;if(Ct!=0)if(e(3<=Ct),Ni.L==1)0<Li&&fh(rr,si,ei,Ct+4),bn.La&&uu(rr,si,ei,Ct),0<ti&&hh(rr,si,ei,Ct+4),bn.La&&cu(rr,si,ei,Ct);else{var xn=Ni.B,jr=Ni.qa,ta=Ni.ra+8*Pn*xn+8*Li,mr=Ni.Ha,Ni=Ni.Ia+8*Pn*xn+8*Li;Pn=bn.ld,0<Li&&(fi(rr,si,ei,Ct+4,jt,Pn),ga(jr,ta,mr,Ni,xn,Ct+4,jt,Pn)),bn.La&&(_l(rr,si,ei,Ct,jt,Pn),uh(jr,ta,mr,Ni,xn,Ct,jt,Pn)),0<ti&&(In(rr,si,ei,Ct+4,jt,Pn),Ma(jr,ta,mr,Ni,xn,Ct+4,jt,Pn)),bn.La&&(Qs(rr,si,ei,Ct,jt,Pn),lu(jr,ta,mr,Ni,xn,Ct,jt,Pn))}}if(nt.ia&&alert("todo:DitherRow"),Je.put!=null){if(Nn=16*Tn,Tn=16*(Tn+1),xi?(Je.y=nt.sa,Je.O=nt.ta+wn,Je.f=nt.qa,Je.N=nt.ra+pi,Je.ea=nt.Ha,Je.W=nt.Ia+pi):(Nn-=ln,Je.y=Ti,Je.O=Xi,Je.f=zn,Je.N=nn,Je.ea=wi,Je.W=ir),_i||(Tn-=ln),Tn>Je.o&&(Tn=Je.o),Je.F=null,Je.J=null,nt.Fa!=null&&0<nt.Fa.length&&Nn<Tn&&(Je.J=Fn(nt,Je,Nn,Tn-Nn),Je.F=nt.mb,Je.F==null&&Je.F.length==0)){Zn=mn(nt,3,"Could not decode alpha data.");break t}Nn<Je.j&&(ln=Je.j-Nn,Nn=Je.j,e(!(1&ln)),Je.O+=nt.R*ln,Je.N+=nt.B*(ln>>1),Je.W+=nt.B*(ln>>1),Je.F!=null&&(Je.J+=Je.width*ln)),Nn<Tn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Nn-Je.j,Je.U=Je.va-Je.v,Je.T=Tn-Nn,Zn=Je.put(Je))}Qt+1!=nt.Ic||_i||(a(nt.sa,nt.ta-Dt,Ti,Xi+16*nt.R,Dt),a(nt.qa,nt.ra-Cn,zn,nn+8*nt.B,Cn),a(nt.Ha,nt.Ia-Cn,wi,ir+8*nt.B,Cn))}if(!Zn)return mn(cn,6,"Output aborted.")}return 1})(J,ve)),ve.bc!=null&&ve.bc(ve),_e&=1}return _e?(J.cb=0,_e):0})(f,E)||(v=f.a)}}else v=f.a}v==0&&q.Oa!=null&&q.Oa.fd&&(v=wl(q.ba))}q=v}B=q!=0?null:11>B?z.f.RGBA.eb:z.f.kb.y}else B=null;return B};var vc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,ge){for(var M="",H=0;H<4;H++)M+=String.fromCharCode(Y[ge++]);return M}function b(Y,ge){return Y[ge+0]|Y[ge+1]<<8}function A(Y,ge){return(Y[ge+0]|Y[ge+1]<<8|Y[ge+2]<<16)>>>0}function k(Y,ge){return(Y[ge+0]|Y[ge+1]<<8|Y[ge+2]<<16|Y[ge+3]<<24)>>>0}new d;var w=[0],j=[0],S=[],T=new d,N=r,P=(function(Y,ge){var M={},H=0,se=!1,ae=0,we=0;if(M.frames=[],!(function(L,I){for(var W=0;W<4;W++)if(L[I+W]!="RIFF".charCodeAt(W))return!0;return!1})(Y,ge)){for(k(Y,ge+=4),ge+=8;ge<Y.length;){var ee=m(Y,ge),X=k(Y,ge+=4);ge+=4;var re=X+(1&X);switch(ee){case"VP8 ":case"VP8L":M.frames[H]===void 0&&(M.frames[H]={}),(G=M.frames[H]).src_off=se?we:ge-8,G.src_size=ae+X+8,H++,se&&(se=!1,ae=0,we=0);break;case"VP8X":(G=M.header={}).feature_flags=Y[ge];var xe=ge+4;G.canvas_width=1+A(Y,xe),xe+=3,G.canvas_height=1+A(Y,xe),xe+=3;break;case"ALPH":se=!0,ae=re+8,we=ge-8;break;case"ANIM":(G=M.header).bgcolor=k(Y,ge),xe=ge+4,G.loop_count=b(Y,xe),xe+=2;break;case"ANMF":var Le,G;(G=M.frames[H]={}).offset_x=2*A(Y,ge),ge+=3,G.offset_y=2*A(Y,ge),ge+=3,G.width=1+A(Y,ge),ge+=3,G.height=1+A(Y,ge),ge+=3,G.duration=A(Y,ge),ge+=3,Le=Y[ge++],G.dispose=1&Le,G.blend=Le>>1&1}ee!="ANMF"&&(ge+=re)}return M}})(N,0);P.response=N,P.rgbaoutput=!0,P.dataurl=!1;var D=P.header?P.header:null,U=P.frames?P.frames:null;if(D){D.loop_counter=D.loop_count,w=[D.canvas_height],j=[D.canvas_width];for(var le=0;le<U.length&&U[le].blend!=0;le++);}var ce=U[0],te=T.WebPDecodeRGBA(N,ce.src_off,ce.src_size,j,w);ce.rgba=te,ce.imgwidth=j[0],ce.imgheight=w[0];for(var $=0;$<j[0]*w[0]*4;$++)S[$]=te[$];return this.width=j,this.height=w,this.data=S,this}(function(r){var e,n,a,o,l,c,h,d,m,b=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new d,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new c,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new c,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,d=this.internal.Matrix,m=new b}]);var A=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=L;Object.defineProperty(this,"pdf",{get:function(){return I}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(K){W=!!K}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(K){ie=!!K}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(K){isNaN(K)||(pe=K)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(K){var Ke;typeof K=="number"?Ke=[K,K,K,K]:((Ke=new Array(4))[0]=K[0],Ke[1]=K.length>=2?K[1]:Ke[0],Ke[2]=K.length>=3?K[2]:Ke[0],Ke[3]=K.length>=4?K[3]:Ke[1]),m.margin=Ke}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(K){ke=K}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(K){je=K}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(K){Pe=K}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(K){K instanceof b&&(m=K)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(K){m.path=K}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(K){Ve=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Ke;Ke=k(K),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Ke=k(K);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var Ze=null,Xe=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(K){Ze=null,Xe=null,it=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Ke;if(this.ctx.font=K,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Kt=Ke[1];Ke[2];var vt=Ke[3],$e=Ke[4];Ke[5];var St=Ke[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(et==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:et==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var At=(function(dt){var Xn,rn,Et=[],Bt=dt.trim();if(Bt==="")return v0;if(Bt in Pg)return[Pg[Bt]];for(;Bt!=="";){switch(rn=null,Xn=(Bt=Mg(Bt)).charAt(0)){case'"':case"'":rn=Kw(Bt.substring(1),Xn);break;default:rn=Jw(Bt)}if(rn===null||(Et.push(rn[0]),(Bt=Mg(rn[1]))!==""&&Bt.charAt(0)!==","))return v0;Bt=Bt.replace(/^,/,"")}return Et})(St);if(this.fontFaces){var yt=(function(dt,Xn){var rn=dt.getFontList(),Et=JSON.stringify(rn);if(Ze===null||Xe!==Et){var Bt=(function(on){var Nt=[];return Object.keys(on).forEach(function(On){on[On].forEach(function(Lt){var Mt=null;switch(Lt){case"bold":Mt={family:On,weight:"bold"};break;case"italic":Mt={family:On,style:"italic"};break;case"bolditalic":Mt={family:On,weight:"bold",style:"italic"};break;case"":case"normal":Mt={family:On}}Mt!==null&&(Mt.ref={name:On,style:Lt},Nt.push(Mt))})}),Nt})(rn);Ze=(function(on){for(var Nt={},On=0;On<on.length;++On){var Lt=m0(on[On]),Mt=Lt.family,En=Lt.stretch,Jt=Lt.style,mt=Lt.weight;Nt[Mt]=Nt[Mt]||{},Nt[Mt][En]=Nt[Mt][En]||{},Nt[Mt][En][Jt]=Nt[Mt][En][Jt]||{},Nt[Mt][En][Jt][mt]=Lt}return Nt})(Bt.concat(Xn)),Xe=Et}return Ze})(this.pdf,this.fontFaces),Wt=At.map(function(dt){return{family:dt,stretch:"normal",weight:vt,style:Kt}}),It=(function(dt,Xn,rn){for(var Et=(rn=rn||{}).defaultFontFamily||"times",Bt=Object.assign({},Ww,rn.genericFontFamilies||{}),on=null,Nt=null,On=0;On<Xn.length;++On)if(Bt[(on=m0(Xn[On])).family]&&(on.family=Bt[on.family]),dt.hasOwnProperty(on.family)){Nt=dt[on.family];break}if(!(Nt=Nt||dt[Et]))throw new Error("Could not find a font-family for the rule '"+Bg(on)+"' and default family '"+Et+"'.");if(Nt=(function(Lt,Mt){if(Mt[Lt])return Mt[Lt];var En=U0[Lt],Jt=En<=U0.normal?-1:1,mt=Dg(Mt,k5,En,Jt);if(!mt)throw new Error("Could not find a matching font-stretch value for "+Lt);return mt})(on.stretch,Nt),Nt=(function(Lt,Mt){if(Mt[Lt])return Mt[Lt];for(var En=E5[Lt],Jt=0;Jt<En.length;++Jt)if(Mt[En[Jt]])return Mt[En[Jt]];throw new Error("Could not find a matching font-style for "+Lt)})(on.style,Nt),!(Nt=(function(Lt,Mt){if(Mt[Lt])return Mt[Lt];if(Lt===400&&Mt[500])return Mt[500];if(Lt===500&&Mt[400])return Mt[400];var En=Yw[Lt],Jt=Dg(Mt,C5,En,Lt<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+Lt);return Jt})(on.weight,Nt)))throw new Error("Failed to resolve a font for the rule '"+Bg(on)+"'.");return Nt})(yt,Wt);this.pdf.setFont(It.ref.name,It.ref.style)}else{var zt="";(vt==="bold"||parseInt(vt,10)>=700||Kt==="bold")&&(zt="bold"),Kt==="italic"&&(zt+="italic"),zt.length===0&&(zt="normal");for(var sn="",tn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<At.length;ft++){if(this.pdf.internal.getFont(At[ft],zt,{noFallback:!0,disableWarning:!0})!==void 0){sn=At[ft];break}if(zt==="bolditalic"&&this.pdf.internal.getFont(At[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=At[ft],zt="bold";else if(this.pdf.internal.getFont(At[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=At[ft],zt="normal";break}}if(sn===""){for(var Ht=0;Ht<At.length;Ht++)if(tn[At[Ht]]){sn=tn[At[Ht]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};A.prototype.setLineDash=function(L){this.lineDash=L},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){U.call(this,"fill",!1)},A.prototype.stroke=function(){U.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(L,I){if(isNaN(L)||isNaN(I))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new c(L,I));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(L,I)},A.prototype.closePath=function(){var L=new c(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&qn(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){L=new c(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(L.x,L.y)},A.prototype.lineTo=function(L,I){if(isNaN(L)||isNaN(I))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new c(L,I));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(W.x,W.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},A.prototype.quadraticCurveTo=function(L,I,W,ie){if(isNaN(W)||isNaN(ie)||isNaN(L)||isNaN(I))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new c(W,ie)),pe=this.ctx.transform.applyToPoint(new c(L,I));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new c(ue.x,ue.y)},A.prototype.bezierCurveTo=function(L,I,W,ie,ue,pe){if(isNaN(ue)||isNaN(pe)||isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new c(ue,pe)),je=this.ctx.transform.applyToPoint(new c(L,I)),Pe=this.ctx.transform.applyToPoint(new c(W,ie));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:Pe.x,y2:Pe.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new c(ke.x,ke.y)},A.prototype.arc=function(L,I,W,ie,ue,pe){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie)||isNaN(ue))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new c(L,I));L=ke.x,I=ke.y;var je=this.ctx.transform.applyToPoint(new c(0,W)),Pe=this.ctx.transform.applyToPoint(new c(0,0));W=Math.sqrt(Math.pow(je.x-Pe.x,2)+Math.pow(je.y-Pe.y,2))}Math.abs(ue-ie)>=2*Math.PI&&(ie=0,ue=2*Math.PI),this.path.push({type:"arc",x:L,y:I,radius:W,startAngle:ie,endAngle:ue,counterclockwise:pe})},A.prototype.arcTo=function(L,I,W,ie,ue){throw new Error("arcTo not implemented.")},A.prototype.rect=function(L,I,W,ie){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,I),this.lineTo(L+W,I),this.lineTo(L+W,I+ie),this.lineTo(L,I+ie),this.lineTo(L,I),this.lineTo(L+W,I),this.lineTo(L,I)},A.prototype.fillRect=function(L,I,W,ie){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,I,W,ie),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},A.prototype.strokeRect=function(L,I,W,ie){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(L,I,W,ie),this.stroke())},A.prototype.clearRect=function(L,I,W,ie){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,I,W,ie))},A.prototype.save=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},A.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(I),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(L){var I,W,ie,ue;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))I=0,W=0,ie=0,ue=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pe!==null)I=parseInt(pe[1]),W=parseInt(pe[2]),ie=parseInt(pe[3]),ue=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)I=parseInt(pe[1]),W=parseInt(pe[2]),ie=parseInt(pe[3]),ue=parseFloat(pe[4]);else{if(ue=1,typeof L=="string"&&L.charAt(0)!=="#"){var ke=new w5(L);L=ke.ok?ke.toHex():"#000000"}L.length===4?(I=L.substring(1,2),I+=I,W=L.substring(2,3),W+=W,ie=L.substring(3,4),ie+=ie):(I=L.substring(1,3),W=L.substring(3,5),ie=L.substring(5,7)),I=parseInt(I,16),W=parseInt(W,16),ie=parseInt(ie,16)}}return{r:I,g:W,b:ie,a:ue,style:L}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(L,I,W,ie){if(isNaN(I)||isNaN(W)||typeof L!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!w.call(this)){var ue=re(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:L,x:I,y:W,scale:pe,angle:ue,align:this.textAlign,maxWidth:ie})}},A.prototype.strokeText=function(L,I,W,ie){if(isNaN(I)||isNaN(W)||typeof L!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ie=isNaN(ie)?void 0:ie;var ue=re(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:L,x:I,y:W,scale:pe,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ie})}},A.prototype.measureText=function(L){if(typeof L!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,W=this.pdf.internal.scaleFactor,ie=I.internal.getFontSize(),ue=I.getStringUnitWidth(L)*ie/I.internal.scaleFactor;return new function(pe){var ke=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ue*=Math.round(96*W/72*1e4)/1e4})},A.prototype.scale=function(L,I){if(isNaN(L)||isNaN(I))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new d(L,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.rotate=function(L){if(isNaN(L))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new d(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},A.prototype.translate=function(L,I){if(isNaN(L)||isNaN(I))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new d(1,0,0,1,L,I);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.transform=function(L,I,W,ie,ue,pe){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ie)||isNaN(ue)||isNaN(pe))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new d(L,I,W,ie,ue,pe);this.ctx.transform=this.ctx.transform.multiply(ke)},A.prototype.setTransform=function(L,I,W,ie,ue,pe){L=isNaN(L)?1:L,I=isNaN(I)?0:I,W=isNaN(W)?0:W,ie=isNaN(ie)?1:ie,ue=isNaN(ue)?0:ue,pe=isNaN(pe)?0:pe,this.ctx.transform=new d(L,I,W,ie,ue,pe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(L,I,W,ie,ue,pe,ke,je,Pe){var Ve=this.pdf.getImageProperties(L),Ze=1,Xe=1,it=1,K=1;ie!==void 0&&je!==void 0&&(it=je/ie,K=Pe/ue,Ze=Ve.width/ie*je/ie,Xe=Ve.height/ue*Pe/ue),pe===void 0&&(pe=I,ke=W,I=0,W=0),ie!==void 0&&je===void 0&&(je=ie,Pe=ue),ie===void 0&&je===void 0&&(je=Ve.width,Pe=Ve.height);var Ke=this.ctx.transform.decompose(),Kt=re(Ke.rotate.shx),vt=new d,$e=(vt=(vt=(vt=vt.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new h(pe-I*it,ke-W*K,ie*Ze,ue*Xe));if(this.autoPaging){for(var St,et=T.call(this,$e),At=[],yt=0;yt<et.length;yt+=1)At.indexOf(et[yt])===-1&&At.push(et[yt]);D(At);for(var Wt=At[0],It=At[At.length-1],zt=Wt;zt<It+1;zt++){this.pdf.setPage(zt);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=zt===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=zt===1?0:ft+(zt-2)*Ht;if(this.ctx.clip_path.length!==0){var Xn=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(St,this.posX+this.margin[3],-dt+tn+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=Xn}var rn=JSON.parse(JSON.stringify($e));rn=P([rn],this.posX+this.margin[3],-dt+tn+this.ctx.prevPageLastElemOffset)[0];var Et=(zt>Wt||zt<It)&&S.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,Ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,Kt),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Kt)};var T=function(L,I,W){var ie=[];I=I||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+ue)/W)+1);break;case"arc":ie.push(Math.floor((L.y+ue-L.radius)/W)+1),ie.push(Math.floor((L.y+ue+L.radius)/W)+1);break;case"qct":var pe=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((pe.y+ue)/W)+1),ie.push(Math.floor((pe.y+pe.h+ue)/W)+1);break;case"bct":var ke=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((ke.y+ue)/W)+1),ie.push(Math.floor((ke.y+ke.h+ue)/W)+1);break;case"rect":ie.push(Math.floor((L.y+ue)/W)+1),ie.push(Math.floor((L.y+L.h+ue)/W)+1)}for(var je=0;je<ie.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ie[je];)N.call(this);return ie},N=function(){var L=this.fillStyle,I=this.strokeStyle,W=this.font,ie=this.lineCap,ue=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=I,this.font=W,this.lineCap=ie,this.lineWidth=ue,this.lineJoin=pe},P=function(L,I,W){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=I,L[ie].y2+=W;case"qct":L[ie].x1+=I,L[ie].y1+=W;default:L[ie].x+=I,L[ie].y+=W}return L},D=function(L){return L.sort(function(I,W){return I-W})},U=function(L,I){var W=this.fillStyle,ie=this.strokeStyle,ue=this.lineCap,pe=this.lineWidth,ke=Math.abs(pe*this.ctx.transform.scaleX),je=this.lineJoin;if(this.autoPaging){for(var Pe,Ve,Ze=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),it=[],K=0;K<Xe.length;K++)if(Xe[K].x!==void 0)for(var Ke=T.call(this,Xe[K]),Kt=0;Kt<Ke.length;Kt+=1)it.indexOf(Ke[Kt])===-1&&it.push(Ke[Kt]);for(var vt=0;vt<it.length;vt++)for(;this.pdf.internal.getNumberOfPages()<it[vt];)N.call(this);D(it);for(var $e=it[0],St=it[it.length-1],et=$e;et<St+1;et++){this.pdf.setPage(et),this.fillStyle=W,this.strokeStyle=ie,this.lineCap=ue,this.lineWidth=ke,this.lineJoin=je;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=et===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=et===1?0:Wt+(et-2)*It;if(this.ctx.clip_path.length!==0){var sn=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Pe,this.posX+this.margin[3],-zt+yt+this.ctx.prevPageLastElemOffset),le.call(this,L,!0),this.path=sn}if(Ve=JSON.parse(JSON.stringify(Ze)),this.path=P(Ve,this.posX+this.margin[3],-zt+yt+this.ctx.prevPageLastElemOffset),I===!1||et===0){var tn=(et>$e||et<St)&&S.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,It,null).clip().discardPath()),le.call(this,L,I),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Ze}else this.lineWidth=ke,le.call(this,L,I),this.lineWidth=pe},le=function(L,I){if((L!=="stroke"||I||!j.call(this))&&(L==="stroke"||I||!w.call(this))){for(var W,ie,ue=[],pe=this.path,ke=0;ke<pe.length;ke++){var je=pe[ke];switch(je.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:je,deltas:[],abs:[]});break;case"lt":var Pe=ue.length;if(pe[ke-1]&&!isNaN(pe[ke-1].x)&&(W=[je.x-pe[ke-1].x,je.y-pe[ke-1].y],Pe>0)){for(;Pe>=0;Pe--)if(ue[Pe-1].close!==!0&&ue[Pe-1].begin!==!0){ue[Pe-1].deltas.push(W),ue[Pe-1].abs.push(je);break}}break;case"bct":W=[je.x1-pe[ke-1].x,je.y1-pe[ke-1].y,je.x2-pe[ke-1].x,je.y2-pe[ke-1].y,je.x-pe[ke-1].x,je.y-pe[ke-1].y],ue[ue.length-1].deltas.push(W);break;case"qct":var Ve=pe[ke-1].x+2/3*(je.x1-pe[ke-1].x),Ze=pe[ke-1].y+2/3*(je.y1-pe[ke-1].y),Xe=je.x+2/3*(je.x1-je.x),it=je.y+2/3*(je.y1-je.y),K=je.x,Ke=je.y;W=[Ve-pe[ke-1].x,Ze-pe[ke-1].y,Xe-pe[ke-1].x,it-pe[ke-1].y,K-pe[ke-1].x,Ke-pe[ke-1].y],ue[ue.length-1].deltas.push(W);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(je)}}ie=I?null:L==="stroke"?"stroke":"fill";for(var Kt=!1,vt=0;vt<ue.length;vt++)if(ue[vt].arc)for(var $e=ue[vt].abs,St=0;St<$e.length;St++){var et=$e[St];et.type==="arc"?$.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,I,!Kt):se.call(this,et.x,et.y),Kt=!0}else if(ue[vt].close===!0)this.pdf.internal.out("h"),Kt=!1;else if(ue[vt].begin!==!0){var At=ue[vt].start.x,yt=ue[vt].start.y;ae.call(this,ue[vt].deltas,At,yt),Kt=!0}ie&&Y.call(this,ie),I&&ge.call(this)}},ce=function(L){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-W;case"top":return L+I-W;case"hanging":return L+I-2*W;case"middle":return L+I/2-W;default:return L}},te=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(I,W){this.colorStops.push([I,W])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(L,I,W,ie,ue,pe,ke,je,Pe){for(var Ve=ee.call(this,W,ie,ue,pe),Ze=0;Ze<Ve.length;Ze++){var Xe=Ve[Ze];Ze===0&&(Pe?M.call(this,Xe.x1+L,Xe.y1+I):se.call(this,Xe.x1+L,Xe.y1+I)),we.call(this,L,I,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}je?ge.call(this):Y.call(this,ke)},Y=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(L,I){this.pdf.internal.out(n(L)+" "+a(I)+" m")},H=function(L){var I;switch(L.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var W,ie,ue,pe=this.pdf.getTextDimensions(L.text),ke=ce.call(this,L.y),je=te.call(this,ke)-pe.h,Pe=this.ctx.transform.applyToPoint(new c(L.x,ke));if(this.autoPaging){var Ve=this.ctx.transform.decompose(),Ze=new d;Ze=(Ze=(Ze=Ze.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var Xe=this.ctx.transform.applyToRectangle(new h(L.x,ke,pe.w,pe.h)),it=Ze.applyToRectangle(new h(L.x,je,pe.w,pe.h)),K=T.call(this,it),Ke=[],Kt=0;Kt<K.length;Kt+=1)Ke.indexOf(K[Kt])===-1&&Ke.push(K[Kt]);D(Ke);for(var vt=Ke[0],$e=Ke[Ke.length-1],St=vt;St<$e+1;St++){this.pdf.setPage(St);var et=St===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],Wt=yt-this.margin[0],It=this.pdf.internal.pageSize.width-this.margin[1],zt=It-this.margin[3],sn=St===1?0:At+(St-2)*Wt;if(this.ctx.clip_path.length!==0){var tn=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(W,this.posX+this.margin[3],-1*sn+et),le.call(this,"fill",!0),this.path=tn}var ft=P([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-sn+et+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale);var Ht=this.autoPaging!=="text";if(Ht||ft.y+ft.h<=yt){if(Ht||ft.y>=et&&ft.x<=It){var dt=Ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||It-ft.x)[0],Xn=P([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-sn+et+this.ctx.prevPageLastElemOffset)[0],rn=Ht&&(St>vt||St<$e)&&S.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,Wt,null).clip().discardPath()),this.pdf.text(dt,Xn.x,Xn.y,{angle:L.angle,align:I,renderingMode:L.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else ft.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-ft.y);L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ue)}}else L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale),this.pdf.text(L.text,Pe.x+this.posX,Pe.y+this.posY,{angle:L.angle,align:I,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ue)},se=function(L,I,W,ie){W=W||0,ie=ie||0,this.pdf.internal.out(n(L+W)+" "+a(I+ie)+" l")},ae=function(L,I,W){return this.pdf.lines(L,I,W,null,null)},we=function(L,I,W,ie,ue,pe,ke,je){this.pdf.internal.out([e(o(W+L)),e(l(ie+I)),e(o(ue+L)),e(l(pe+I)),e(o(ke+L)),e(l(je+I)),"c"].join(" "))},ee=function(L,I,W,ie){for(var ue=2*Math.PI,pe=Math.PI/2;I>W;)I-=ue;var ke=Math.abs(W-I);ke<ue&&ie&&(ke=ue-ke);for(var je=[],Pe=ie?-1:1,Ve=I;ke>1e-5;){var Ze=Ve+Pe*Math.min(ke,pe);je.push(X.call(this,L,Ve,Ze)),ke-=Math.abs(Ze-Ve),Ve=Ze}return je},X=function(L,I,W){var ie=(W-I)/2,ue=L*Math.cos(ie),pe=L*Math.sin(ie),ke=ue,je=-pe,Pe=ke*ke+je*je,Ve=Pe+ke*ue+je*pe,Ze=4/3*(Math.sqrt(2*Pe*Ve)-Ve)/(ke*pe-je*ue),Xe=ke-Ze*je,it=je+Ze*ke,K=Xe,Ke=-it,Kt=ie+I,vt=Math.cos(Kt),$e=Math.sin(Kt);return{x1:L*Math.cos(I),y1:L*Math.sin(I),x2:Xe*vt-it*$e,y2:Xe*$e+it*vt,x3:K*vt-Ke*$e,y3:K*$e+Ke*vt,x4:L*Math.cos(W),y4:L*Math.sin(W)}},re=function(L){return 180*L/Math.PI},xe=function(L,I,W,ie,ue,pe){var ke=L+.5*(W-L),je=I+.5*(ie-I),Pe=ue+.5*(W-ue),Ve=pe+.5*(ie-pe),Ze=Math.min(L,ue,ke,Pe),Xe=Math.max(L,ue,ke,Pe),it=Math.min(I,pe,je,Ve),K=Math.max(I,pe,je,Ve);return new h(Ze,it,Xe-Ze,K-it)},Le=function(L,I,W,ie,ue,pe,ke,je){var Pe,Ve,Ze,Xe,it,K,Ke,Kt,vt,$e,St,et,At,yt,Wt=W-L,It=ie-I,zt=ue-W,sn=pe-ie,tn=ke-ue,ft=je-pe;for(Ve=0;Ve<41;Ve++)vt=(Ke=(Ze=L+(Pe=Ve/40)*Wt)+Pe*((it=W+Pe*zt)-Ze))+Pe*(it+Pe*(ue+Pe*tn-it)-Ke),$e=(Kt=(Xe=I+Pe*It)+Pe*((K=ie+Pe*sn)-Xe))+Pe*(K+Pe*(pe+Pe*ft-K)-Kt),Ve==0?(St=vt,et=$e,At=vt,yt=$e):(St=Math.min(St,vt),et=Math.min(et,$e),At=Math.max(At,vt),yt=Math.max(yt,$e));return new h(Math.round(St),Math.round(et),Math.round(At-St),Math.round(yt-et))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,I,W=(L=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:I}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(xt.API),(function(r){var e=function(c){var h,d,m,b,A,k,w,j,S,T;for(d=[],m=0,b=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;b>m;m+=4)(A=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(k=(A=((A=((A=((A=(A-(T=A%85))/85)-(S=A%85))/85)-(j=A%85))/85)-(w=A%85))/85)%85,d.push(k+33,w+33,j+33,S+33,T+33)):d.push(122);return(function(N,P){for(var D=P;D>0;D--)N.pop()})(d,h.length),String.fromCharCode.apply(String,d)+"~>"},n=function(c){var h,d,m,b,A,k=String,w="length",j=255,S="charCodeAt",T="slice",N="replace";for(c[T](-2),c=c[T](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),m=[],b=0,A=(c+=h="uuuuu"[T](c[w]%5||5))[w];A>b;b+=5)d=52200625*(c[S](b)-33)+614125*(c[S](b+1)-33)+7225*(c[S](b+2)-33)+85*(c[S](b+3)-33)+(c[S](b+4)-33),m.push(j&d>>24,j&d>>16,j&d>>8,j&d);return(function(P,D){for(var U=D;U>0;U--)P.pop()})(m,h[w]),k.fromCharCode.apply(k,m)},a=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var d="",m=0;m<c.length;m+=2)d+=String.fromCharCode("0x"+(c[m]+c[m+1]));return d},l=function(c){for(var h=new Uint8Array(c.length),d=c.length;d--;)h[d]=c.charCodeAt(d);return(h=O0(h)).reduce(function(m,b){return m+String.fromCharCode(b)},"")};r.processDataByFilters=function(c,h){var d=0,m=c||"",b=[];for(typeof(h=h||[])=="string"&&(h=[h]),d=0;d<h.length;d+=1)switch(h[d]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=a(m),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[d]+'" is not implemented')}return{data:m,reverseChain:b.reverse().join(" ")}}})(xt.API),(function(r){r.loadFile=function(e,n,a){return(function(o,l,c){l=l!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(d,m,b){var A=new XMLHttpRequest,k=0,w=function(j){var S=j.length,T=[],N=String.fromCharCode;for(k=0;k<S;k+=1)T.push(N(255&j.charCodeAt(k)));return T.join("")};if(A.open("GET",d,!m),A.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(A.onload=function(){A.status===200?b(w(this.responseText)):b(void 0)}),A.send(null),m&&A.status===200)return w(A.responseText)})(o,l,c)}catch{}return h})(e,n,a)},r.loadImageFile=r.loadFile})(xt.API),(function(r){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Qd(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Qd(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var a=function(h){var d=qn(h);return d==="undefined"?"undefined":d==="string"||h instanceof String?"string":d==="number"||h instanceof Number?"number":d==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":d==="object"?"object":"unknown"},o=function(h,d){var m=document.createElement(h);for(var b in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[b]=d.style[b];return m},l=function h(d,m){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),A=d.firstChild;A;A=A.nextSibling)m!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||b.appendChild(h(A,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b},c=function h(d){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),b=h.convert(Promise.resolve(),m);return(b=b.setProgress(1,h,1,[h])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,d){return h.__proto__=d||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,d){return this.then(function(){switch(d=d||(function(m){switch(a(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),d){case"string":return this.then(n).then(function(m){return this.set({src:o("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=this.opt.jsPDF,b=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=b,b)for(var w=0;w<b.length;++w){var j=b[w],S=j.src.find(function(T){return T.format==="truetype"});S&&m.addFont(S.url,j.ref.name,j.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,m.context2d.save(!0),d(this.prop.container,k)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,d):this.outputPdf(h,d)},c.prototype.outputPdf=function(h,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,d)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(a(h)!=="object")return this;var d=Object.keys(h||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(h,d){return this.then(function(){var m=h in c.template.prop?this.prop[h]:this.opt[h];return d?d(m):m})},c.prototype.setMargin=function(h){return this.then(function(){switch(a(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function d(m,b){return Math.floor(m*b/72*96)}return this.then(function(){(h=h||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:d(h.inner.width,h.k),height:d(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,d,m,b){return h!=null&&(this.progress.val=h),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,d,m,b){return this.setProgress(h?this.progress.val+h:null,d||null,m?this.progress.n+m:null,b?this.progress.stack.concat(b):null)},c.prototype.then=function(h,d){var m=this;return this.thenCore(h,d,function(b,A){return m.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(k){return m.updateProgress(null,b),k}).then(b,A).then(function(k){return m.updateProgress(1),k})})},c.prototype.thenCore=function(h,d,m){m=m||Promise.prototype.then;var b=this;h&&(h=h.bind(b)),d&&(d=d.bind(b));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:c.convert(Object.assign({},b),Promise.prototype),k=m.call(A,h,d);return c.convert(k,b.__proto__)},c.prototype.thenExternal=function(h,d){return Promise.prototype.then.call(this,h,d)},c.prototype.thenList=function(h){var d=this;return h.forEach(function(m){d=d.thenCore(m)}),d},c.prototype.catch=function(h){h&&(h=h.bind(this));var d=Promise.prototype.catch.call(this,h);return c.convert(d,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,xt.getPageSize=function(h,d,m){if(qn(h)==="object"){var b=h;h=b.orientation,d=b.unit||d,m=b.format||m}d=d||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var A,k=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+d}var j,S=0,T=0;if(w.hasOwnProperty(k))S=w[k][1]/A,T=w[k][0]/A;else try{S=m[1],T=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",T>S&&(j=T,T=S,S=j);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",S>T&&(j=T,T=S,S=j)}return{width:T,height:S,unit:d,k:A,orientation:h}},r.html=function(h,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(m0):null;var m=new c(d);return d.worker?m:m.from(h).doCallback()}})(xt.API),xt.API.addJS=function(r){return Ug=r,this.internal.events.subscribe("postPutResources",function(){uf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ug+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uf!==void 0&&qg!==void 0&&this.internal.out("/Names <</JavaScript "+uf+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),l=0;l<o.length;l++){var c=o[l],h=a.exec(c);if(h!=null){var d=h[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(c)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(l=0;l<m;l++){var A=n.internal.newObject();b.push(A);var k=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<b.length;l++)n.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,o,l){var c={title:o,options:l,children:[]};return a==null&&(a=this.root),a.children.push(c),c},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var c=a.children[l];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var d=n.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<a.children.length;m++)this.renderItems(a.children[m])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,o){for(var l=0;l<o.children.length;l++)a.count++,this.count_r(a,o.children[l]);return a.count}}])})(xt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,a,o,l,c,h){var d,m=this.decode.DCT_DECODE,b=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=c||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(A){for(var k,w=256*A.charCodeAt(4)+A.charCodeAt(5),j=A.length,S={width:0,height:0,numcomponents:1},T=4;T<j;T+=2){if(T+=w,e.indexOf(A.charCodeAt(T+1))!==-1){k=256*A.charCodeAt(T+5)+A.charCodeAt(T+6),S={width:256*A.charCodeAt(T+7)+A.charCodeAt(T+8),height:k,numcomponents:A.charCodeAt(T+9)};break}w=256*A.charCodeAt(T+2)+A.charCodeAt(T+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:n,width:d.width,height:d.height,colorSpace:h,bitsPerComponent:8,filter:m,index:a,alias:o}}return b}})(xt.API),xt.API.processPNG=function(r,e,n,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var o,l=Rw(r,{checkCrc:!0}),c=l.width,h=l.height,d=l.channels,m=l.palette,b=l.depth;o=m&&d===1?(function($){for(var Y=$.width,ge=$.height,M=$.data,H=$.palette,se=$.depth,ae=!1,we=[],ee=[],X=void 0,re=!1,xe=0,Le=0;Le<H.length;Le++){var G=H2(H[Le],4),L=G[0],I=G[1],W=G[2],ie=G[3];we.push(L,I,W),ie!=null&&(ie===0?(xe++,ee.length<1&&ee.push(Le)):ie<255&&(re=!0))}if(re||xe>1){ae=!0,ee=void 0;var ue=Y*ge;X=new Uint8Array(ue);for(var pe=new DataView(M.buffer),ke=0;ke<ue;ke++){var je=y0(pe,ke,se),Pe=H2(H[je],4)[3];X[ke]=Pe}}else xe===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:M,alphaBytes:X,needSMask:ae,palette:we,mask:ee}})(l):d===2||d===4?(function($){for(var Y=$.data,ge=$.width,M=$.height,H=$.channels,se=$.depth,ae=H===2?"DeviceGray":"DeviceRGB",we=H-1,ee=ge*M,X=we,re=ee*X,xe=1*ee,Le=Math.ceil(re*se/8),G=Math.ceil(xe*se/8),L=new Uint8Array(Le),I=new Uint8Array(G),W=new DataView(Y.buffer),ie=new DataView(L.buffer),ue=new DataView(I.buffer),pe=!1,ke=0;ke<ee;ke++){for(var je=ke*H,Pe=0;Pe<X;Pe++)Wg(ie,y0(W,je+Pe,se),ke*X+Pe,se);var Ve=y0(W,je+X,se);Ve<(1<<se)-1&&(pe=!0),Wg(ue,Ve,1*ke,se)}return{colorSpace:ae,colorsPerPixel:we,sMaskBitsPerComponent:pe?se:void 0,colorBytes:L,alphaBytes:I,needSMask:pe}})(l):(function($){var Y=$.data,ge=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ge,colorsPerPixel:ge==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(M){for(var H=M.length,se=new Uint8Array(2*H),ae=new DataView(se.buffer,se.byteOffset,se.byteLength),we=0;we<H;we++)ae.setUint16(2*we,M[we],!1);return se})(Y):Y,needSMask:!1}})(l);var A,k,w,j=o,S=j.colorSpace,T=j.colorsPerPixel,N=j.sMaskBitsPerComponent,P=j.colorBytes,D=j.alphaBytes,U=j.needSMask,le=j.palette,ce=j.mask,te=null;return a!==xt.API.image_compression.NONE&&typeof O0=="function"?(te=(function($){var Y;switch($){case xt.API.image_compression.FAST:Y=11;break;case xt.API.image_compression.MEDIUM:Y=13;break;case xt.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(a),A=this.decode.FLATE_DECODE,k="/Predictor ".concat(te," /Colors ").concat(T," /BitsPerComponent ").concat(b," /Columns ").concat(c),r=Hg(P,Math.ceil(c*T*b/8),T,b,a),U&&(w=Hg(D,Math.ceil(c*N/8),1,N,a))):(A=void 0,k=void 0,r=P,U&&(w=D)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:n,data:r,index:e,filter:A,decodeParameters:k,transparency:ce,palette:le,sMask:w,predictor:te,width:c,height:h,bitsPerComponent:b,sMaskBitsPerComponent:N,colorSpace:S}}},(function(r){r.processGIF89A=function(e,n,a,o){var l=new e4(e),c=l.width,h=l.height,d=[];l.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:c,height:h},b=new b0(100).encode(m,100);return r.processJPEG.call(this,b,n,a,o)},r.processGIF87A=r.processGIF89A})(xt.API),gs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:a,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gs.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(n){Kn.log("bit decode error:"+n)}},gs.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*o*4,h=0;h<8&&8*o+h<this.width;h++){var d=this.palette[l>>7-h&1];this.data[c+4*h]=d.blue,this.data[c+4*h+1]=d.green,this.data[c+4*h+2]=d.red,this.data[c+4*h+3]=255}n!==0&&(this.pos+=4-n)}},gs.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<r;o++){var l=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*o*4,h=l>>4,d=15&l,m=this.palette[h];if(this.data[c]=m.blue,this.data[c+1]=m.green,this.data[c+2]=m.red,this.data[c+3]=255,2*o+1>=this.width)break;m=this.palette[d],this.data[c+4]=m.blue,this.data[c+4+1]=m.green,this.data[c+4+2]=m.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},gs.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*a;if(o<this.palette.length){var c=this.palette[o];this.data[l]=c.red,this.data[l+1]=c.green,this.data[l+2]=c.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}r!==0&&(this.pos+=4-r)}},gs.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,h=(l>>5&e)/e*255|0,d=(l>>10&e)/e*255|0,m=l>>15?255:0,b=a*this.width*4+4*o;this.data[b]=d,this.data[b+1]=h,this.data[b+2]=c,this.data[b+3]=m}this.pos+=r}},gs.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,d=(c>>5&n)/n*255|0,m=(c>>11)/e*255|0,b=o*this.width*4+4*l;this.data[b]=m,this.data[b+1]=d,this.data[b+2]=h,this.data[b+3]=255}this.pos+=r}},gs.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},gs.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}},gs.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,n,a,o){var l=new gs(e,!1),c=l.width,h=l.height,d={data:l.getData(),width:c,height:h},m=new b0(100).encode(d,100);return r.processJPEG.call(this,m,n,a,o)}})(xt.API),Jg.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,n,a,o){var l=new Jg(e),c=l.width,h=l.height,d={data:l.getData(),width:c,height:h},m=new b0(100).encode(d,100);return r.processJPEG.call(this,m,n,a,o)}})(xt.API),xt.API.processRGBA=function(r,e,n){for(var a=r.data,o=a.length,l=new Uint8Array(o/4*3),c=new Uint8Array(o/4),h=0,d=0,m=0;m<o;m+=4){var b=a[m],A=a[m+1],k=a[m+2],w=a[m+3];l[h++]=b,l[h++]=A,l[h++]=k,c[d++]=w}var j=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},xt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ic=xt.API,hf=Ic.getCharWidthsArray=function(r,e){var n,a,o=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,d=h.fof?h.fof:1,m=e.kerning?e.kerning:o.metadata.Unicode.kerning,b=m.fof?m.fof:1,A=e.doKerning!==!1,k=0,w=r.length,j=0,S=h[0]||d,T=[];for(n=0;n<w;n++)a=r.charCodeAt(n),typeof o.metadata.widthOfString=="function"?T.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+c*(1e3/l)||0)/1e3):(k=A&&qn(m[a])==="object"&&!isNaN(parseInt(m[a][j],10))?m[a][j]/b:0,T.push((h[a]||S)/d+k)),j=a;return T},Fg=Ic.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Ic.processArabic&&(r=Ic.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,n,o)/n:hf.apply(this,arguments).reduce(function(l,c){return l+c},0)},Ig=function(r,e,n,a){for(var o=[],l=0,c=r.length,h=0;l!==c&&h+e[l]<n;)h+=e[l],l++;o.push(r.slice(0,l));var d=l;for(h=0;l!==c;)h+e[l]>a&&(o.push(r.slice(d,l)),h=0,d=l),h+=e[l],l++;return d!==l&&o.push(r.slice(d,l)),o},zg=function(r,e,n){n||(n={});var a,o,l,c,h,d,m,b=[],A=[b],k=n.textIndent||0,w=0,j=0,S=r.split(" "),T=hf.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var N=Array(d).join(" "),P=[];S.map(function(U){(U=U.split(/\s*\n/)).length>1?P=P.concat(U.map(function(le,ce){return(ce&&le.length?`
`:"")+le})):P.push(U[0])}),S=P,d=Fg.apply(this,[N,n])}for(l=0,c=S.length;l<c;l++){var D=0;if(a=S[l],d&&a[0]==`
`&&(a=a.substr(1),D=1),k+w+(j=(o=hf.apply(this,[a,n])).reduce(function(U,le){return U+le},0))>e||D){if(j>e){for(h=Ig.apply(this,[a,o,e-(k+w),e]),b.push(h.shift()),b=[h.pop()];h.length;)A.push([h.shift()]);j=o.slice(a.length-(b[0]?b[0].length:0)).reduce(function(U,le){return U+le},0)}else b=[a];A.push(b),k=j+d,w=T}else b.push(a),k+=w+j,w=T}return m=d?function(U,le){return(le?N:"")+U.join(" ")}:function(U){return U.join(" ")},A.map(m)},Ic.splitTextToSize=function(r,e,n){var a,o=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var A=this.internal.getFont(b.fontName,b.fontStyle),k="Unicode";return A.metadata[k]?{widths:A.metadata[k].widths||{0:1},kerning:A.metadata[k].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/o;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=n.lineIndent;var h,d,m=[];for(h=0,d=a.length;h<d;h++)m=m.concat(zg.apply(this,[a[h],c,l]));return m},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},o={},l=0;l<16;l++)a[n[l]]=e[l],o[e[l]]=n[l];var c=function(k){return"0x"+parseInt(k,10).toString(16)},h=r.__fontmetrics__.compress=function(k){var w,j,S,T,N=["{"];for(var P in k){if(w=k[P],isNaN(parseInt(P,10))?j="'"+P+"'":(P=parseInt(P,10),j=(j=c(P).slice(2)).slice(0,-1)+o[j.slice(-1)]),typeof w=="number")w<0?(S=c(w).slice(3),T="-"):(S=c(w).slice(2),T=""),S=T+S.slice(0,-1)+o[S.slice(-1)];else{if(qn(w)!=="object")throw new Error("Don't know what to do with value type "+qn(w)+".");S=h(w)}N.push(j+S)}return N.push("}"),N.join("")},d=r.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,j,S,T,N={},P=1,D=N,U=[],le="",ce="",te=k.length-1,$=1;$<te;$+=1)(T=k[$])=="'"?w?(S=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(U.push([D,S]),D={},S=void 0):T=="}"?((j=U.pop())[0][j[1]]=D,S=void 0,D=j[0]):T=="-"?P=-1:S===void 0?a.hasOwnProperty(T)?(le+=a[T],S=parseInt(le,16)*P,P=1,le=""):le+=T:a.hasOwnProperty(T)?(ce+=a[T],D[S]=parseInt(ce,16)*P,P=1,S=void 0,ce=""):ce+=T;return N},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},A={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(k){var w=k.font,j=A.Unicode[w.postScriptName];j&&(w.metadata.Unicode={},w.metadata.Unicode.widths=j.widths,w.metadata.Unicode.kerning=j.kerning);var S=b.Unicode[w.postScriptName];S&&(w.metadata.Unicode.encoding=S,w.encoding=S.codePages[0])}])})(xt.API),(function(r){var e=function(n){for(var a=n.length,o=new Uint8Array(a),l=0;l<a;l++)o[l]=n.charCodeAt(l);return o};r.API.events.push(["addFont",function(n){var a=void 0,o=n.font,l=n.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(vf(h)),c.metadata=r.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(o,a)}}])})(xt),xt.API.addSvgAsImage=function(r,e,n,a,o,l,c,h){if(isNaN(e)||isNaN(n))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Qd(()=>import("./index.es-D45XJu7d.js"),[])).catch(function(k){return Promise.reject(new Error("Could not load canvg: "+k))}).then(function(k){return k.default?k.default:k}).then(function(k){return k.fromString(m,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(b)}).then(function(){A.addImage(d.toDataURL("image/jpeg",1),e,n,a,o,c,h)})},xt.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(e,n);return this},xt.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var a,o,l,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),d=[],m=0,b=0,A=0;function k(j,S){var T,N=!1;for(T=0;T<j.length;T+=1)j[T]===S&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=h.length;for(A=0;A<w;A+=1)n[h[A]].value=n[h[A]].defaultValue,n[h[A]].explicitSet=!1}if(qn(r)==="object"){for(o in r)if(l=r[o],k(h,o)&&l!==void 0){if(n[o].type==="boolean"&&typeof l=="boolean")n[o].value=l;else if(n[o].type==="name"&&k(n[o].valueSet,l))n[o].value=l;else if(n[o].type==="integer"&&Number.isInteger(l))n[o].value=l;else if(n[o].type==="array"){for(m=0;m<l.length;m+=1)if(a=!0,l[m].length===1&&typeof l[m][0]=="number")d.push(String(l[m]-1));else if(l[m].length>1){for(b=0;b<l[m].length;b+=1)typeof l[m][b]!="number"&&(a=!1);a===!0&&d.push([l[m][0]-1,l[m][1]-1].join(" "))}n[o].value="["+d.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,S=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?S.push("/"+j+" /"+n[j].value):S.push("/"+j+" "+n[j].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(r){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+c.length+h.length+o.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+l+c+h+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(a,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(xt.API),(function(r){var e=r.API,n=e.pdfEscape16=function(l,c){for(var h,d=c.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],A=0,k=l.length;A<k;++A){if(h=c.metadata.characterToGlyph(l.charCodeAt(A)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=l.charCodeAt(A),d.indexOf(h)==-1&&(d.push(h),d.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(m[4-h.length],h)}return b.join("")},a=function(l){var c,h,d,m,b,A,k;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],A=0,k=(h=Object.keys(l).sort(function(w,j){return w-j})).length;A<k;A++)c=h[A],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),l[c]!==void 0&&l[c]!==null&&typeof l[c].toString=="function"&&(m=("0000"+l[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+m+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,k=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",j=0;j<k.length;j++)w+=String.fromCharCode(k[j]);var S=m();b({data:w,addLength1:!0,objectId:S}),d("endobj");var T=m();b({data:a(h.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var N=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Kc(h.fontName)),d("/FontFile2 "+S+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/Flags "+h.metadata.flags),d("/StemV "+h.metadata.stemV),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d(">>"),d("endobj");var P=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+Kc(h.fontName)),d("/FontDescriptor "+N+" 0 R"),d("/W "+r.API.PDFObject.convert(A)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+h.encoding+")"),d(">>"),d(">>"),d("endobj"),h.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+Kc(h.fontName)),d("/Encoding /"+h.encoding),d("/DescendantFonts ["+P+" 0 R]"),d(">>"),d("endobj"),h.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(c){var h=c.font,d=c.out,m=c.newObject,b=c.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,k="",w=0;w<A.length;w++)k+=String.fromCharCode(A[w]);var j=m();b({data:k,addLength1:!0,objectId:j}),d("endobj");var S=m();b({data:a(h.metadata.toUnicode),addLength1:!0,objectId:S}),d("endobj");var T=m();d("<<"),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d("/StemV "+h.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+j+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/FontName /"+Kc(h.fontName)),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d(">>"),d("endobj"),h.objectNumber=m();for(var N=0;N<h.metadata.hmtx.widths.length;N++)h.metadata.hmtx.widths[N]=parseInt(h.metadata.hmtx.widths[N]*(1e3/h.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Kc(h.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),d("endobj"),h.isAlreadyPutted=!0}})(l)}]);var o=function(l){var c,h=l.text||"",d=l.x,m=l.y,b=l.options||{},A=l.mutex||{},k=A.pdfEscape,w=A.activeFontKey,j=A.fonts,S=w,T="",N=0,P="",D=j[S].encoding;if(j[S].encoding!=="Identity-H")return{text:h,x:d,y:m,options:b,mutex:A};for(P=h,S=w,Array.isArray(h)&&(P=h[0]),N=0;N<P.length;N+=1)j[S].metadata.hasOwnProperty("cmap")&&(c=j[S].metadata.cmap.unicode.codeMap[P[N].charCodeAt(0)]),c||P[N].charCodeAt(0)<256&&j[S].metadata.hasOwnProperty("Unicode")?T+=P[N]:T+="";var U="";return parseInt(S.slice(1))<14||D==="WinAnsiEncoding"?U=k(T,S).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(U=n(T,j[S])),A.isHex=!0,{text:U,x:d,y:m,options:b,mutex:A}};e.events.push(["postProcessText",function(l){var c=l.text||"",h=[],d={text:c,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(c)){var m=0;for(m=0;m<c.length;m+=1)Array.isArray(c[m])&&c[m].length===3?h.push([o(Object.assign({},d,{text:c[m][0]})).text,c[m][1],c[m][2]]):h.push(o(Object.assign({},d,{text:c[m]})).text);l.text=h}else l.text=o(Object.assign({},d,{text:c})).text}])})(xt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(xt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var o,l,c,h,d,m,b,A=e,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,D=0;this.__bidiEngine__={};var U=function(M){var H=M.charCodeAt(),se=H>>8,ae=S[se];return ae!==void 0?A[256*ae+(255&H)]:se===252||se===253?"AL":N.test(se)?"L":se===8?"R":"N"},le=function(M){for(var H,se=0;se<M.length;se++){if((H=U(M.charAt(se)))==="L")return!1;if(H==="R")return!0}return!1},ce=function(M,H,se,ae){var we,ee,X,re,xe=H[ae];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(xe="AN");break;case"AL":P=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":ae<1||ae+1>=H.length||(we=se[ae-1])!=="EN"&&we!=="AN"||(ee=H[ae+1])!=="EN"&&ee!=="AN"?xe="N":P&&(ee="AN"),xe=ee===we?ee:"N";break;case"ES":xe=(we=ae>0?se[ae-1]:"B")==="EN"&&ae+1<H.length&&H[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&se[ae-1]==="EN"){xe="EN";break}if(P){xe="N";break}for(X=ae+1,re=H.length;X<re&&H[X]==="ET";)X++;xe=X<re&&H[X]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(re=H.length,X=ae+1;X<re&&H[X]==="NSM";)X++;if(X<re){var Le=M[ae],G=Le>=1425&&Le<=2303||Le===64286;if(we=H[X],G&&(we==="R"||we==="AL")){xe="R";break}}}xe=ae<1||(we=H[ae-1])==="B"?"N":se[ae-1];break;case"B":P=!1,o=!0,xe=D;break;case"S":l=!0,xe="N"}return xe},te=function(M,H,se){var ae=M.split("");return se&&$(ae,se,{hiLevel:D}),ae.reverse(),H&&H.reverse(),ae.join("")},$=function(M,H,se){var ae,we,ee,X,re,xe=-1,Le=M.length,G=0,L=[],I=D?w:k,W=[];for(P=!1,o=!1,l=!1,we=0;we<Le;we++)W[we]=U(M[we]);for(ee=0;ee<Le;ee++){if(re=G,L[ee]=ce(M,W,L,ee),ae=240&(G=I[re][j[L[ee]]]),G&=15,H[ee]=X=I[G][5],ae>0)if(ae===16){for(we=xe;we<ee;we++)H[we]=1;xe=-1}else xe=-1;if(I[G][6])xe===-1&&(xe=ee);else if(xe>-1){for(we=xe;we<ee;we++)H[we]=X;xe=-1}W[ee]==="B"&&(H[ee]=0),se.hiLevel|=X}l&&(function(ie,ue,pe){for(var ke=0;ke<pe;ke++)if(ie[ke]==="S"){ue[ke]=D;for(var je=ke-1;je>=0&&ie[je]==="WS";je--)ue[je]=D}})(W,H,Le)},Y=function(M,H,se,ae,we){if(!(we.hiLevel<M)){if(M===1&&D===1&&!o)return H.reverse(),void(se&&se.reverse());for(var ee,X,re,xe,Le=H.length,G=0;G<Le;){if(ae[G]>=M){for(re=G+1;re<Le&&ae[re]>=M;)re++;for(xe=G,X=re-1;xe<X;xe++,X--)ee=H[xe],H[xe]=H[X],H[X]=ee,se&&(ee=se[xe],se[xe]=se[X],se[X]=ee);G=re}G++}}},ge=function(M,H,se){var ae=M.split(""),we={hiLevel:D};return se||(se=[]),$(ae,se,we),(function(ee,X,re){if(re.hiLevel!==0&&b)for(var xe,Le=0;Le<ee.length;Le++)X[Le]===1&&(xe=T.indexOf(ee[Le]))>=0&&(ee[Le]=T[xe+1])})(ae,se,we),Y(2,ae,H,se,we),Y(1,ae,H,se,we),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(M,H,se){if((function(we,ee){if(ee)for(var X=0;X<we.length;X++)ee[X]=X;h===void 0&&(h=le(we)),m===void 0&&(m=le(we))})(M,H),c||!d||m)if(c&&d&&h^m)D=h?1:0,M=te(M,H,se);else if(!c&&d&&m)D=h?1:0,M=ge(M,H,se),M=te(M,H);else if(!c||h||d||m){if(c&&!d&&h^m)M=te(M,H),h?(D=0,M=ge(M,H,se)):(D=1,M=ge(M,H,se),M=te(M,H));else if(c&&h&&!d&&m)D=1,M=ge(M,H,se),M=te(M,H);else if(!c&&!d&&h^m){var ae=b;h?(D=1,M=ge(M,H,se),D=0,b=!1,M=ge(M,H,se),b=ae):(D=0,M=ge(M,H,se),M=te(M,H),D=1,b=!1,M=ge(M,H,se),b=ae,M=te(M,H))}}else D=0,M=ge(M,H,se);else D=h?1:0,M=ge(M,H,se);return M},this.__bidiEngine__.setOptions=function(M){M&&(c=M.isInputVisual,d=M.isOutputVisual,h=M.isInputRtl,m=M.isOutputRtl,b=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var o=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var c=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var h=0;for(c=[],h=0;h<o.length;h+=1)Object.prototype.toString.call(o[h])==="[object Array]"?c.push([n.doBidiReorder(o[h][0]),o[h][1],o[h][2]]):c.push([n.doBidiReorder(o[h])]);a.text=c}else a.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(xt),xt.API.TTFFont=(function(){function r(e){var n;if(this.rawData=e,n=this.contents=new ol(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new g4(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new t4(this.contents),this.head=new i4(this),this.name=new l4(this),this.cmap=new L5(this),this.toUnicode={},this.hhea=new r4(this),this.maxp=new c4(this),this.hmtx=new u4(this),this.post=new s4(this),this.os2=new a4(this),this.loca=new p4(this),this.glyf=new h4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,a,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,d,m;for(m=[],c=0,h=(d=this.bbox).length;c<h;c++)e=d[c],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,a){var o,l,c,h;for(c=0,l=0,h=(e=""+e).length;0<=h?l<h:l>h;l=0<=h?++l:--l)o=e.charCodeAt(l),c+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/n)||0;return c*(n/1e3)},r.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},r})();var _s,ol=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(e){var n,a,o;for(o=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,a,o,l,c,h,d;return e=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),h=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^l)+65536*(255^c)+256*(255^h)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*o+16777216*l+65536*c+256*h+d},r.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},r.prototype.write=function(e){var n,a,o,l;for(l=[],a=0,o=e.length;a<o;a++)n=e[a],l.push(this.writeByte(n));return l},r})(),t4=(function(){var r;function e(n){var a,o,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,o,l,c,h,d,m,b,A,k,w,j,S;for(S in w=Object.keys(n).length,d=Math.log(2),A=16*Math.floor(Math.log(w)/d),c=Math.floor(A/d),b=16*w-A,(o=new ol).writeInt(this.scalarType),o.writeShort(w),o.writeShort(A),o.writeShort(c),o.writeShort(b),l=16*w,m=o.pos+l,h=null,j=[],n)for(k=n[S],o.writeString(S),o.writeInt(r(k)),o.writeInt(m),o.writeInt(k.length),j=j.concat(k),S==="head"&&(h=m),m+=k.length;m%4;)j.push(0),m++;return o.write(j),a=2981146554-r(o.data),o.pos=h+8,o.writeUInt32(a),o.data},r=function(n){var a,o,l,c;for(n=O5.call(n);n.length%4;)n.push(0);for(l=new ol(n),o=0,a=0,c=n.length;a<c;a=a+=4)o+=l.readUInt32();return 4294967295&o},e})(),n4={}.hasOwnProperty,Hs=function(r,e){for(var n in e)n4.call(e,n)&&(r[n]=e[n]);function a(){this.constructor=r}return a.prototype=e.prototype,r.prototype=new a,r.__super__=e.prototype,r};_s=(function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var i4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new ol).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r})(),Xg=(function(){function r(e,n){var a,o,l,c,h,d,m,b,A,k,w,j,S,T,N,P,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),k=w/2,e.pos+=6,l=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),e.pos+=2,S=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),m=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),b=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),o=(this.length-e.pos+this.offset)/2,h=(function(){var U,le;for(le=[],d=U=0;0<=o?U<o:U>o;d=0<=o?++U:--U)le.push(e.readUInt16());return le})(),d=N=0,D=l.length;N<D;d=++N)for(T=l[d],a=P=j=S[d];j<=T?P<=T:P>=T;a=j<=T?++P:--P)b[d]===0?c=a+m[d]:(c=h[b[d]/2+(a-j)-(k-d)]||0)!==0&&(c+=m[d]),this.codeMap[a]=65535&c}e.pos=A}return r.encode=function(e,n){var a,o,l,c,h,d,m,b,A,k,w,j,S,T,N,P,D,U,le,ce,te,$,Y,ge,M,H,se,ae,we,ee,X,re,xe,Le,G,L,I,W,ie,ue,pe,ke,je,Pe,Ve,Ze;switch(ae=new ol,c=Object.keys(e).sort(function(Xe,it){return Xe-it}),n){case"macroman":for(S=0,T=(function(){var Xe=[];for(j=0;j<256;++j)Xe.push(0);return Xe})(),P={0:0},l={},we=0,xe=c.length;we<xe;we++)P[je=e[o=c[we]]]==null&&(P[je]=++S),l[o]={old:e[o],new:P[e[o]]},T[o]=P[e[o]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(T),{charMap:l,subtable:ae.data,maxGlyphID:S+1};case"unicode":for(H=[],A=[],D=0,P={},a={},N=m=null,ee=0,Le=c.length;ee<Le;ee++)P[le=e[o=c[ee]]]==null&&(P[le]=++D),a[o]={old:le,new:P[le]},h=P[le]-o,N!=null&&h===m||(N&&A.push(N),H.push(o),m=h),N=o;for(N&&A.push(N),A.push(65535),H.push(65535),ge=2*(Y=H.length),$=2*Math.pow(Math.log(Y)/Math.LN2,2),k=Math.log($/2)/Math.LN2,te=2*Y-$,d=[],ce=[],w=[],j=X=0,G=H.length;X<G;j=++X){if(M=H[j],b=A[j],M===65535){d.push(0),ce.push(0);break}if(M-(se=a[M].new)>=32768)for(d.push(0),ce.push(2*(w.length+Y-j)),o=re=M;M<=b?re<=b:re>=b;o=M<=b?++re:--re)w.push(a[o].new);else d.push(se-M),ce.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*Y+2*w.length),ae.writeUInt16(0),ae.writeUInt16(ge),ae.writeUInt16($),ae.writeUInt16(k),ae.writeUInt16(te),pe=0,L=A.length;pe<L;pe++)o=A[pe],ae.writeUInt16(o);for(ae.writeUInt16(0),ke=0,I=H.length;ke<I;ke++)o=H[ke],ae.writeUInt16(o);for(Pe=0,W=d.length;Pe<W;Pe++)h=d[Pe],ae.writeUInt16(h);for(Ve=0,ie=ce.length;Ve<ie;Ve++)U=ce[Ve],ae.writeUInt16(U);for(Ze=0,ue=w.length;Ze<ue;Ze++)S=w[Ze],ae.writeUInt16(S);return{charMap:a,subtable:ae.data,maxGlyphID:D+1}}},r})(),L5=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,a,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new Xg(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var a,o;return n==null&&(n="macroman"),a=Xg.encode(e,n),(o=new ol).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},r})(),r4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),a4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),s4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="post",r.prototype.parse=function(e){var n,a,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var c,h,d;for(d=[],l=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;l=0<=h?++c:--c)d.push(e.readUInt32());return d}).call(this)}},r})(),o4=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},l4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="name",r.prototype.parse=function(e){var n,a,o,l,c,h,d,m,b,A,k;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(d={},l=b=0,A=a.length;b<A;l=++b)o=a[l],e.pos=o.offset,m=e.readString(o.length),c=new o4(m,o),d[k=o.nameID]==null&&(d[k]=[]),d[o.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),c4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),u4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,a,o,l,c,h,d;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,b;for(b=[],n=m=0;0<=o?m<o:m>o;n=0<=o?++m:--m)b.push(e.readInt16());return b})(),this.widths=(function(){var m,b,A,k;for(k=[],m=0,b=(A=this.metrics).length;m<b;m++)l=A[m],k.push(l.advance);return k}).call(this),a=this.widths[this.widths.length-1],d=[],n=c=0;0<=o?c<o:c>o;n=0<=o?++c:--c)d.push(this.widths.push(a));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),O5=[].slice,h4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,a,o,l,c,h,d,m,b,A;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(e),(o=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,c=(h=new ol(n.read(o))).readShort(),m=h.readShort(),A=h.readShort(),d=h.readShort(),b=h.readShort(),this.cache[e]=c===-1?new d4(h,m,A,d,b):new f4(h,c,m,A,d,b),this.cache[e]))},r.prototype.encode=function(e,n,a){var o,l,c,h,d;for(c=[],l=[],h=0,d=n.length;h<d;h++)o=e[n[h]],l.push(c.length),o&&(c=c.concat(o.encode(a)));return l.push(c.length),{table:c,offsets:l}},r})(),f4=(function(){function r(e,n,a,o,l,c){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=o,this.xMax=l,this.yMax=c,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),d4=(function(){function r(e,n,a,o,l){var c,h;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return r.prototype.encode=function(){var e,n,a;for(n=new ol(O5.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},r})(),p4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="loca",r.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=4)l.push(e.readUInt32());return l}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<a.length;++c)if(a[c]=o,l<n.length&&n[l]==c){++l,a[c]=o;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(o+=d)}for(var m=new Array(4*a.length),b=0;b<a.length;++b)m[4*b+3]=255&a[b],m[4*b+2]=(65280&a[b])>>8,m[4*b+1]=(16711680&a[b])>>16,m[4*b]=(4278190080&a[b])>>24;return m},r})(),g4=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,a,o,l;for(n in o=this.font.cmap.tables[0].codeMap,e={},l=this.subset)a=l[n],e[n]=o[a];return e},r.prototype.glyphsFor=function(e){var n,a,o,l,c,h,d;for(o={},c=0,h=e.length;c<h;c++)o[l=e[c]]=this.font.glyf.glyphFor(l);for(l in n=[],o)(a=o[l])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(l in d=this.glyphsFor(n))a=d[l],o[l]=a;return o},r.prototype.encode=function(e,n){var a,o,l,c,h,d,m,b,A,k,w,j,S,T,N;for(o in a=L5.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),w={0:0},N=a.charMap)w[(d=N[o]).old]=d.new;for(j in k=a.maxGlyphID,c)j in w||(w[j]=k++);return b=(function(P){var D,U;for(D in U={},P)U[P[D]]=D;return U})(w),A=Object.keys(b).sort(function(P,D){return P-D}),S=(function(){var P,D,U;for(U=[],P=0,D=A.length;P<D;P++)h=A[P],U.push(b[h]);return U})(),l=this.font.glyf.encode(c,S,w),m=this.font.loca.encode(l.offsets,S),T={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();xt.API.PDFObject=(function(){var r;function e(){}return r=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,o,l,c;if(Array.isArray(n))return"["+(function(){var h,d,m;for(m=[],h=0,d=n.length;h<d;h++)a=n[h],m.push(e.convert(a));return m})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in l=["<<"],n)c=n[o],l.push("/"+o+" "+e.convert(c));return l.push(">>"),l.join(`
`)}return""+n},e})();const Vt={slateBlue:[50,65,104],craftsmanOrange:[224,104,41],skyBlue:[175,207,228],deepNavy:[10,17,42],charcoal:[44,44,44],workshopCream:[245,241,232],white:[255,255,255]},Qg=[[224,104,41],[50,65,104],[175,207,228],[139,90,43],[107,142,35],[205,133,63],[70,130,180],[210,105,30],[112,128,144],[188,143,143]],F0={Walnut:[93,64,55],"Walnut - Natural":[109,76,65],"Walnut - Prime":[78,52,46],Cherry:[198,40,40],"Cherry - Select":[211,47,47],"Maple - Hard":[255,204,128],"Maple - Soft":[255,224,178],"Maple - Ambrosia":[255,171,145],"Maple - Birds Eye":[255,243,224],"Maple - Curly":[255,224,130],"Oak - Red":[191,54,12],"Oak - Red QS":[230,74,25],"Oak - Red Rift":[255,87,34],"Oak - White":[215,204,200],"Oak - White QS":[239,235,233],"Oak - White Rift":[251,233,231],"Ash - White":[245,245,245],Poplar:[197,225,165],"Hickory - Calico":[188,170,164],"Hickory - Heart":[161,136,127],"Alder - Knotty":[255,171,145],Basswood:[255,248,225],Beech:[255,228,196],"Birch - Yellow":[255,245,157],Butternut:[212,165,116],Catalpa:[230,221,209],"Cedar - Aromatic":[212,161,144],"Cedar - Western Red":[205,127,50],"Douglas Fir":[222,184,135],"Sycamore - QS":[240,234,214],Beli:[141,110,99],"Black Limba":[62,39,35],Bloodwood:[139,0,0],Canarywood:[255,213,79],Ebiara:[121,85,72],Iroko:[166,124,82],Jatoba:[139,69,19],Leopardwood:[205,133,63],"Mahogany - African":[192,64,0],Olivewood:[128,128,0],"Osage Orange":[255,140,0],Padauk:[255,69,0],"Peruvian Walnut":[101,67,33],"Purple Heart":[153,50,204],"Sapele - QS":[160,82,45],"Spanish Cedar":[210,105,30],Wenge:[28,28,28],Other:[158,158,158]};function R5(r){return F0[r]||F0.Other}function Zg(r){return(.299*r[0]+.587*r[1]+.114*r[2])/255>.5?[0,0,0]:[255,255,255]}function em(r,e){return r.species&&F0[r.species]?R5(r.species):Qg[e%Qg.length]}function tm(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?1:n}function nm(r,e,n){return r*e*n/144}function m4(r){const e=new xt({orientation:"portrait",unit:"pt",format:"letter"}),n=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight(),o=40,l=n-o*2;let c=o;const h=j=>c+j>a-o?(e.addPage(),c=o,!0):!1;if(e.setFillColor(...Vt.deepNavy),e.rect(0,0,n,80,"F"),e.setTextColor(...Vt.white),e.setFontSize(24),e.setFont("helvetica","bold"),e.text(r.name,o,45),r.description&&(e.setFontSize(12),e.setFont("helvetica","normal"),e.text(r.description,o,65)),c=100,e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Stock Boards",o,c),c+=20,r.boards&&r.boards.length>0){e.setFillColor(...Vt.skyBlue),e.rect(o,c,l,20,"F"),e.setTextColor(...Vt.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const j=[o+5,o+150,o+250,o+320,o+380,o+450];e.text("Name",j[0],c+14),e.text("Dimensions",j[1],c+14),e.text("Thickness",j[2],c+14),e.text("Qty",j[3],c+14),e.text("BF Each",j[4],c+14),e.text("Total BF",j[5],c+14),c+=20,e.setFont("helvetica","normal");let S=0,T=0;r.boards.forEach((N,P)=>{h(20),P%2===0&&(e.setFillColor(250,250,250),e.rect(o,c,l,18,"F"));const D=N.quantity||1,U=tm(N.thickness),le=nm(U,N.width,N.length),ce=le*D;S+=ce,T+=D,e.setTextColor(...Vt.charcoal),e.text(N.name||"Unnamed",j[0],c+12),e.text(`${N.length}"  ${N.width}"`,j[1],c+12),e.text(N.thickness,j[2],c+12),e.text(D.toString(),j[3],c+12),e.text(le.toFixed(2),j[4],c+12),e.text(ce.toFixed(2),j[5],c+12),c+=18}),e.setFillColor(...Vt.craftsmanOrange),e.rect(o,c,l,22,"F"),e.setTextColor(...Vt.white),e.setFont("helvetica","bold"),e.text("TOTAL",j[0],c+15),e.text(`${T} pcs`,j[3],c+15),e.text(`${S.toFixed(2)} BF`,j[5],c+15),c+=35}else e.setTextColor(...Vt.charcoal),e.setFontSize(11),e.text("No stock boards defined.",o,c+5),c+=25;h(60),e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Cut List",o,c),c+=20;const d=r.cutPieces||[];if(d.length>0){e.setFillColor(...Vt.skyBlue),e.rect(o,c,l,20,"F"),e.setTextColor(...Vt.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const j=[o+5,o+150,o+280,o+350,o+420];e.text("Piece Name",j[0],c+14),e.text("Dimensions",j[1],c+14),e.text("Thickness",j[2],c+14),e.text("Quantity",j[3],c+14),e.text("Board Feet",j[4],c+14),c+=20,e.setFont("helvetica","normal");let S=0,T=0;d.forEach((N,P)=>{h(20),P%2===0&&(e.setFillColor(250,250,250),e.rect(o,c,l,18,"F"));const D=N.quantity||1,U=tm(N.thickness),le=nm(U,N.width,N.length)*D;S+=le,T+=D,e.setTextColor(...Vt.charcoal),e.text(N.name||"Unnamed",j[0],c+12),e.text(`${N.length}"  ${N.width}"`,j[1],c+12),e.text(N.thickness,j[2],c+12),e.text(D.toString(),j[3],c+12),e.text(le.toFixed(2),j[4],c+12),c+=18}),e.setFillColor(...Vt.craftsmanOrange),e.rect(o,c,l,22,"F"),e.setTextColor(...Vt.white),e.setFont("helvetica","bold"),e.text("TOTAL",j[0],c+15),e.text(`${T} pcs`,j[3],c+15),e.text(`${S.toFixed(2)} BF`,j[4],c+15),c+=35}else e.setTextColor(...Vt.charcoal),e.setFontSize(11),e.text("No cut pieces defined.",o,c+5),c+=25;const m=r.cutPlan;if(m&&m.assignments&&m.assignments.length>0){h(80),e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Cut Plan",o,c),c+=25,e.setFillColor(...Vt.deepNavy),e.rect(o,c,l,35,"F");const j=l/3;e.setTextColor(...Vt.white),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`${m.efficiency.toFixed(1)}%`,o+j*.5,c+15,{align:"center"}),e.text(`${m.waste.toFixed(2)} BF`,o+j*1.5,c+15,{align:"center"}),e.text(`${m.boardsUsed}/${m.totalStockBoards}`,o+j*2.5,c+15,{align:"center"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("EFFICIENCY",o+j*.5,c+28,{align:"center"}),e.text("WASTE",o+j*1.5,c+28,{align:"center"}),e.text("BOARDS USED",o+j*2.5,c+28,{align:"center"}),c+=50,m.warnings&&m.warnings.length>0&&m.warnings.forEach(S=>{h(25),e.setFillColor(255,243,205),e.rect(o,c,l,20,"F"),e.setDrawColor(255,193,7),e.rect(o,c,l,20,"S"),e.setTextColor(133,100,4),e.setFontSize(9),e.text(S,o+10,c+13),c+=25}),m.assignments.forEach((S,T)=>{const N=l,P=150,D=N/S.length,U=P/S.width,le=Math.min(D,U,4),ce=S.length*le,te=S.width*le;h(te+50),e.setTextColor(...Vt.deepNavy),e.setFontSize(11),e.setFont("helvetica","bold");let $=S.stockBoardName;S.stockBoardIndex>0&&($+=` (#${S.stockBoardIndex+1})`),e.text($,o,c+12),e.setFont("helvetica","normal"),e.setTextColor(...Vt.charcoal);let Y=` - ${S.length}"  ${S.width}"  ${S.thickness}`;if(e.text(Y,o+e.getTextWidth($),c+12),S.species){const M=o+e.getTextWidth($)+e.getTextWidth(Y)+10,H=R5(S.species);e.setFillColor(...H),e.circle(M+4,c+9,4,"F"),e.setTextColor(...Vt.charcoal),e.text(` ${S.species}`,M+10,c+12)}c+=20;const ge=o+(l-ce)/2;e.setFillColor(...Vt.workshopCream),e.setDrawColor(...Vt.charcoal),e.rect(ge,c,ce,te,"FD"),S.cuts.forEach((M,H)=>{const se=ge+M.x*le,ae=c+M.y*le,we=M.length*le,ee=M.width*le,X=em(M,H),re=Zg(X);if(e.setFillColor(...X),e.setDrawColor(...Vt.deepNavy),e.rect(se,ae,we,ee,"FD"),we>30&&ee>12){e.setTextColor(...re),e.setFontSize(Math.min(9,ee*.5)),e.setFont("helvetica","bold");let xe=M.cutPieceName;M.cutPieceIndex>0&&(xe+=` #${M.cutPieceIndex+1}`);const Le=we-6;for(;e.getTextWidth(xe)>Le&&xe.length>3;)xe=xe.slice(0,-4)+"...";e.text(xe,se+we/2,ae+ee/2+3,{align:"center"})}}),c+=te+20})}const b=r.sheetGoods||[],A=r.sheetCutPieces||[];if(b.length>0||A.length>0){if(h(60),e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Stock",o,c),c+=20,b.length>0){e.setFillColor(...Vt.skyBlue),e.rect(o,c,l,20,"F"),e.setTextColor(...Vt.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const S=[o+5,o+150,o+280,o+350,o+420];e.text("Name",S[0],c+14),e.text("Dimensions",S[1],c+14),e.text("Thickness",S[2],c+14),e.text("Qty",S[3],c+14),e.text("Sq Ft",S[4],c+14),c+=20,e.setFont("helvetica","normal");let T=0,N=0;b.forEach((P,D)=>{h(20),D%2===0&&(e.setFillColor(250,250,250),e.rect(o,c,l,18,"F"));const U=P.quantity||1,le=P.length*P.width/144*U;T+=le,N+=U,e.setTextColor(...Vt.charcoal),e.text(P.name||`${P.product} ${P.thickness}"`,S[0],c+12),e.text(`${P.length}"  ${P.width}"`,S[1],c+12),e.text(`${P.thickness}"`,S[2],c+12),e.text(U.toString(),S[3],c+12),e.text(le.toFixed(1),S[4],c+12),c+=18}),e.setFillColor(...Vt.craftsmanOrange),e.rect(o,c,l,22,"F"),e.setTextColor(...Vt.white),e.setFont("helvetica","bold"),e.text("TOTAL",S[0],c+15),e.text(`${N} sheets`,S[3],c+15),e.text(`${T.toFixed(1)} sq ft`,S[4],c+15),c+=35}if(A.length>0){h(60),e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Cut List",o,c),c+=20,e.setFillColor(...Vt.skyBlue),e.rect(o,c,l,20,"F"),e.setTextColor(...Vt.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const S=[o+5,o+130,o+250,o+320,o+380,o+440];e.text("Piece Name",S[0],c+14),e.text("Dimensions",S[1],c+14),e.text("Thickness",S[2],c+14),e.text("Product",S[3],c+14),e.text("Qty",S[4],c+14),e.text("Sq Ft",S[5],c+14),c+=20,e.setFont("helvetica","normal");let T=0,N=0;A.forEach((P,D)=>{h(20),D%2===0&&(e.setFillColor(250,250,250),e.rect(o,c,l,18,"F"));const U=P.quantity||1,le=P.length*P.width/144*U;T+=le,N+=U,e.setTextColor(...Vt.charcoal),e.text(P.name||"Unnamed",S[0],c+12),e.text(`${P.length}"  ${P.width}"`,S[1],c+12),e.text(`${P.thickness}"`,S[2],c+12),e.text(P.product||"",S[3],c+12),e.text(U.toString(),S[4],c+12),e.text(le.toFixed(1),S[5],c+12),c+=18}),e.setFillColor(...Vt.craftsmanOrange),e.rect(o,c,l,22,"F"),e.setTextColor(...Vt.white),e.setFont("helvetica","bold"),e.text("TOTAL",S[0],c+15),e.text(`${N} pcs`,S[4],c+15),e.text(`${T.toFixed(1)} sq ft`,S[5],c+15),c+=35}const j=r.sheetCutPlan;if(j&&j.assignments&&j.assignments.length>0){h(80),e.setTextColor(...Vt.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Cut Plan",o,c),c+=25,e.setFillColor(...Vt.deepNavy),e.rect(o,c,l,35,"F");const S=l/3;e.setTextColor(...Vt.white),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`${j.efficiency.toFixed(1)}%`,o+S*.5,c+15,{align:"center"}),e.text(`${j.waste.toFixed(2)} sq ft`,o+S*1.5,c+15,{align:"center"}),e.text(`${j.boardsUsed}/${j.totalStockBoards}`,o+S*2.5,c+15,{align:"center"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("EFFICIENCY",o+S*.5,c+28,{align:"center"}),e.text("WASTE",o+S*1.5,c+28,{align:"center"}),e.text("SHEETS USED",o+S*2.5,c+28,{align:"center"}),c+=50,j.warnings&&j.warnings.length>0&&j.warnings.forEach(T=>{h(25),e.setFillColor(255,243,205),e.rect(o,c,l,20,"F"),e.setDrawColor(255,193,7),e.rect(o,c,l,20,"S"),e.setTextColor(133,100,4),e.setFontSize(9),e.text(T,o+10,c+13),c+=25}),j.assignments.forEach((T,N)=>{const P=l,D=150,U=P/T.length,le=D/T.width,ce=Math.min(U,le,4),te=T.length*ce,$=T.width*ce;h($+50),e.setTextColor(...Vt.deepNavy),e.setFontSize(11),e.setFont("helvetica","bold");let Y=T.stockBoardName||"Sheet";T.stockBoardIndex>0&&(Y+=` (#${T.stockBoardIndex+1})`),e.text(Y,o,c+12),e.setFont("helvetica","normal"),e.setTextColor(...Vt.charcoal);let ge=` - ${T.length}"  ${T.width}"  ${T.thickness}`;if(e.text(ge,o+e.getTextWidth(Y),c+12),T.species){const H=o+e.getTextWidth(Y)+e.getTextWidth(ge)+10;e.setTextColor(...Vt.charcoal),e.text(` ${T.species}`,H,c+12)}c+=20;const M=o+(l-te)/2;e.setFillColor(...Vt.workshopCream),e.setDrawColor(...Vt.charcoal),e.rect(M,c,te,$,"FD"),T.cuts.forEach((H,se)=>{const ae=M+H.x*ce,we=c+H.y*ce,ee=H.length*ce,X=H.width*ce,re=em(H,se),xe=Zg(re);if(e.setFillColor(...re),e.setDrawColor(...Vt.deepNavy),e.rect(ae,we,ee,X,"FD"),ee>30&&X>12){e.setTextColor(...xe),e.setFontSize(Math.min(9,X*.5)),e.setFont("helvetica","bold");let Le=H.cutPieceName;H.cutPieceIndex>0&&(Le+=` #${H.cutPieceIndex+1}`);const G=ee-6;for(;e.getTextWidth(Le)>G&&Le.length>3;)Le=Le.slice(0,-4)+"...";e.text(Le,ae+ee/2,we+X/2+3,{align:"center"})}}),c+=$+20})}}const k=a-25;e.setTextColor(...Vt.charcoal),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Generated: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,o,k),e.text("CutSmart by The Joinery",n-o,k,{align:"right"});const w=`${r.name.replace(/[^a-z0-9]/gi,"_")}_cut_plan.pdf`;e.save(w)}function Of(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function v4(r,e,n,a){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(b){try{m(a.next(b))}catch(A){c(A)}}function d(b){try{m(a.throw(b))}catch(A){c(A)}}function m(b){b.done?l(b.value):o(b.value).then(h,d)}m((a=a.apply(r,e||[])).next())})}const y4=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class op extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class b4 extends op{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends op{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rm extends op{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(I0||(I0={}));class w4{constructor(e,{headers:n={},customFetch:a,region:o=I0.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=y4(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v4(this,arguments,void 0,function*(n,a={}){var o;let l,c;try{const{headers:h,method:d,body:m,signal:b,timeout:A}=a;let k={},{region:w}=a;w||(w=this.region);const j=new URL(`${this.url}/${n}`);w&&w!=="any"&&(k["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let S;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(k["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(k["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let T=b;A&&(c=new AbortController,l=setTimeout(()=>c.abort(),A),b?(T=c.signal,b.addEventListener("abort",()=>c.abort())):T=c.signal);const N=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),h),body:S,signal:T}).catch(le=>{throw new b4(le)}),P=N.headers.get("x-relay-error");if(P&&P==="true")throw new im(N);if(!N.ok)throw new rm(N);let D=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return D==="application/json"?U=yield N.json():D==="application/octet-stream"||D==="application/pdf"?U=yield N.blob():D==="text/event-stream"?U=N:D==="multipart/form-data"?U=yield N.formData():U=yield N.text(),{data:U,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof rm||h instanceof im?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var _4=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},x4=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,d=null,m=l.status,b=l.statusText;if(l.ok){var A,k;if(n.method!=="HEAD"){var w;const N=await l.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const S=(A=n.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),T=(k=l.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");S&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var j;const S=await l.text();try{c=JSON.parse(S),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,b="OK")}catch{l.status===404&&S===""?(m=204,b="No Content"):c={message:S}}if(c&&n.isMaybeSingle&&(!(c==null||(j=c.details)===null||j===void 0)&&j.includes("0 rows"))&&(c=null,m=200,b="OK"),c&&n.shouldThrowOnError)throw new _4(c)}return{error:c,data:h,count:d,status:m,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var c;let h="";const d=l?.cause;if(d){var m,b,A,k;const j=(m=d?.message)!==null&&m!==void 0?m:"",S=(b=d?.code)!==null&&b!==void 0?b:"";h=`${(A=l?.name)!==null&&A!==void 0?A:"FetchError"}: ${l?.message}`,h+=`

Caused by: ${(k=d?.name)!==null&&k!==void 0?k:"Error"}: ${j}`,S&&(h+=` (${S})`),d?.stack&&(h+=`
${d.stack}`)}else{var w;h=(w=l?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},S4=class extends x4{select(r){let e=!1;const n=(r??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var c;const h=[r?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${d}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const am=new RegExp("[,()]");var Jc=class extends S4{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&am.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&am.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${o}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},N4=class{constructor(r,{headers:e={},schema:n,fetch:a}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=a}select(r,e){const{head:n=!1,count:a}=e??{},o=n?"HEAD":"GET";let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new Jc({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var a;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Jc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new Jc({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var n;const a="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Jc({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Jc({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},A4=class D5{constructor(e,{headers:n={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new N4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new D5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:o=!1,count:l}={}){var c;let h;const d=new URL(`${this.url}/rpc/${e}`);let m;a||o?(h=a?"HEAD":"GET",Object.entries(n).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{d.searchParams.append(A,k)})):(h="POST",m=n);const b=new Headers(this.headers);return l&&b.set("Prefer",`count=${l}`),new Jc({method:h,url:d,headers:b,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class j4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const E4="2.89.0",k4=`realtime-js/${E4}`,P5="1.0.0",C4="2.0.0",sm=P5,z0=1e4,T4=1e3,L4=100;var rl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(rl||(rl={}));var Zi;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Zi||(Zi={}));var ys;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ys||(ys={}));var H0;(function(r){r.websocket="websocket"})(H0||(H0={}));var Il;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Il||(Il={}));class O4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,a){var o,l;const c=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",d=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},A=Object.keys(b).length===0?"":JSON.stringify(b);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+m.length+A.length,w=new ArrayBuffer(this.HEADER_LENGTH+k);let j=new DataView(w),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,d.length),j.setUint8(S++,h.length),j.setUint8(S++,c.length),j.setUint8(S++,m.length),j.setUint8(S++,A.length),j.setUint8(S++,n),Array.from(d,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(c,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(m,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(A,N=>j.setUint8(S++,N.charCodeAt(0)));var T=new Uint8Array(w.byteLength+a.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(a),w.byteLength),T.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,l,c,h,d]=a;return n({join_ref:o,ref:l,topic:c,event:h,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,a){const o=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let d=this.HEADER_LENGTH+4;const m=a.decode(e.slice(d,d+o));d=d+o;const b=a.decode(e.slice(d,d+l));d=d+l;const A=a.decode(e.slice(d,d+c));d=d+c;const k=e.slice(d,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(a.decode(k)):k,j={type:this.BROADCAST_EVENT,event:b,payload:w};return c>0&&(j.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class B5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Jn||(Jn={}));const om=(r,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=R4(c,r,e,o),l),{}):{}},R4=(r,e,n,a)=>{const o=e.find(h=>h.name===r),l=o?.type,c=n[r];return l&&!a.includes(l)?M5(l,c):$0(c)},M5=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return M4(e,n)}switch(r){case Jn.bool:return D4(e);case Jn.float4:case Jn.float8:case Jn.int2:case Jn.int4:case Jn.int8:case Jn.numeric:case Jn.oid:return P4(e);case Jn.json:case Jn.jsonb:return B4(e);case Jn.timestamp:return q4(e);case Jn.abstime:case Jn.date:case Jn.daterange:case Jn.int4range:case Jn.int8range:case Jn.money:case Jn.reltime:case Jn.text:case Jn.time:case Jn.timestamptz:case Jn.timetz:case Jn.tsrange:case Jn.tstzrange:return $0(e);default:return $0(e)}},$0=r=>r,D4=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},P4=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},B4=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},M4=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let l;const c=r.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>M5(e,h))}return r},q4=r=>typeof r=="string"?r.replace(" ","T"):r,q5=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class w0{constructor(e,n,a={},o=z0){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(lm||(lm={}));class Xu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xu.syncState(this.state,o,l,c),this.pendingDiffs.forEach(d=>{this.state=Xu.syncDiff(this.state,d,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xu.syncDiff(this.state,o,l,c),h())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const l=this.cloneDeep(e),c=this.transformState(n),h={},d={};return this.map(l,(m,b)=>{c[m]||(d[m]=b)}),this.map(c,(m,b)=>{const A=l[m];if(A){const k=b.map(T=>T.presence_ref),w=A.map(T=>T.presence_ref),j=b.filter(T=>w.indexOf(T.presence_ref)<0),S=A.filter(T=>k.indexOf(T.presence_ref)<0);j.length>0&&(h[m]=j),S.length>0&&(d[m]=S)}else h[m]=b}),this.syncDiff(l,{joins:h,leaves:d},a,o)}static syncDiff(e,n,a,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,d)=>{var m;const b=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(d),b.length>0){const A=e[h].map(w=>w.presence_ref),k=b.filter(w=>A.indexOf(w.presence_ref)<0);e[h].unshift(...k)}a(h,b,d)}),this.map(c,(h,d)=>{let m=e[h];if(!m)return;const b=d.map(A=>A.presence_ref);m=m.filter(A=>b.indexOf(A.presence_ref)<0),e[h]=m,o(h,m,d),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(cm||(cm={}));var Qu;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Qu||(Qu={}));var bo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(bo||(bo={}));class eu{constructor(e,n={config:{}},a){var o,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Zi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new w0(this,ys.join,this.params,this.timeout),this.rejoinTimer=new B5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zi.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Zi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ys.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Xu(this),this.broadcastEndpointURL=q5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Zi.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Qu.PRESENCE]&&this.bindings[Qu.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,A={},k={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:b}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(bo.CHANNEL_ERROR,w)),this._onClose(()=>e?.(bo.CLOSED)),this.updateJoinPayload(Object.assign({config:k},A)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(bo.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,T=(j=S?.length)!==null&&j!==void 0?j:0,N=[];for(let P=0;P<T;P++){const D=S[P],{filter:{event:U,schema:le,table:ce,filter:te}}=D,$=w&&w[P];if($&&$.event===U&&eu.isFilterValueEqual($.schema,le)&&eu.isFilterValueEqual($.table,ce)&&eu.isFilterValueEqual($.filter,te))N.push(Object.assign(Object.assign({},D),{id:$.id}));else{this.unsubscribe(),this.state=Zi.errored,e?.(bo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(bo.SUBSCRIBED);return}}).receive("error",w=>{this.state=Zi.errored,e?.(bo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(bo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Zi.joined&&e===Qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const m=await h.json();d=m.error||m.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,d;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ys.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new w0(this,ys.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zi.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new w0(this,e,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>L4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,l;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:m,join:b}=ys;if(a&&[h,d,m,b].indexOf(c)>=0&&a!==this._joinRef())return;let k=this._onMessage(c,n,a);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,S,T;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(S=w.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(w=>w.callback(k,a)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var j,S,T,N,P,D;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const U=w.id,le=(j=w.filter)===null||j===void 0?void 0:j.event;return U&&((S=n.ids)===null||S===void 0?void 0:S.includes(U))&&(le==="*"||le?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(P=(N=w?.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof k=="object"&&"ids"in k){const j=k.data,{schema:S,table:T,commit_timestamp:N,type:P,errors:D}=j;k=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:N,eventType:P,new:{},old:{},errors:D}),this._getPayloadRecords(j))}w.callback(k,a)})}_isClosed(){return this.state===Zi.closed}_isJoined(){return this.state===Zi.joined}_isJoining(){return this.state===Zi.joining}_isLeaving(){return this.state===Zi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&eu.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ys.close,{},e)}_onError(e){this._on(ys.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=om(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=om(e.columns,e.old_record)),n}}const _0=()=>{},ff={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U4=[1e3,2e3,5e3,1e4],F4=1e4,I4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z4{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=z0,this.transport=null,this.heartbeatIntervalMs=ff.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_0,this.ref=0,this.reconnectTimer=null,this.vsn=sm,this.logger=_0,this.conn=null,this.sendBuffer=[],this.serializer=new O4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${H0.websocket}`,this.httpEndpoint=q5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case rl.connecting:return Il.Connecting;case rl.open:return Il.Open;case rl.closing:return Il.Closing;default:return Il.Closed}}isConnected(){return this.connectionState()===Il.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new eu(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:o,ref:l}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${a} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ff.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:l,ref:c}=n,h=c?`(${c})`:"",d=l.status||"";this.log("receive",`${d} ${a} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===rl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rl.open||this.conn.readyState===rl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ys.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([I4],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:k4};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(ys.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new B5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ff.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,o,l,c,h,d,m,b,A,k,w;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:z0,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:ff.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:_0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:sm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(j=>U4[j-1]||F4),this.vsn){case P5:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((j,S)=>S(JSON.stringify(j))),this.decode=(A=e?.decode)!==null&&A!==void 0?A:((j,S)=>S(JSON.parse(j)));break;case C4:this.encode=(k=e?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var th=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H4(r,e,n){const a=new URL(e,r);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function $4(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function G4(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:l,headers:c}){const h=H4(r.baseUrl,a,o),d=await $4(r.auth),m=await e(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...d,...c},body:l?JSON.stringify(l):void 0}),b=await m.text(),A=(m.headers.get("content-type")||"").includes("application/json"),k=A&&b?JSON.parse(b):b;if(!m.ok){const w=A?k:void 0,j=w?.error;throw new th(j?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:j?.type,icebergCode:j?.code,details:w})}return{status:m.status,headers:m.headers,data:k}}}}function df(r){return r.join("")}var V4=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:df(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${df(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${df(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${df(r.namespace)}`}),!0}catch(e){if(e instanceof th&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof th&&n.status===409)return;throw n}}};function zc(r){return r.join("")}var Y4=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof th&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof th&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},W4=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=G4({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new V4(this.client,e),this.tableOps=new Y4(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Rf=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function gi(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var K4=class extends Rf{constructor(r,e,n){super(r),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G0=class extends Rf{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const lp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),J4=()=>Response,V0=r=>{if(Array.isArray(r))return r.map(n=>V0(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=V0(a)}),e},X4=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Q4=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function nh(r){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(r)}function Z4(r,e){if(nh(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(nh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function e_(r){var e=Z4(r,"string");return nh(e)=="symbol"?e:e+""}function t_(r,e,n){return(e=e_(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function um(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Ft(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?um(Object(n),!0).forEach(function(a){t_(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const x0=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},n_=async(r,e,n)=>{r instanceof await J4()&&!n?.noResolveJson?r.json().then(a=>{const o=r.status||500,l=a?.statusCode||o+"";e(new K4(x0(a),o,l))}).catch(a=>{e(new G0(x0(a),a))}):e(new G0(x0(r),r))},i_=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!a?o:(X4(a)?(o.headers=Ft({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),Ft(Ft({},o),n))};async function ch(r,e,n,a,o,l){return new Promise((c,h)=>{r(n,i_(e,a,o,l)).then(d=>{if(!d.ok)throw d;return a?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>n_(d,h,a))})}async function ih(r,e,n,a){return ch(r,"GET",e,n,a)}async function vs(r,e,n,a,o){return ch(r,"POST",e,a,o,n)}async function Y0(r,e,n,a,o){return ch(r,"PUT",e,a,o,n)}async function r_(r,e,n,a){return ch(r,"HEAD",e,Ft(Ft({},n),{},{noResolveJson:!0}),a)}async function cp(r,e,n,a,o){return ch(r,"DELETE",e,a,o,n)}var a_=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(gi(e))return{data:null,error:e};throw e}}};let U5;U5=Symbol.toStringTag;var s_=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[U5]="BlobDownloadBuilder",this.promise=null}asStream(){return new a_(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(gi(e))return{data:null,error:e};throw e}}};const o_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var l_=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=n,this.fetch=lp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,n,a){var o=this;try{let l;const c=Ft(Ft({},hm),a);let h=Ft(Ft({},o.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),d&&l.append("metadata",o.encodeMetadata(d)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),d&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(d))):(l=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(d))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(h=Ft(Ft({},h),a.headers));const m=o._removeEmptyFolders(e),b=o._getFinalPath(m),A=await(r=="PUT"?Y0:vs)(o.fetch,`${o.url}/object/${b}`,l,Ft({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:A.Id,fullPath:A.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(gi(l))return{data:null,error:l};throw l}}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,a){var o=this;const l=o._removeEmptyFolders(r),c=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let d;const m=Ft({upsert:hm.upsert},a),b=Ft(Ft({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType),{data:{path:l,fullPath:(await Y0(o.fetch,h.toString(),d,{headers:b})).Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(gi(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(r,e){var n=this;try{let a=n._getFinalPath(r);const o=Ft({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await vs(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(n.url+l.url),h=c.searchParams.get("token");if(!h)throw new Rf("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:h},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var a=this;try{return{data:await vs(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gi(o))return{data:null,error:o};throw o}}async copy(r,e,n){var a=this;try{return{data:{path:(await vs(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gi(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,n){var a=this;try{let o=a._getFinalPath(r),l=await vs(a.fetch,`${a.url}/object/sign/${o}`,Ft({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${a.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gi(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,n){var a=this;try{const o=await vs(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:r},{headers:a.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(c=>Ft(Ft({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gi(o))return{data:null,error:o};throw o}}download(r,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(r),c=()=>ih(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new s_(c,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);try{return{data:V0(await ih(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await r_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(gi(a)&&a instanceof G0){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,e){const n=this._getFinalPath(r),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const l=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&a.push(c);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async list(r,e,n){var a=this;try{const o=Ft(Ft(Ft({},o_),e),{},{prefix:r||""});return{data:await vs(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(gi(o))return{data:null,error:o};throw o}}async listV2(r,e){var n=this;try{const a=Ft({},r);return{data:await vs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const F5="2.89.0",I5={"X-Client-Info":`storage-js/${F5}`};var c_=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1;const o=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Ft(Ft({},I5),e),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const n=e.listBucketOptionsToQueryString(r);return{data:await ih(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await ih(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async createBucket(r,e={public:!1}){var n=this;try{return{data:await vs(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}async updateBucket(r,e){var n=this;try{return{data:await Y0(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(gi(a))return{data:null,error:a};throw a}}async emptyBucket(r){var e=this;try{return{data:await vs(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},u_=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ft(Ft({},I5),e),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await vs(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async listBuckets(r){var e=this;try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const a=n.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await ih(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gi(n))return{data:null,error:n};throw n}}from(r){var e=this;if(!Q4(r))throw new Rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new W4({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const c=o[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(o,h),error:null}}catch(d){if(a)throw d;return{data:null,error:d}}}}})}};const up={"X-Client-Info":`storage-js/${F5}`,"Content-Type":"application/json"};var z5=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xa(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var S0=class extends z5{constructor(r,e,n){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h_=class extends z5{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const hp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),f_=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},fm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),d_=async(r,e,n)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r.status||500,o=r;if(typeof o.json=="function")o.json().then(l=>{const c=l?.statusCode||l?.code||a+"";e(new S0(fm(l),a,c))}).catch(()=>{const l=a+"";e(new S0(o.statusText||`HTTP ${a} error`,a,l))});else{const l=a+"";e(new S0(o.statusText||`HTTP ${a} error`,a,l))}}else e(new h_(fm(r),r))},p_=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return a?(f_(a)?(o.headers=Ft({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,Ft(Ft({},o),n)):o};async function g_(r,e,n,a,o,l){return new Promise((c,h)=>{r(n,p_(e,a,o,l)).then(d=>{if(!d.ok)throw d;if(a?.noResolveJson)return d;const m=d.headers.get("content-type");return!m||!m.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>d_(d,h,a))})}async function Sa(r,e,n,a,o){return g_(r,"POST",e,a,o,n)}var m_=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ft(Ft({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getIndex(r,e){var n=this;try{return{data:await Sa(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}async listIndexes(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteIndex(r,e){var n=this;try{return{data:await Sa(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}},v_=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ft(Ft({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sa(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getVectors(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Sa(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async queryVectors(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sa(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},y_=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ft(Ft({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listBuckets(r={}){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},b_=class extends y_{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new w_(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},w_=class extends m_{constructor(r,e,n,a){super(r,e,a),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new __(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},__=class extends v_{constructor(r,e,n,a,o){super(r,e,o),this.vectorBucketName=n,this.indexName=a}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,Ft(Ft({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},x_=class extends c_{constructor(r,e={},n,a){super(r,e,n,a)}from(r){return new l_(this.url,this.headers,r,this.fetch)}get vectors(){return new b_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new u_(this.url+"/iceberg",this.headers,this.fetch)}};const H5="2.89.0",Xc=30*1e3,W0=3,N0=W0*Xc,S_="http://localhost:9999",N_="supabase.auth.token",A_={"X-Client-Info":`gotrue-js/${H5}`},K0="X-Supabase-Api-Version",$5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E_=600*1e3;class rh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function _t(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class k_ extends rh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function C_(r){return _t(r)&&r.name==="AuthApiError"}class zl extends rh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _o extends rh{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}}class _a extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T_(r){return _t(r)&&r.name==="AuthSessionMissingError"}class Hc extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pf extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gf extends _o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function L_(r){return _t(r)&&r.name==="AuthImplicitGrantRedirectError"}class dm extends _o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O_ extends _o{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class J0 extends _o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function A0(r){return _t(r)&&r.name==="AuthRetryableFetchError"}class pm extends _o{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class X0 extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gm=` 	
\r=`.split(""),R_=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<gm.length;e+=1)r[gm[e].charCodeAt(0)]=-2;for(let e=0;e<Ef.length;e+=1)r[Ef[e].charCodeAt(0)]=e;return r})();function mm(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Ef[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Ef[a]),e.queuedBits-=6}}function G5(r,e,n){const a=R_[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function vm(r){const e=[],n=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{B_(c,a,n)};for(let c=0;c<r.length;c+=1)G5(r.charCodeAt(c),o,l);return e.join("")}function D_(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function P_(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}D_(a,e)}}function B_(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function au(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)G5(r.charCodeAt(o),n,a);return new Uint8Array(e)}function M_(r){const e=[];return P_(r,n=>e.push(n)),new Uint8Array(e)}function Hl(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return r.forEach(o=>mm(o,n,a)),mm(null,n,a),e.join("")}function q_(r){return Math.round(Date.now()/1e3)+r}function U_(){return Symbol("auth-callback")}const wr=()=>typeof window<"u"&&typeof document<"u",Bl={tested:!1,writable:!1},V5=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bl.tested)return Bl.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Bl.tested=!0,Bl.writable=!0}catch{Bl.tested=!0,Bl.writable=!1}return Bl.writable};function F_(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const Y5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),I_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Qc=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Ml=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},br=async(r,e)=>{await r.removeItem(e)};class Df{constructor(){this.promise=new Df.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Df.promiseConstructor=Promise;function j0(r){const e=r.split(".");if(e.length!==3)throw new X0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!j_.test(e[a]))throw new X0("JWT not in base64url format");return{header:JSON.parse(vm(e[0])),payload:JSON.parse(vm(e[1])),signature:au(e[2]),raw:{header:e[0],payload:e[1]}}}async function z_(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function H_(r,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await r(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function $_(r){return("0"+r.toString(16)).substr(-2)}function G_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,$_).join("")}async function V_(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function Y_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await V_(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $c(r,e,n=!1){const a=G_();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await Qc(r,`${e}-code-verifier`,o);const l=await Y_(a);return[l,a===l?"plain":"s256"]}const W_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K_(r){const e=r.headers.get(K0);if(!e||!e.match(W_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function J_(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function X_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gc(r){if(!Q_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function E0(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z_(r,e){return new Proxy(r,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,o)}})}function ym(r){return JSON.parse(JSON.stringify(r))}const Ul=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),e3=[502,503,504];async function bm(r){var e;if(!I_(r))throw new J0(Ul(r),0);if(e3.includes(r.status))throw new J0(Ul(r),r.status);let n;try{n=await r.json()}catch(l){throw new zl(Ul(l),l)}let a;const o=K_(r);if(o&&o.getTime()>=$5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new pm(Ul(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new _a}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new pm(Ul(n),r.status,n.weak_password.reasons);throw new k_(Ul(n),r.status||500,a)}const t3=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Ut(r,e,n,a){var o;const l=Object.assign({},a?.headers);l[K0]||(l[K0]=$5["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await n3(r,e,n+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(d):{data:Object.assign({},d),error:null}}async function n3(r,e,n,a,o,l){const c=t3(e,a,o,l);let h;try{h=await r(n,Object.assign({},c))}catch(d){throw console.error(d),new J0(Ul(d),0)}if(h.ok||await bm(h),a?.noResolveJson)return h;try{return await h.json()}catch(d){await bm(d)}}function ms(r){var e;let n=null;a3(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=q_(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function wm(r){const e=ms(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function al(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function i3(r){return{data:r,error:null}}function r3(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l}=r,c=Of(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function _m(r){return r}function a3(r){return r.access_token&&r.refresh_token&&r.expires_in}const k0=["global","local","others"];class s3{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Y5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=k0[0]){if(k0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${k0.join(", ")}`);try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_t(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:al})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Of(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:r3,redirectTo:n?.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:al})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,l,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},b=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_m});if(b.error)throw b.error;const A=await b.json(),k=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);m[`${T}Page`]=S}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},A),m),error:null}}catch(m){if(_t(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Gc(e);try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:al})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Gc(e);try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:al})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Gc(e);try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:al})}catch(a){if(_t(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Gc(e.userId);try{const{data:n,error:a}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Gc(e.userId),Gc(e.id);try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,o,l,c,h,d;try{const m={nextPage:null,lastPage:0,total:0},b=await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_m});if(b.error)throw b.error;const A=await b.json(),k=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(d=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);m[`${T}Page`]=S}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},A),m),error:null}}catch(m){if(_t(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ut(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ut(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function xm(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Vc={debug:!!(globalThis&&V5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o3 extends W5{}async function l3(r,e,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new o3(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Vc.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function c3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K5(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function u3(r){return parseInt(r,16)}function h3(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function f3(r){var e;const{chainId:n,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:d,resources:m,scheme:b,uri:A,version:k}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=K5(r.address),j=b?`${b}://${a}`:a,S=r.statement?`${r.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${w}

${S}`;let N=`URI: ${A}
Version: ${k}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),d&&(N+=`
Request ID: ${d}`),m){let P=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);P+=`
- ${D}`}N+=P}return`${T}
${N}`}class zi extends Error{constructor({message:e,code:n,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class kf extends zi{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function d3({error:r,options:e}){var n,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new zi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new zi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new zi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new zi({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new zi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new zi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const c=window.location.hostname;if(J5(c)){if(l.rp.id!==c)return new zi({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new zi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new zi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function p3({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new zi({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(J5(a)){if(n.rpId!==a)return new zi({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new zi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class g3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const m3=new g3;function v3(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,o=Of(r,["challenge","user","excludeCredentials"]),l=au(e).buffer,c=Object.assign(Object.assign({},n),{id:au(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:c});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const m=a[d];h.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:au(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function y3(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=Of(r,["challenge","allowCredentials"]),o=au(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:au(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function b3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Hl(new Uint8Array(r.response.attestationObject)),clientDataJSON:Hl(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function w3(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Hl(new Uint8Array(o.authenticatorData)),clientDataJSON:Hl(new Uint8Array(o.clientDataJSON)),signature:Hl(new Uint8Array(o.signature)),userHandle:o.userHandle?Hl(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function J5(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Sm(){var r,e;return!!(wr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function _3(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:d3({error:e,options:r})}}}async function x3(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:p3({error:e,options:r})}}}const S3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},N3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cf(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(n(c))a[l]=c;else if(e(c)){const h=a[l];e(h)?a[l]=Cf(h,c):a[l]=Cf(c)}else a[l]=c}return a}function A3(r,e){return Cf(S3,r,e||{})}function j3(r,e){return Cf(N3,r,e||{})}class E3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:o},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const d=o??m3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=A3(c.webauthn.credential_options.publicKey,l?.create),{data:b,error:A}=await _3({publicKey:m,signal:d});return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:A}}case"request":{const m=j3(c.webauthn.credential_options.publicKey,l?.request),{data:b,error:A}=await x3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:d}));return b?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:b}},error:null}:{data:null,error:A}}}}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new zl("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new rh("rpId is required for WebAuthn authentication")};try{if(!Sm())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:l});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:a,credential_response:d.credential_response}})}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new zl("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new rh("rpId is required for WebAuthn registration")};try{if(!Sm())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(b=>{var A;return(A=b.data)===null||A===void 0?void 0:A.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===e&&k.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:h};const{data:d,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:l});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(c){return _t(c)?{data:null,error:c}:{data:null,error:new zl("Unexpected error in register",c)}}}}c3();const k3={url:S_,storageKey:N_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Nm(r,e,n){return await n()}const Yc={};class ah{get jwks(){var e,n;return(n=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},k3),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ah.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ah.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&wr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new s3({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Y5(l.fetch),this.lock=l.lock||Nm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&wr()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=l3:this.lock=Nm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new E3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:V5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xm(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${H5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(wr()&&(n=F_(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),wr()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),L_(l)){const d=(e=l.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?this._returnResult({error:n}):this._returnResult({error:new zl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const l=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ms}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(l){if(_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,a,o;try{let l;if("email"in e){const{email:b,password:A,options:k}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await $c(this.storage,this.storageKey)),l=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:b,password:A,data:(n=k?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:w,code_challenge_method:j},xform:ms})}else if("phone"in e){const{phone:b,password:A,options:k}=e;l=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:A,data:(a=k?.data)!==null&&a!==void 0?a:{},channel:(o=k?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:ms})}else throw new pf("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await br(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(l){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wm})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wm})}else throw new pf("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Hc;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,o,l,c,h,d,m,b,A,k;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:S,wallet:T,statement:N,options:P}=e;let D;if(wr())if(typeof T=="object")D=T;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")D=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const U=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),le=await D.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=K5(le[0]);let te=(a=P?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!te){const Y=await D.request({method:"eth_chainId"});te=u3(Y)}const $={domain:U.host,address:ce,statement:N,uri:U.href,version:"1",chainId:te,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=P?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=P?.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=f3($),j=await D.request({method:"personal_sign",params:[h3(w),ce]})}try{const{data:S,error:T}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:ms});if(T)throw T;if(!S||!S.session||!S.user){const N=new Hc;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(_t(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,a,o,l,c,h,d,m,b,A,k,w;let j,S;if("message"in e)j=e.message,S=e.signature;else{const{chain:T,wallet:N,statement:P,options:D}=e;let U;if(wr())if(typeof N=="object")U=N;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))U=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const le=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const ce=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),P?{statement:P}:null));let te;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")te=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)te=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),S=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${le.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(o=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=D?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((A=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||A===void 0)&&A.length?["Resources",...D.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const ce=await U.signMessage(new TextEncoder().encode(j),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ce}}try{const{data:T,error:N}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Hl(S)},!((k=e.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ms});if(N)throw N;if(!T||!T.session||!T.user){const P=new Hc;return this._returnResult({data:{user:null,session:null},error:P})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(_t(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new O_;const{data:l,error:c}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ms});if(await br(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new Hc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:l,nonce:c}=e,h=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ms}),{data:d,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d||!d.session||!d.user){const b=new Hc;return this._returnResult({data:{user:null,session:null},error:b})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:m})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,o,l,c;try{if("email"in e){const{email:h,options:d}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await $c(this.storage,this.storageKey));const{error:A}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in e){const{phone:h,options:d}=e,{data:m,error:b}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(l=d?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:b})}throw new pf("You must provide either an email or phone number.")}catch(h){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,a;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:h}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ms});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,m=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,a,o,l,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await $c(this.storage,this.storageKey));const m=await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:i3});return!((l=m.data)===null||l===void 0)&&l.url&&wr()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new _a;const{error:o}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:c}=await Ut(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:c,error:h}=await Ut(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new pf("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<N0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await Ml(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=E0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Z_(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:al}):await this._useSession(async n=>{var a,o,l;const{data:c,error:h}=n;if(h)throw h;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _a}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:al})})}catch(n){if(_t(n))return T_(n)&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new _a;const c=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await $c(this.storage,this.storageKey));const{data:m,error:b}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:al});if(b)throw b;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _a;const n=Date.now()/1e3;let a=n,o=!0,l=null;const{payload:c}=j0(e.access_token);if(c.exp&&(a=c.exp,o=a<=n),o){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new _a;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_t(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!wr())throw new gf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dm("No code detected.");const{data:P,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:h,expires_at:d,token_type:m}=e;if(!l||!h||!c||!m)throw new gf("No session defined in URL");const b=Math.round(Date.now()/1e3),A=parseInt(h);let k=b+A;d&&(k=parseInt(d));const w=k-b;w*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${A}s`);const j=k-A;b-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,k,b):b-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,k,b);const{data:S,error:T}=await this._getUser(l);if(T)throw T;const N={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:A,expires_at:k,refresh_token:c,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(a){if(_t(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(C_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await br(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=U_(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await $c(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:o}=await this._useSession(async l=>{var c,h,d,m,b;const{data:A,error:k}=l;if(k)throw k;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(m=A.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return wr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(_t(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:h,token:d,access_token:m,nonce:b}=e,A=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:d,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ms}),{data:k,error:w}=A;return w?this._returnResult({data:{user:null,session:null},error:w}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Hc}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:w}))}catch(o){if(await br(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:c}=n;if(c)throw c;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await H_(async o=>(o>0&&await z_(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ms})),(o,l)=>{const c=200*Math.pow(2,o);return l&&A0(l)&&Date.now()+c-a<Xc})}catch(a){if(this._debug(n,"error",a),_t(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),wr()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ml(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await Qc(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:E0()}else if(o&&!o.user&&!o.user){const c=await Ml(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await br(this.storage,this.storageKey+"-user"),await Qc(this.storage,this.storageKey,o)):o.user=E0()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<N0;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${N0}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),A0(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(o.access_token);!h&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new _a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Df;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new _a;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),_t(l)){const c={data:null,error:l};return A0(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){l.push(d)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await br(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Qc(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=ym(o);await Qc(this.storage,this.storageKey,l)}else{const o=ym(n);await Qc(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await br(this.storage,this.storageKey),await br(this.storage,this.storageKey+"-code-verifier"),await br(this.storage,this.storageKey+"-user"),this.userStorage&&await br(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xc}ms, refresh threshold is ${W0} ticks`),o<=W0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof W5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await $c(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ut(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:m}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?b3(e.webauthn.credential_response):w3(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await Ut(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v3(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y3(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=j0(a.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Ut(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new _a})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new _a});const c=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&wr()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new _a});const c=await Ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&wr()&&!n?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Ut(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new _a})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await Ut(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _a})})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+E_>o)return a;const{data:l,error:c}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});a=w.session.access_token}const{header:o,payload:l,signature:c,raw:{header:h,payload:d}}=j0(a);n?.allowExpired||J_(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:o,signature:c},error:null}}const b=X_(o.alg),A=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,A,c,M_(`${h}.${d}`)))throw new X0("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(a){if(_t(a))return this._returnResult({data:null,error:a});throw a}}}ah.nextInstanceID={};const C3=ah,T3="2.89.0";let Wu="";typeof Deno<"u"?Wu="deno":typeof document<"u"?Wu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wu="react-native":Wu="node";const L3={"X-Client-Info":`supabase-js-${Wu}/${T3}`},O3={headers:L3},R3={schema:"public"},D3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P3={};function sh(r){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(r)}function B3(r,e){if(sh(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function M3(r){var e=B3(r,"string");return sh(e)=="symbol"?e:e+""}function q3(r,e,n){return(e=M3(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Am(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Ei(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Am(Object(n),!0).forEach(function(a){q3(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const U3=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),F3=()=>Headers,I3=(r,e,n)=>{const a=U3(n),o=F3();return async(l,c)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:r;let m=new o(c?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(l,Ei(Ei({},c),{},{headers:m}))}};function z3(r){return r.endsWith("/")?r:r+"/"}function H3(r,e){var n,a;const{db:o,auth:l,realtime:c,global:h}=r,{db:d,auth:m,realtime:b,global:A}=e,k={db:Ei(Ei({},d),o),auth:Ei(Ei({},m),l),realtime:Ei(Ei({},b),c),storage:{},global:Ei(Ei(Ei({},A),h),{},{headers:Ei(Ei({},(n=A?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?k.accessToken=r.accessToken:delete k.accessToken,k}function $3(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(z3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var G3=class extends C3{constructor(r){super(r)}},V3=class{constructor(r,e,n){var a,o;this.supabaseUrl=r,this.supabaseKey=e;const l=$3(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:R3,realtime:P3,auth:Ei(Ei({},D3),{},{storageKey:c}),global:O3},d=H3(n??{},h);if(this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(b,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=d.auth)!==null&&m!==void 0?m:{},this.headers,d.global.fetch)}this.fetch=I3(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ei({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new A4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new x_(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new w4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:l,flowType:c,lock:h,debug:d,throwOnError:m},b,A){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G3({url:this.authUrl.href,headers:Ei(Ei({},k),b),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,flowType:c,lock:h,debug:d,throwOnError:m,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new z4(this.realtimeUrl.href,Ei(Ei({},r),{},{params:Ei(Ei({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Y3=(r,e,n)=>new V3(r,e,n);function W3(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}W3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K3="https://qhttbhpsqnncbpyourar.supabase.co",J3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFodHRiaHBzcW5uY2JweW91cmFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNzM0NjYsImV4cCI6MjA4MTc0OTQ2Nn0.ruty7opAUE7z7_ZZmzybry3IfKfjc-b6JUz_5DiahNo",wt=Y3(K3,J3);function X3(){const[r,e]=We.useState(!1),[n,a]=We.useState(""),[o,l]=We.useState(""),[c,h]=We.useState(!1),[d,m]=We.useState(null),[b,A]=We.useState(null),k=async w=>{w.preventDefault(),e(!0),A(null),m(null);try{if(c){const{error:j}=await wt.auth.signUp({email:n,password:o,options:{emailRedirectTo:"https://cutsmart.thejoinery.club/"}});if(j)throw j;m("Check your email for a confirmation link!")}else{const{error:j}=await wt.auth.signInWithPassword({email:n,password:o});if(j)throw j}}catch(j){A(j.message)}finally{e(!1)}};return p.jsx("div",{className:"auth-container",children:p.jsxs("div",{className:"auth-card",children:[p.jsx("img",{src:"/logo.png",alt:"CutSmart by The Joinery",className:"auth-logo"}),p.jsx("p",{className:"auth-subtitle",children:c?"Create an account to save your projects":"Sign in to access your projects"}),p.jsxs("form",{onSubmit:k,className:"auth-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email"}),p.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:w=>a(w.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{id:"password",type:"password",placeholder:"Your password",value:o,onChange:w=>l(w.target.value),required:!0,minLength:6})]}),b&&p.jsx("div",{className:"auth-error",children:b}),d&&p.jsx("div",{className:"auth-message",children:d}),p.jsx("button",{type:"submit",className:"btn-primary auth-btn",disabled:r,children:r?"Loading...":c?"Sign Up":"Sign In"})]}),p.jsx("div",{className:"auth-toggle",children:c?p.jsxs("p",{children:["Already have an account?"," ",p.jsx("button",{onClick:()=>h(!1),className:"link-btn",children:"Sign In"})]}):p.jsxs("p",{children:["Don't have an account?"," ",p.jsx("button",{onClick:()=>h(!0),className:"link-btn",children:"Sign Up"})]})})]})})}const Yu={"Alder - Knotty":{"4/4":4.95,category:"Domestic",grade:"Premium Knotty"},"Ash - White":{"4/4":4.95,"8/4":5.95,category:"Domestic",grade:"Select & Better"},Basswood:{"4/4":3.95,"8/4":4.95,category:"Domestic",grade:"Select & Better"},Beech:{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Birch - Yellow":{"4/4":5.45,category:"Domestic",grade:"Select & Better"},Butternut:{"4/4":12.95,category:"Domestic",grade:"Select & Better"},Catalpa:{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Cedar - Aromatic":{"4/4":5.95,category:"Domestic",grade:"#1 Com & Better"},"Cedar - Western Red":{"4/4":7.95,category:"Domestic",grade:"Select Tight Knot"},Cherry:{"4/4":5.95,"6/4":6.45,"8/4":6.95,category:"Domestic",grade:"FAS/F1F/S&B"},"Cherry - Select":{"4/4":4.45,category:"Domestic",grade:"Select 90/70"},"Douglas Fir":{"4/4":14.95,category:"Domestic",grade:"Clear Vertical Grain"},"Hickory - Calico":{"4/4":5.95,"8/4":6.95,category:"Domestic",grade:"Select & Better"},"Hickory - Heart":{"4/4":6.45,"6/4":6.45,category:"Domestic",grade:"Select & Better 90/70"},"Maple - Ambrosia":{"4/4":7.95,category:"Domestic",grade:"Select & Better"},"Maple - Birds Eye":{"4/4":9.95,category:"Domestic",grade:"Select & Better"},"Maple - Curly":{"4/4":8.95,category:"Domestic",grade:"Select & Better"},"Maple - Hard":{"4/4":5.95,"6/4":5.95,"8/4":6.95,"10/4":7.95,category:"Domestic",grade:"Select & Better"},"Maple - Soft":{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Oak - Red":{"4/4":4.95,"8/4":5.95,category:"Domestic",grade:"FAS/S&B"},"Oak - Red QS":{"4/4":6.95,category:"Domestic",grade:"Select & Better"},"Oak - Red Rift":{"4/4":6.95,category:"Domestic",grade:"Select & Better"},"Oak - White":{"4/4":10.95,"6/4":11.95,"8/4":14.95,category:"Domestic",grade:"Select & Better"},"Oak - White QS":{"4/4":12.95,category:"Domestic",grade:"Select & Better"},"Oak - White Rift":{"4/4":16.95,category:"Domestic",grade:"Select & Better"},Poplar:{"4/4":3.95,"8/4":4.45,category:"Domestic",grade:"Select & Better"},"Sycamore - QS":{"5/4":7.95,category:"Domestic",grade:"Select & Better"},"Walnut - Natural":{"4/4":9.95,category:"Domestic",grade:"Select & Better"},Walnut:{"4/4":10.95,"6/4":13.45,"8/4":15.95,category:"Domestic",grade:"Select & Better"},"Walnut - Prime":{"4/4":12.95,"6/4":15.95,category:"Domestic",grade:"F1F & Better - Prime"},Beli:{"4/4":14.95,category:"Exotic",grade:"FEQ"},"Black Limba":{"4/4":11.95,"8/4":13.95,category:"Exotic",grade:"FEQ"},Bloodwood:{"4/4":10.95,category:"Exotic",grade:"FEQ"},Canarywood:{"4/4":14.95,category:"Exotic",grade:"FEQ"},Ebiara:{"4/4":9.95,category:"Exotic",grade:"FEQ"},Iroko:{"4/4":12.95,"8/4":13.95,category:"Exotic",grade:"FEQ"},Jatoba:{"4/4":11.95,category:"Exotic",grade:"FEQ"},Leopardwood:{"4/4":18.95,category:"Exotic",grade:"FEQ"},"Mahogany - African":{"4/4":9.95,"8/4":10.95,category:"Exotic",grade:"FEQ"},Olivewood:{"4/4":23.95,"8/4":24.95,category:"Exotic",grade:"FEQ"},"Osage Orange":{"4/4":15.95,category:"Exotic",grade:"FEQ"},Padauk:{"4/4":10.95,category:"Exotic",grade:"FEQ"},"Peruvian Walnut":{"4/4":11.95,category:"Exotic",grade:"FEQ"},"Purple Heart":{"4/4":13.95,category:"Exotic",grade:"FEQ"},"Sapele - QS":{"4/4":9.95,"8/4":12.95,category:"Exotic",grade:"FEQ"},"Spanish Cedar":{"8/4":9.95,category:"Exotic",grade:"FEQ"},Wenge:{"4/4":22.95,category:"Exotic",grade:"FEQ"},"Wenge - Shorts":{"4/4":17.95,category:"Exotic",grade:"FEQ"}};function Q3(r,e){if(Yu[r]&&Yu[r][e])return Yu[r][e];const n=r.toLowerCase();for(const[o,l]of Object.entries(Yu))if((o.toLowerCase().includes(n)||n.includes(o.toLowerCase()))&&l[e])return l[e];const a=Yu[r];if(a){const o=jm(e);if(o){let l=null,c=1/0;for(const h of Object.keys(a)){if(h==="category"||h==="grade")continue;const d=jm(h);if(d){const m=Math.abs(d-o);m<c&&(c=m,l=h)}}if(l)return a[l]}}return null}function jm(r){const e=r.match(/^(\d+)\/4$/);return e?parseInt(e[1]):null}function Em(r,e="lumber"){const n=r.split(/\r?\n/).filter(l=>l.trim());if(n.length<2)return{pieces:[],errors:["File is empty or has no data rows"]};const a=[],o=[];for(let l=1;l<n.length;l++){const c=n[l].split(",").map(k=>k.trim()),h=l+1;if(c.length<4){o.push(`Row ${h}: Not enough columns (need at least Name, Length, Width, Thickness)`);continue}const d=c[0],m=parseFloat(c[1]),b=parseFloat(c[2]),A=c[3];if(!d){o.push(`Row ${h}: Missing piece name`);continue}if(isNaN(m)||m<=0){o.push(`Row ${h}: Invalid length "${c[1]}"`);continue}if(isNaN(b)||b<=0){o.push(`Row ${h}: Invalid width "${c[2]}"`);continue}if(!A){o.push(`Row ${h}: Missing thickness`);continue}if(e==="lumber"){const k=c[4]||"",w=parseInt(c[5])||1;a.push({id:Date.now()+l,name:d,length:m,width:b,thickness:A,species:k,quantity:w})}else{const k=c[4]||"",w=parseInt(c[5])||1,j=(c[6]||"any").toLowerCase(),S=["any","length","width"];a.push({id:Date.now()+l,name:d,length:m,width:b,thickness:A,product:k,quantity:w,grainDirection:S.includes(j)?j:"any",materialType:"sheet"})}}return{pieces:a,errors:o}}function km(r="lumber"){return r==="lumber"?`Name, Length, Width, Thickness, Species, Quantity
Table Leg, 28.5, 3.5, 4/4, Walnut, 4
Apron, 24, 4, 4/4, Walnut, 2
Shelf, 36, 11.25, 4/4, Cherry, 3`:`Name, Length, Width, Thickness, Product, Quantity, Grain Direction
Shelf, 30, 11.25, 3/4, Baltic Birch, 3, any
Back Panel, 36, 30, 3/4, Baltic Birch, 1, length
Door, 24, 18, 1/2, MDF, 2, any`}function Cm({label:r,icon:e,items:n,className:a=""}){const[o,l]=We.useState(!1),c=We.useRef(null);return We.useEffect(()=>{const h=d=>{c.current&&!c.current.contains(d.target)&&l(!1)};return o&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[o]),p.jsxs("div",{className:`dropdown ${a}`,ref:c,children:[p.jsxs("button",{className:`dropdown-toggle ${o?"open":""}`,onClick:()=>l(!o),children:[e&&p.jsx("span",{className:"dropdown-icon",children:e}),r&&p.jsx("span",{children:r}),p.jsx("span",{className:"dropdown-arrow",children:""})]}),p.jsx("div",{className:`dropdown-menu ${o?"open":""}`,children:n.map((h,d)=>h.divider?p.jsx("div",{className:"dropdown-divider"},d):p.jsxs("button",{className:"dropdown-menu-item",onClick:()=>{h.onClick(),l(!1)},children:[h.icon&&p.jsx("span",{className:"dropdown-menu-item-icon",children:h.icon}),p.jsx("span",{children:h.label})]},d))})]})}function Z3({isOpen:r,title:e,message:n,onConfirm:a,onCancel:o,confirmText:l="Delete",confirmStyle:c="danger"}){return r?p.jsx("div",{className:"modal-overlay",onClick:o,children:p.jsxs("div",{className:"modal-content confirm-dialog",onClick:h=>h.stopPropagation(),children:[p.jsx("h3",{children:e}),p.jsx("p",{children:n}),p.jsxs("div",{className:"confirm-dialog-actions",children:[p.jsx("button",{onClick:o,className:"btn-secondary",children:"Cancel"}),p.jsx("button",{onClick:a,className:c==="danger"?"btn-delete":"btn-primary",children:l})]})]})}):null}const Q0={Walnut:"#5D4037","Walnut - Natural":"#6D4C41","Walnut - Prime":"#4E342E",Cherry:"#C62828","Cherry - Select":"#D32F2F","Maple - Hard":"#FFCC80","Maple - Soft":"#FFE0B2","Maple - Ambrosia":"#FFAB91","Maple - Birds Eye":"#FFF3E0","Maple - Curly":"#FFE082","Oak - Red":"#BF360C","Oak - Red QS":"#E64A19","Oak - Red Rift":"#FF5722","Oak - White":"#D7CCC8","Oak - White QS":"#EFEBE9","Oak - White Rift":"#FBE9E7","Ash - White":"#F5F5F5",Poplar:"#C5E1A5","Hickory - Calico":"#BCAAA4","Hickory - Heart":"#A1887F","Alder - Knotty":"#FFAB91",Basswood:"#FFF8E1",Beech:"#FFE4C4","Birch - Yellow":"#FFF59D",Butternut:"#D4A574",Catalpa:"#E6DDD1","Cedar - Aromatic":"#D4A190","Cedar - Western Red":"#CD7F32","Douglas Fir":"#DEB887","Sycamore - QS":"#F0EAD6",Beli:"#8D6E63","Black Limba":"#3E2723",Bloodwood:"#8B0000",Canarywood:"#FFD54F",Ebiara:"#795548",Iroko:"#A67C52",Jatoba:"#8B4513",Leopardwood:"#CD853F","Mahogany - African":"#C04000",Olivewood:"#808000","Osage Orange":"#FF8C00",Padauk:"#FF4500","Peruvian Walnut":"#654321","Purple Heart":"#9932CC","Sapele - QS":"#A0522D","Spanish Cedar":"#D2691E",Wenge:"#1C1C1C",Other:"#9E9E9E"};function Tm(r){return Q0[r]||Q0.Other}function ex(r){const e=parseInt(r.slice(1,3),16),n=parseInt(r.slice(3,5),16),a=parseInt(r.slice(5,7),16);return(.299*e+.587*n+.114*a)/255>.5?"#000000":"#FFFFFF"}const Lm=[{id:1,name:'8ft  5"',length:96,width:5},{id:2,name:'8ft  6"',length:96,width:6},{id:3,name:'8ft  7"',length:96,width:7},{id:4,name:'8ft  8"',length:96,width:8},{id:5,name:'10ft  6"',length:120,width:6},{id:6,name:'6ft  6"',length:72,width:6}],tx=["4/4","5/4","6/4","8/4","10/4","12/4","16/4"],X5=["1/4","1/2","3/4","1"],Q5=["Baltic Birch","MDF","Plywood - Birch","Plywood - Maple","Plywood - Oak","Plywood - Walnut","Plywood - Cherry","Melamine","Particle Board","Other"],Om=[{name:"48 (Standard)",length:96,width:48},{name:"55 (Baltic Birch)",length:60,width:60},{name:"44",length:48,width:48},{name:"Custom",length:null,width:null}],Z0=[{value:"any",label:"Any Direction",description:"Optimizer can rotate freely"},{value:"length",label:"With Grain",description:"Piece length along 8' (grain direction)"},{value:"width",label:"Cross Grain",description:"Piece length across grain"}],Z5=["Walnut","Walnut - Natural","Walnut - Prime","Cherry","Cherry - Select","Maple - Hard","Maple - Soft","Maple - Ambrosia","Maple - Birds Eye","Maple - Curly","Oak - Red","Oak - Red QS","Oak - Red Rift","Oak - White","Oak - White QS","Oak - White Rift","Ash - White","Poplar","Hickory - Calico","Hickory - Heart","Alder - Knotty","Basswood","Beech","Birch - Yellow","Butternut","Catalpa","Cedar - Aromatic","Cedar - Western Red","Douglas Fir","Sycamore - QS","Beli","Black Limba","Bloodwood","Canarywood","Ebiara","Iroko","Jatoba","Leopardwood","Mahogany - African","Olivewood","Osage Orange","Padauk","Peruvian Walnut","Purple Heart","Sapele - QS","Spanish Cedar","Wenge","Other"];function Gl(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?null:n}function nx(r,e,n){return r*e*n/144}function Rm({onSubmit:r,initialData:e,onCancel:n}){const[a,o]=We.useState(e?.name||""),[l,c]=We.useState(e?.length||""),[h,d]=We.useState(e?.width||""),[m,b]=We.useState(e?.thickness||"4/4"),[A,k]=We.useState(e?.species||"Walnut"),[w,j]=We.useState(e?.quantity||1),[S,T]=We.useState(""),N=["4/4","5/4","6/4","8/4","10/4","12/4","16/4"];We.useEffect(()=>{e?(o(e.name||""),c(e.length||""),d(e.width||""),b(e.thickness||"4/4"),k(e.species||"Walnut"),j(e.quantity||1)):(o(""),c(""),d(""),b("4/4"),k("Walnut"),j(1)),T("")},[e]);const P=D=>{D.preventDefault(),T("");const U=Gl(m);if(U===null){T("Invalid thickness notation");return}const le=parseFloat(l),ce=parseFloat(h),te=parseInt(w);if(isNaN(le)||le<=0){T("Please enter a valid length");return}if(isNaN(ce)||ce<=0){T("Please enter a valid width");return}if(isNaN(te)||te<1){T("Please enter a valid quantity (at least 1)");return}const $=nx(U,ce,le),Y=$*te;r({id:e?.id||Date.now(),name:a||`Board ${Date.now()}`,length:le,width:ce,thickness:m,thicknessInches:U,species:A,quantity:te,boardFeetPerPiece:$,boardFeet:Y}),e||(o(""),c(""),d(""),b("4/4"),k("Walnut"),j(1))};return p.jsxs("form",{onSubmit:P,className:"board-form",children:[p.jsx("h3",{children:e?"Edit Stock Board":"Add Stock Board"}),S&&p.jsx("div",{className:"error",children:S}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"boardName",children:"Board Name"}),p.jsx("input",{id:"boardName",type:"text",value:a,onChange:D=>o(D.target.value),placeholder:"e.g., Walnut Plank, Oak Board"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"length",children:"Length (inches)"}),p.jsx("input",{id:"length",type:"number",step:"0.125",value:l,onChange:D=>c(D.target.value),placeholder:"e.g., 96",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"width",children:"Width (inches)"}),p.jsx("input",{id:"width",type:"number",step:"0.125",value:h,onChange:D=>d(D.target.value),placeholder:"e.g., 8",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"thickness",children:"Thickness"}),p.jsx("select",{id:"thickness",value:m,onChange:D=>b(D.target.value),children:N.map(D=>p.jsxs("option",{value:D,children:[D," (",Gl(D),'")']},D))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"quantity",children:"Quantity"}),p.jsx("input",{id:"quantity",type:"number",min:"1",value:w,onChange:D=>j(D.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"species",children:"Species"}),p.jsx("select",{id:"species",value:A,onChange:D=>k(D.target.value),children:Z5.map(D=>p.jsx("option",{value:D,children:D},D))})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Board":"Add Board"}),n&&p.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function Dm({onSubmit:r,initialData:e,onCancel:n}){const[a,o]=We.useState(e?.name||""),[l,c]=We.useState(e?.product||"Baltic Birch"),[h,d]=We.useState(e?.thickness||"3/4"),[m,b]=We.useState(e?"Custom":"48 (Standard)"),[A,k]=We.useState(e?.length||96),[w,j]=We.useState(e?.width||48),[S,T]=We.useState(e?.quantity||1),[N,P]=We.useState(e?.pricePerSheet||""),[D,U]=We.useState("");We.useEffect(()=>{e?(o(e.name||""),c(e.product||"Baltic Birch"),d(e.thickness||"3/4"),k(e.length||96),j(e.width||48),T(e.quantity||1),P(e.pricePerSheet||""),b("Custom")):(o(""),c("Baltic Birch"),d("3/4"),b("48 (Standard)"),k(96),j(48),T(1),P("")),U("")},[e]);const le=te=>{b(te);const $=Om.find(Y=>Y.name===te);$&&$.length&&(k($.length),j($.width))},ce=te=>{te.preventDefault(),U("");const $=parseFloat(A),Y=parseFloat(w),ge=parseInt(S),M=N?parseFloat(N):null;if(isNaN($)||$<=0){U("Please enter a valid length");return}if(isNaN(Y)||Y<=0){U("Please enter a valid width");return}if(isNaN(ge)||ge<1){U("Please enter a valid quantity");return}const H=$*Y/144;r({id:e?.id||Date.now(),name:a||`${l} ${h}" ${$}"${Y}"`,product:l,thickness:h,length:$,width:Y,quantity:ge,pricePerSheet:M,sqFtPerSheet:H,materialType:"sheet"}),e||(o(""),c("Baltic Birch"),d("3/4"),b("48 (Standard)"),k(96),j(48),T(1),P(""))};return p.jsxs("form",{onSubmit:ce,className:"board-form sheet-goods-form",children:[p.jsx("h3",{children:e?"Edit Sheet":"Add Sheet Stock"}),D&&p.jsx("div",{className:"error",children:D}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetName",children:"Name (optional)"}),p.jsx("input",{id:"sheetName",type:"text",value:a,onChange:te=>o(te.target.value),placeholder:"e.g., Cabinet Sides"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"product",children:"Product Type"}),p.jsx("select",{id:"product",value:l,onChange:te=>c(te.target.value),children:Q5.map(te=>p.jsx("option",{value:te,children:te},te))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetThickness",children:"Thickness"}),p.jsx("select",{id:"sheetThickness",value:h,onChange:te=>d(te.target.value),children:X5.map(te=>p.jsxs("option",{value:te,children:[te,'"']},te))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetQuantity",children:"Quantity"}),p.jsx("input",{id:"sheetQuantity",type:"number",min:"1",value:S,onChange:te=>T(te.target.value),required:!0})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetSize",children:"Sheet Size"}),p.jsx("select",{id:"sheetSize",value:m,onChange:te=>le(te.target.value),children:Om.map(te=>p.jsx("option",{value:te.name,children:te.name},te.name))})]}),m==="Custom"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetLength",children:"Length (in)"}),p.jsx("input",{id:"sheetLength",type:"number",step:"0.125",value:A,onChange:te=>k(te.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetWidth",children:"Width (in)"}),p.jsx("input",{id:"sheetWidth",type:"number",step:"0.125",value:w,onChange:te=>j(te.target.value),required:!0})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"pricePerSheet",children:"Price/Sheet ($)"}),p.jsx("input",{id:"pricePerSheet",type:"number",step:"0.01",min:"0",value:N,onChange:te=>P(te.target.value),placeholder:"Optional"})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Sheet":"Add Sheet"}),n&&p.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function ix({sheet:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:c,isDragging:h,isDragOver:d}){const m=r.quantity||1;return p.jsxs("div",{className:`board-item sheet-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:c,children:[p.jsx("div",{className:"drag-handle",children:""}),p.jsxs("div",{className:"board-info",children:[p.jsx("h4",{children:r.name||`${r.product} ${r.thickness}"`}),p.jsxs("p",{children:[r.length,'"  ',r.width,'"  ',r.thickness,'"',m>1&&` (${m})`]}),p.jsxs("p",{className:"board-feet",children:[(r.sqFtPerSheet*m).toFixed(1)," sq ft total",r.pricePerSheet&&`  $${(r.pricePerSheet*m).toFixed(2)}`]})]}),p.jsxs("div",{className:"board-actions",children:[p.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function Pm({onSubmit:r,initialData:e,onCancel:n,availableProducts:a,availableThicknesses:o}){const[l,c]=We.useState(e?.name||""),[h,d]=We.useState(e?.length||""),[m,b]=We.useState(e?.width||""),[A,k]=We.useState(e?.thickness||o?.[0]||"3/4"),[w,j]=We.useState(e?.product||a?.[0]||"Baltic Birch"),[S,T]=We.useState(e?.quantity||1),[N,P]=We.useState(e?.grainDirection||"any"),[D,U]=We.useState("");We.useEffect(()=>{e?(c(e.name||""),d(e.length||""),b(e.width||""),k(e.thickness||"3/4"),j(e.product||"Baltic Birch"),T(e.quantity||1),P(e.grainDirection||"any")):(c(""),d(""),b(""),k(o?.[0]||"3/4"),j(a?.[0]||"Baltic Birch"),T(1),P("any")),U("")},[e,a,o]);const le=$=>{$.preventDefault(),U("");const Y=parseFloat(h),ge=parseFloat(m),M=parseInt(S);if(isNaN(Y)||Y<=0){U("Please enter a valid length");return}if(isNaN(ge)||ge<=0){U("Please enter a valid width");return}if(isNaN(M)||M<1){U("Please enter a valid quantity");return}r({id:e?.id||Date.now(),name:l||`Sheet Part ${Date.now()}`,length:Y,width:ge,thickness:A,product:w,quantity:M,grainDirection:N,materialType:"sheet"}),e||(c(""),d(""),b(""),T(1),P("any"))},ce=o?.length>0?o:X5,te=a?.length>0?a:Q5;return p.jsxs("form",{onSubmit:le,className:"cut-piece-form sheet-cut-piece-form",children:[p.jsx("h3",{children:e?"Edit Sheet Cut Piece":"Add Sheet Cut Piece"}),D&&p.jsx("div",{className:"error",children:D}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceName",children:"Piece Name"}),p.jsx("input",{id:"sheetPieceName",type:"text",value:l,onChange:$=>c($.target.value),placeholder:"e.g., Cabinet Side, Shelf",required:!0})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceLength",children:"Length (in)"}),p.jsx("input",{id:"sheetPieceLength",type:"number",step:"0.125",value:h,onChange:$=>d($.target.value),placeholder:"e.g., 24",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceWidth",children:"Width (in)"}),p.jsx("input",{id:"sheetPieceWidth",type:"number",step:"0.125",value:m,onChange:$=>b($.target.value),placeholder:"e.g., 12",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceThickness",children:"Thickness"}),p.jsx("select",{id:"sheetPieceThickness",value:A,onChange:$=>k($.target.value),children:ce.map($=>p.jsxs("option",{value:$,children:[$,'"']},$))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceQty",children:"Quantity"}),p.jsx("input",{id:"sheetPieceQty",type:"number",min:"1",value:S,onChange:$=>T($.target.value),required:!0})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"sheetPieceProduct",children:"Product Type"}),p.jsx("select",{id:"sheetPieceProduct",value:w,onChange:$=>j($.target.value),children:te.map($=>p.jsx("option",{value:$,children:$},$))})]}),p.jsxs("div",{className:"form-group grain-direction-group",children:[p.jsx("label",{htmlFor:"grainDirection",children:"Grain Direction"}),p.jsx("select",{id:"grainDirection",value:N,onChange:$=>P($.target.value),className:"grain-select",children:Z0.map($=>p.jsx("option",{value:$.value,children:$.label},$.value))}),p.jsx("span",{className:"grain-hint",children:Z0.find($=>$.value===N)?.description})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Piece":"Add Piece"}),n&&p.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function rx({piece:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:c,isDragging:h,isDragOver:d}){const m=Z0.find(b=>b.value===r.grainDirection)?.label||"Any";return p.jsxs("div",{className:`cut-piece-item sheet-cut-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:c,children:[p.jsx("div",{className:"drag-handle",children:""}),p.jsxs("div",{className:"cut-piece-info",children:[p.jsx("h4",{children:r.name}),p.jsxs("p",{children:[r.length,'"  ',r.width,'"  ',r.thickness,'"',r.quantity>1&&` (${r.quantity})`]}),p.jsxs("p",{className:"piece-details",children:[r.product,r.grainDirection!=="any"&&p.jsx("span",{className:"grain-badge",children:m})]})]}),p.jsxs("div",{className:"cut-piece-actions",children:[p.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function ax({board:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:c,isDragging:h,isDragOver:d}){const m=r.quantity||1,b=r.boardFeetPerPiece||r.boardFeet;return p.jsxs("div",{className:`board-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:A=>a(A,r.id),onDragOver:A=>o(A,r.id),onDrop:A=>l(A,r.id),onDragEnd:c,children:[p.jsx("div",{className:"drag-handle",children:""}),p.jsxs("div",{className:"board-info",children:[p.jsx("h4",{children:r.name}),p.jsxs("p",{className:"board-dimensions",children:[r.length,'"  ',r.width,'"  ',r.thickness,m>1&&p.jsxs("span",{className:"board-quantity",children:["  ",m," pcs"]})]}),r.species&&p.jsx("p",{className:"board-species",children:r.species}),p.jsxs("p",{className:"board-feet",children:[p.jsx("strong",{children:r.boardFeet.toFixed(2)})," board feet",m>1&&p.jsxs("span",{className:"per-piece",children:[" (",b.toFixed(2)," each)"]})]})]}),p.jsxs("div",{className:"board-actions",children:[p.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function Bm({onSubmit:r,initialData:e,onCancel:n,availableThicknesses:a,availableSpecies:o}){const[l,c]=We.useState(e?.name||""),[h,d]=We.useState(e?.length||""),[m,b]=We.useState(e?.width||""),[A,k]=We.useState(e?.thickness||a[0]||"4/4"),[w,j]=We.useState(e?.species||o[0]||"Walnut"),[S,T]=We.useState(e?.quantity||1),[N,P]=We.useState(""),D=a.length>0?a:["4/4","5/4","6/4","8/4","10/4","12/4","16/4"],U=o.length>0?o:Z5;We.useEffect(()=>{e?(c(e.name||""),d(e.length||""),b(e.width||""),k(e.thickness||a[0]||"4/4"),j(e.species||o[0]||"Walnut"),T(e.quantity||1)):(c(""),d(""),b(""),k(a[0]||"4/4"),j(o[0]||"Walnut"),T(1)),P("")},[e,a,o]);const le=ce=>{ce.preventDefault(),P("");const te=parseFloat(h),$=parseFloat(m),Y=parseInt(S);if(isNaN(te)||te<=0){P("Please enter a valid length");return}if(isNaN($)||$<=0){P("Please enter a valid width");return}if(isNaN(Y)||Y<1){P("Please enter a valid quantity (at least 1)");return}r({id:e?.id||Date.now(),name:l||`Cut Piece ${Date.now()}`,length:te,width:$,thickness:A,species:w,quantity:Y}),e||(c(""),d(""),b(""),T(1))};return p.jsxs("form",{onSubmit:le,className:"cut-piece-form",children:[p.jsx("h3",{children:e?"Edit Cut Piece":"Add Cut Piece"}),N&&p.jsx("div",{className:"error",children:N}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutName",children:"Piece Name"}),p.jsx("input",{id:"cutName",type:"text",value:l,onChange:ce=>c(ce.target.value),placeholder:"e.g., Table Leg, Shelf"})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutLength",children:"Length (inches)"}),p.jsx("input",{id:"cutLength",type:"number",step:"0.125",value:h,onChange:ce=>d(ce.target.value),placeholder:"e.g., 30",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutWidth",children:"Width (inches)"}),p.jsx("input",{id:"cutWidth",type:"number",step:"0.125",value:m,onChange:ce=>b(ce.target.value),placeholder:"e.g., 3",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutThickness",children:"Thickness"}),p.jsx("select",{id:"cutThickness",value:A,onChange:ce=>k(ce.target.value),children:D.map(ce=>p.jsxs("option",{value:ce,children:[ce," (",Gl(ce),'")']},ce))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutQuantity",children:"Quantity"}),p.jsx("input",{id:"cutQuantity",type:"number",min:"1",value:S,onChange:ce=>T(ce.target.value),required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"cutSpecies",children:"Species"}),p.jsx("select",{id:"cutSpecies",value:w,onChange:ce=>j(ce.target.value),children:U.map(ce=>p.jsx("option",{value:ce,children:ce},ce))})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Piece":"Add Piece"}),n&&p.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function sx({piece:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:c,isDragging:h,isDragOver:d}){const m=r.quantity||1;return p.jsxs("div",{className:`cut-piece-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:c,children:[p.jsx("div",{className:"drag-handle",children:""}),p.jsxs("div",{className:"cut-piece-info",children:[p.jsx("h4",{children:r.name}),p.jsxs("p",{className:"cut-piece-dimensions",children:[r.length,'"  ',r.width,'"  ',r.thickness,m>1&&p.jsxs("span",{className:"cut-piece-quantity",children:["  ",m," pcs"]})]}),r.species&&p.jsx("p",{className:"cut-piece-species",children:r.species})]}),p.jsxs("div",{className:"cut-piece-actions",children:[p.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function ox(r){const e=new Set(r.map(n=>n.species).filter(Boolean));return Array.from(e)}function lx({cutPieces:r,onApplyStock:e,projectQuantity:n=1}){const[a,o]=We.useState("4/4"),[l,c]=We.useState(""),[h,d]=We.useState(null),[m,b]=We.useState(!1),[A,k]=We.useState(96),[w,j]=We.useState(6),[S,T]=We.useState([]),[N,P]=We.useState(null),[D,U]=We.useState(null),[le,ce]=We.useState(!1),te=xy(r),$=ox(r);We.useEffect(()=>{te.length>0&&!a&&o(te[0]),$.length>0&&!l&&c($[0])},[te,$]);const ge=(()=>{const X=new Set;r.forEach(Le=>{const G=`${Le.thickness}|${Le.species||""}`;X.add(G)});const re=new Set;S.forEach(Le=>{const G=`${Le.thickness}|${Le.species||""}`;re.add(G)});const xe=[];return X.forEach(Le=>{if(!re.has(Le)){const[G,L]=Le.split("|");xe.push({thickness:G,species:L||null})}}),xe})(),M=()=>{if(!a)return;let X;if(m){if(!A||!w)return;const re=Gl(a)||1,xe=A*w*re/144;X={id:Date.now(),name:`${A}"  ${w}"`,length:A,width:w,thickness:a,species:l||null,boardFeet:xe,isCustom:!0}}else{if(!h)return;const re=Lm.find(G=>G.id===h);if(!re)return;const xe=Gl(a)||1,Le=re.length*re.width*xe/144;X={id:Date.now(),name:re.name,length:re.length,width:re.width,thickness:a,species:l||null,boardFeet:Le,isCustom:!1}}T([...S,X]),U(null),P(X.id),setTimeout(()=>P(null),2e3),d(null),b(!1)},H=X=>{T(S.filter(re=>re.id!==X)),U(null)},se=()=>{if(S.length===0)return;ce(!0);const X=S.map(re=>({name:`${re.name} (${re.thickness}${re.species?` - ${re.species}`:""})`,length:re.length,width:re.width,thickness:re.thickness,species:re.species}));setTimeout(()=>{const re=Fm(r,X);U(re),ce(!1)},100)},ae=()=>{D&&D.boards.length>0&&e(D.boards,D.cutPlan)},we=()=>D?D.boards.reduce((X,re)=>X+re.boardFeet,0):0,ee=Gl(a)||1;return p.jsxs("div",{className:"stock-calculator",children:[p.jsx("h3",{children:"Calculate Stock Needed"}),n>1&&p.jsxs("div",{className:"project-quantity-notice",children:["Calculating for ",p.jsxs("strong",{children:[n," items"]})," (quantities multiplied)"]}),p.jsx("p",{className:"stock-calculator-intro",children:"Add board types you can purchase. The calculator will determine how many of each you need."}),p.jsxs("div",{className:"board-type-builder",children:[p.jsx("div",{className:"builder-header",children:S.length===0?p.jsx("span",{className:"builder-title",children:"Add a Board Type"}):p.jsx("span",{className:"builder-title",children:"Add Another Board Type"})}),p.jsxs("div",{className:"builder-step",children:[p.jsx("label",{className:"builder-label",children:"1. Thickness"}),p.jsx("div",{className:"thickness-options",children:tx.map(X=>p.jsx("button",{className:`thickness-btn ${a===X?"active":""}`,onClick:()=>o(X),children:X},X))})]}),$.length>0&&p.jsxs("div",{className:"builder-step",children:[p.jsx("label",{className:"builder-label",children:"2. Species"}),p.jsx("div",{className:"species-options",children:$.map(X=>p.jsx("button",{className:`species-btn ${l===X?"active":""}`,onClick:()=>c(X),children:X},X))})]}),p.jsxs("div",{className:"builder-step",children:[p.jsxs("label",{className:"builder-label",children:[$.length>0?"3":"2",". Size"]}),p.jsxs("div",{className:"size-toggle",children:[p.jsx("button",{className:`toggle-btn ${m?"":"active"}`,onClick:()=>b(!1),children:"Standard"}),p.jsx("button",{className:`toggle-btn ${m?"active":""}`,onClick:()=>b(!0),children:"Custom"})]}),m?p.jsxs("div",{className:"custom-size-inputs",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Length (in)"}),p.jsx("input",{type:"number",value:A,onChange:X=>k(parseFloat(X.target.value)||0),step:"1"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Width (in)"}),p.jsx("input",{type:"number",value:w,onChange:X=>j(parseFloat(X.target.value)||0),step:"0.5"})]})]}):p.jsx("div",{className:"size-options",children:Lm.map(X=>{const re=X.length*X.width*ee/144;return p.jsxs("button",{className:`size-btn ${h===X.id?"active":""}`,onClick:()=>d(X.id),children:[p.jsx("span",{className:"size-name",children:X.name}),p.jsxs("span",{className:"size-bf",children:[re.toFixed(2)," BF"]})]},X.id)})})]}),p.jsx("button",{onClick:M,className:"btn-add-board-type",disabled:!a||!m&&!h||m&&(!A||!w),children:"+ Add Board Type"})]}),S.length>0&&p.jsxs("div",{className:"board-types-list",children:[p.jsx("div",{className:"board-types-header",children:p.jsxs("h4",{children:["Board Types Added (",S.length,")"]})}),S.map(X=>p.jsxs("div",{className:`board-type-item ${N===X.id?"just-added":""}`,children:[p.jsxs("div",{className:"board-type-info",children:[p.jsx("span",{className:"board-type-name",children:X.name}),p.jsxs("span",{className:"board-type-details",children:[X.thickness,X.species?`  ${X.species}`:"","  ",X.boardFeet.toFixed(2)," BF"]})]}),p.jsx("button",{onClick:()=>H(X.id),className:"btn-remove",children:""})]},X.id)),ge.length>0&&p.jsxs("div",{className:"warning",style:{marginTop:"0.75rem",marginBottom:"0.75rem"},children:["Still need: ",ge.map(X=>`${X.thickness}${X.species?` ${X.species}`:""}`).join(", ")]}),p.jsx("button",{onClick:se,className:"btn-primary btn-calculate",disabled:le,children:le?"Calculating...":"Calculate Stock Needed"})]}),D&&p.jsxs("div",{className:"stock-result",children:[p.jsx("div",{className:"stock-result-header",children:p.jsx("h4",{children:"Shopping List"})}),D.boardsByTemplate&&D.boardsByTemplate.length>0&&p.jsx("div",{className:"stock-breakdown",children:D.boardsByTemplate.map((X,re)=>p.jsxs("div",{className:"breakdown-item",children:[p.jsxs("span",{className:"breakdown-count",children:[X.count,""]}),p.jsxs("span",{className:"breakdown-desc",children:[X.template.name||`${X.template.length}"  ${X.template.width}"`,p.jsxs("span",{className:"breakdown-thickness",children:[" (",X.template.thickness,X.template.species&&`  ${X.template.species}`,")"]})]})]},re))}),p.jsxs("div",{className:"stock-result-stats",children:[p.jsxs("div",{className:"result-stat",children:[p.jsx("span",{className:"result-value",children:D.boardsNeeded}),p.jsx("span",{className:"result-label",children:"Total Boards"})]}),p.jsxs("div",{className:"result-stat",children:[p.jsx("span",{className:"result-value",children:we().toFixed(1)}),p.jsx("span",{className:"result-label",children:"Total Board Feet"})]}),p.jsxs("div",{className:"result-stat",children:[p.jsxs("span",{className:"result-value",children:[D.cutPlan?.efficiency.toFixed(0)||0,"%"]}),p.jsx("span",{className:"result-label",children:"Efficiency"})]})]}),D.cutPlan?.warnings?.length>0&&p.jsx("div",{className:"stock-result-warnings",children:D.cutPlan.warnings.map((X,re)=>p.jsx("div",{className:"warning",children:X},re))}),p.jsx("button",{onClick:ae,className:"btn-primary btn-large",children:"Use These Boards & Generate Cut Plan"})]})]})}function cx({assignment:r,scale:e}){const n=r.width*e,a=r.length*e,o=["#E06829","#324168","#AFCFE4","#8B5A2B","#6B8E23","#CD853F","#4682B4","#D2691E","#708090","#BC8F8F"],l=(c,h)=>c.species&&Q0[c.species]?Tm(c.species):o[h%o.length];return p.jsxs("div",{className:"cut-plan-board",children:[p.jsxs("div",{className:"cut-plan-board-label",children:[r.stockBoardName,r.stockBoardIndex>0&&` (#${r.stockBoardIndex+1})`,p.jsxs("span",{className:"cut-plan-board-dims",children:[r.length,'"  ',r.width,'"  ',r.thickness]}),r.species&&p.jsxs("span",{className:"cut-plan-board-species",children:[p.jsx("span",{className:"species-color-dot",style:{backgroundColor:Tm(r.species)}}),r.species]})]}),p.jsxs("svg",{width:a+2,height:n+2,className:"cut-plan-svg",children:[p.jsx("rect",{x:1,y:1,width:a,height:n,fill:"#F5F1E8",stroke:"#2C2C2C",strokeWidth:1}),r.cuts.map((c,h)=>{const d=l(c,h),m=ex(d);return p.jsxs("g",{children:[p.jsx("rect",{x:1+c.x*e,y:1+c.y*e,width:c.length*e,height:c.width*e,fill:d,stroke:"#0A112A",strokeWidth:1,opacity:.9}),p.jsxs("text",{x:1+c.x*e+c.length*e/2,y:1+c.y*e+c.width*e/2,textAnchor:"middle",dominantBaseline:"middle",fill:m,fontSize:Math.min(12,Math.min(c.length,c.width)*e*.4),fontWeight:"500",children:[c.cutPieceName,c.cutPieceIndex>0&&` #${c.cutPieceIndex+1}`]})]},h)})]}),p.jsx("div",{className:"cut-dimensions-list",children:p.jsxs("table",{className:"cut-dimensions-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Piece"}),p.jsx("th",{children:"Rip Width"}),p.jsx("th",{children:"Crosscut Length"})]})}),p.jsx("tbody",{children:r.cuts.map((c,h)=>p.jsxs("tr",{children:[p.jsxs("td",{children:[p.jsx("span",{className:"cut-color-indicator",style:{backgroundColor:l(c,h)}}),c.cutPieceName,c.cutPieceIndex>0&&` #${c.cutPieceIndex+1}`]}),p.jsxs("td",{children:[c.width,'"']}),p.jsxs("td",{children:[c.length,'"']})]},h))})]})})]})}function Mm({cutPlan:r,boards:e,onRegenerate:n,isRegenerating:a,workflowType:o,materialType:l}){const c=l==="sheet",[h,d]=We.useState({});if(!r)return null;const m=3,b=o==="known",A=()=>{if(!r.assignments)return{};const S={};return r.assignments.forEach(T=>{T.stockBoardId&&(S[T.stockBoardId]=(S[T.stockBoardId]||0)+1)}),S},k=()=>{if(!e||e.length===0)return null;const S=b?A():null,T={};e.forEach(U=>{const le=U.quantity||1;let ce=le;if(b&&S&&(ce=S[U.id]||0,ce===0))return;const te=U.boardFeet/le,$=`${U.thickness}|${U.species||""}|${U.length}|${U.width}`;T[$]||(T[$]={key:$,thickness:U.thickness,species:U.species,length:U.length,width:U.width,count:0,totalBF:0}),T[$].count+=ce,T[$].totalBF+=te*ce});const N=[];let P=0,D=!1;return Object.values(T).forEach((U,le)=>{const ce=Q3(U.species||"",U.thickness),te=h[U.key]!==void 0?h[U.key]:ce;if(te!==null&&te!==""){const $=U.totalBF*parseFloat(te);P+=$,N.push({...U,pricePerBF:parseFloat(te),defaultPrice:ce,cost:$,isCustom:h[U.key]!==void 0})}else D=!0,N.push({...U,pricePerBF:null,defaultPrice:ce,cost:null,isCustom:!1})}),{items:N,totalCost:P,hasUnpricedItems:D,isUsedOnly:b,boardsUsed:r.boardsUsed,totalBoards:r.totalStockBoards}},w=(S,T)=>{if(T===""||T===null){const N={...h};delete N[S],d(N)}else d({...h,[S]:parseFloat(T)||0})},j=k();return p.jsxs("div",{className:"cut-plan-display",children:[p.jsxs("div",{className:"cut-plan-header",children:[p.jsx("h3",{children:"Cut Plan"}),p.jsx("button",{onClick:n,className:`btn-secondary ${a?"btn-loading":""}`,disabled:a,children:a?"Regenerating...":"Regenerate Plan"})]}),p.jsxs("div",{className:"cut-plan-stats",children:[p.jsxs("div",{className:`cut-plan-stat ${r.efficiency>=80?"stat-good":r.efficiency>=60?"stat-moderate":"stat-poor"}`,children:[p.jsxs("span",{className:"stat-value",children:[r.efficiency.toFixed(1),"%"]}),p.jsx("span",{className:"stat-label",children:"Efficiency"})]}),p.jsxs("div",{className:`cut-plan-stat ${r.waste<=1?"stat-good":r.waste<=3?"stat-moderate":"stat-poor"}`,children:[p.jsx("span",{className:"stat-value",children:r.waste.toFixed(2)}),p.jsx("span",{className:"stat-label",children:c?"Waste (sq ft)":"Waste (BF)"})]}),p.jsxs("div",{className:"cut-plan-stat",children:[p.jsxs("span",{className:"stat-value",children:[r.boardsUsed,"/",r.totalStockBoards]}),p.jsx("span",{className:"stat-label",children:c?"Sheets Used":"Boards Used"})]}),j&&j.totalCost>0&&p.jsxs("div",{className:"cut-plan-stat stat-highlight",children:[p.jsxs("span",{className:"stat-value",children:["$",j.totalCost.toFixed(2)]}),p.jsx("span",{className:"stat-label",children:j.isUsedOnly?"Cost (Used)":"Est. Cost"})]})]}),r.warnings.length>0&&p.jsx("div",{className:"cut-plan-warnings",children:r.warnings.map((S,T)=>p.jsx("div",{className:"warning",children:S},T))}),p.jsx("div",{className:"cut-plan-boards",children:r.assignments.map((S,T)=>p.jsx(cx,{assignment:S,scale:m},T))}),r.assignments.length===0&&r.warnings.length===0&&p.jsx("p",{className:"cut-plan-empty",children:"No cuts to display. Add cut pieces and generate a plan."}),j&&j.items.length>0&&p.jsxs("div",{className:"cut-plan-pricing",children:[p.jsx("h4",{children:"Estimated Material Cost"}),j.isUsedOnly&&p.jsxs("p",{className:"pricing-context",children:["Showing cost for ",p.jsxs("strong",{children:[j.boardsUsed," of ",j.totalBoards]})," ",c?"sheets":"boards"," used in this cut plan."]}),p.jsxs("table",{className:"pricing-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Qty"}),p.jsx("th",{children:c?"Sheet":"Board"}),p.jsx("th",{children:c?"Sq Ft":"BF"}),p.jsx("th",{children:c?"$/Sheet":"$/BF"}),p.jsx("th",{children:"Cost"})]})}),p.jsx("tbody",{children:j.items.map((S,T)=>p.jsxs("tr",{className:S.isCustom?"custom-price":"",children:[p.jsxs("td",{className:"qty-col",children:[S.count,""]}),p.jsxs("td",{className:"desc-col",children:[S.length,'"  ',S.width,'"',p.jsxs("span",{className:"breakdown-details",children:[S.thickness,c?'"':"",S.species&&`  ${S.species}`]})]}),p.jsx("td",{className:"bf-col",children:c?(S.length*S.width/144*S.count).toFixed(1):S.totalBF.toFixed(1)}),p.jsx("td",{className:"price-col",children:p.jsxs("div",{className:"price-input-wrapper",children:[p.jsx("span",{className:"price-symbol",children:"$"}),p.jsx("input",{type:"number",className:"price-input",value:S.pricePerBF!==null?S.pricePerBF:"",onChange:N=>w(S.key,N.target.value),placeholder:S.defaultPrice!==null?S.defaultPrice.toFixed(2):"0.00",step:"0.01",min:"0"})]})}),p.jsx("td",{className:"cost-col",children:S.cost!==null?`$${S.cost.toFixed(2)}`:""})]},T))}),p.jsx("tfoot",{children:p.jsxs("tr",{className:"total-row",children:[p.jsx("td",{colSpan:"4",className:"total-label",children:"Estimated Total:"}),p.jsxs("td",{className:"total-cost",children:["$",j.totalCost.toFixed(2),j.hasUnpricedItems&&"*"]})]})})]}),j.hasUnpricedItems&&p.jsx("p",{className:"pricing-note",children:"* Enter a price to include in total"}),p.jsx("p",{className:"pricing-disclaimer",children:"Default prices are estimates only. Update with your most current prices."})]})]})}function ux({project:r}){const e=r.boards.reduce((S,T)=>S+T.boardFeet,0),n=r.boards.reduce((S,T)=>S+(T.quantity||1),0),a=r.cutPieces||[],o=r.quantity||1,l=a.reduce((S,T)=>S+(T.quantity||1),0),c=l*o,h=r.sheetGoods||[],d=r.sheetCutPieces||[],m=h.reduce((S,T)=>S+(T.quantity||1),0),b=h.reduce((S,T)=>S+T.length*T.width/144*(T.quantity||1),0),A=d.reduce((S,T)=>S+(T.quantity||1),0),k=d.reduce((S,T)=>S+T.length*T.width/144*(T.quantity||1),0),w=o>1?a.map(S=>({...S,quantity:(S.quantity||1)*o})):a,j=tp(w);return p.jsxs("div",{className:"project-summary",children:[p.jsx("h3",{children:"Project Summary"}),o>1&&p.jsxs("div",{className:"summary-quantity-badge",children:["Making ",o," items"]}),p.jsx("div",{className:"summary-section-label",children:"Stock Boards"}),p.jsxs("div",{className:"summary-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:n}),p.jsx("span",{className:"stat-label",children:"Pieces"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:e.toFixed(1)}),p.jsx("span",{className:"stat-label",children:"Board Feet"})]})]}),a.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"summary-section-label",children:["Cut List ",o>1&&"(Total)"]}),p.jsxs("div",{className:"summary-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:c}),p.jsxs("span",{className:"stat-label",children:["Pieces",o>1&&p.jsxs("span",{className:"stat-per-item",children:["(",l,"/item)"]})]})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:j.toFixed(1)}),p.jsx("span",{className:"stat-label",children:"Board Feet"})]})]})]}),r.cutPlan&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"summary-section-label",children:"Cut Plan"}),p.jsx("div",{className:"summary-stats",children:p.jsxs("div",{className:"stat total",children:[p.jsxs("span",{className:"stat-value",children:[r.cutPlan.efficiency.toFixed(0),"%"]}),p.jsx("span",{className:"stat-label",children:"Efficiency"})]})})]}),r.boards.length>0&&p.jsxs("div",{className:"board-list-summary",children:[p.jsx("h4",{children:"Stock Board List"}),p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Dims"}),p.jsx("th",{children:"Qty"})]})}),p.jsx("tbody",{children:r.boards.map(S=>p.jsxs("tr",{children:[p.jsx("td",{children:S.name}),p.jsxs("td",{children:[S.length,'"',S.width,'"']}),p.jsx("td",{children:S.quantity||1})]},S.id))})]})]}),(h.length>0||d.length>0)&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"summary-divider"}),h.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"summary-section-label",children:"Sheet Stock"}),p.jsxs("div",{className:"summary-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:m}),p.jsx("span",{className:"stat-label",children:"Sheets"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:b.toFixed(1)}),p.jsx("span",{className:"stat-label",children:"Sq Ft"})]})]})]}),d.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"summary-section-label",children:"Sheet Cut List"}),p.jsxs("div",{className:"summary-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:A}),p.jsx("span",{className:"stat-label",children:"Pieces"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("span",{className:"stat-value",children:k.toFixed(1)}),p.jsx("span",{className:"stat-label",children:"Sq Ft"})]})]})]}),r.sheetCutPlan&&h.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"summary-section-label",children:"Sheet Cut Plan"}),p.jsx("div",{className:"summary-stats",children:p.jsxs("div",{className:"stat total",children:[p.jsxs("span",{className:"stat-value",children:[r.sheetCutPlan.efficiency.toFixed(0),"%"]}),p.jsx("span",{className:"stat-label",children:"Efficiency"})]})})]}),h.length>0&&p.jsxs("div",{className:"board-list-summary",children:[p.jsx("h4",{children:"Sheet Stock List"}),p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Name"}),p.jsx("th",{children:"Dims"}),p.jsx("th",{children:"Qty"})]})}),p.jsx("tbody",{children:h.map(S=>p.jsxs("tr",{children:[p.jsx("td",{children:S.name||`${S.product} ${S.thickness}"`}),p.jsxs("td",{children:[S.length,'"',S.width,'"']}),p.jsx("td",{children:S.quantity||1})]},S.id))})]})]})]})]})}function hx({onSubmit:r}){const[e,n]=We.useState(""),[a,o]=We.useState(""),[l,c]=We.useState(1),[h,d]=We.useState("calculate"),m=b=>{b.preventDefault(),e.trim()&&r({id:Date.now(),name:e.trim(),description:a.trim(),quantity:parseInt(l)||1,boards:[],cutPieces:[],cutPlan:null,workflow:h,createdAt:new Date().toISOString()})};return p.jsxs("form",{onSubmit:m,className:"project-form",children:[p.jsx("h2",{children:"Create New Project"}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"projectName",children:"Project Name *"}),p.jsx("input",{id:"projectName",type:"text",value:e,onChange:b=>n(b.target.value),placeholder:"e.g., Dining Chair, Bookshelf",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"projectDescription",children:"Description"}),p.jsx("textarea",{id:"projectDescription",value:a,onChange:b=>o(b.target.value),placeholder:"Describe your project...",rows:3})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"projectQuantity",children:"How many are you making?"}),p.jsxs("div",{className:"quantity-input-row",children:[p.jsx("input",{id:"projectQuantity",type:"number",min:"1",max:"100",value:l,onChange:b=>c(b.target.value),className:"quantity-input"}),p.jsx("span",{className:"quantity-hint",children:l>1?`Making ${l} identical items`:"Making 1 item"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"How would you like to start?"}),p.jsxs("div",{className:"workflow-selector",children:[p.jsxs("div",{className:`workflow-option ${h==="calculate"?"selected":""}`,onClick:()=>d("calculate"),children:[p.jsx("div",{className:"workflow-icon",children:""}),p.jsxs("div",{className:"workflow-content",children:[p.jsx("h4",{children:"Calculate Stock Needed"}),p.jsx("p",{children:"Start with your cut list, then calculate how much lumber to buy"}),p.jsx("span",{className:"workflow-steps",children:"Cut List  Calculate Stock  Cut Plan"})]})]}),p.jsxs("div",{className:`workflow-option ${h==="known"?"selected":""}`,onClick:()=>d("known"),children:[p.jsx("div",{className:"workflow-icon",children:""}),p.jsxs("div",{className:"workflow-content",children:[p.jsx("h4",{children:"I Have My Lumber"}),p.jsx("p",{children:"Start with lumber you already have, then plan your cuts"}),p.jsx("span",{className:"workflow-steps",children:"Stock Boards  Cut List  Cut Plan"})]})]})]})]}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Create Project"})]})}function fx({isOpen:r,onClose:e}){return r?p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content help-modal",onClick:n=>n.stopPropagation(),children:[p.jsx("button",{className:"modal-close",onClick:e,children:""}),p.jsxs("div",{className:"help-content",children:[p.jsx("h2",{children:"User Manual"}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Getting Started"}),p.jsxs("ol",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Sign up"})," for an account or ",p.jsx("strong",{children:"sign in"})," if you already have one"]}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"+ New Project"'})," to create a project"]}),p.jsx("li",{children:"Enter a project name and optional description"}),p.jsxs("li",{children:["Choose your workflow:",p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Calculate Stock Workflow"})," (recommended): Start with cut pieces, then calculate what lumber to buy"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Manual Stock Entry"}),": Enter your existing lumber inventory manually"]})]})]})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"The Three Tabs"}),p.jsxs("p",{children:["Navigate between ",p.jsx("strong",{children:"Cut List"}),", ",p.jsx("strong",{children:"Stock Boards"}),", and ",p.jsx("strong",{children:"Cut Plan"})," tabs at any time."]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Tab 1: Cut List"}),p.jsx("p",{children:"Define all the pieces you need to cut for your project."}),p.jsxs("table",{className:"help-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Field"}),p.jsx("th",{children:"Description"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"Piece Name"}),p.jsx("td",{children:'Descriptive name (e.g., "Table Leg", "Apron")'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Length"}),p.jsx("td",{children:"Final length in inches"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Width"}),p.jsx("td",{children:"Final width in inches"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Thickness"}),p.jsx("td",{children:'Lumber notation: 4/4 (1"), 5/4 (1.25"), 6/4 (1.5"), 8/4 (2"), etc.'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Species"}),p.jsx("td",{children:"Wood type (Walnut, Cherry, Oak, etc.)"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Quantity"}),p.jsx("td",{children:"How many pieces needed"})]})]})]}),p.jsx("p",{children:p.jsx("strong",{children:"Tips:"})}),p.jsxs("ul",{children:[p.jsx("li",{children:"Add all pieces before calculating stock"}),p.jsx("li",{children:"Group similar pieces by species and thickness for efficient cutting"}),p.jsx("li",{children:'The optimizer accounts for 1/8" saw kerf between cuts'})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Tab 2: Stock Boards"}),p.jsx("h4",{children:"Option A: Calculate Stock Needed (Recommended)"}),p.jsx("p",{children:"Use the built-in calculator to determine what lumber to purchase:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Select ",p.jsx("strong",{children:"Thickness"})," (4/4, 5/4, 6/4, 8/4, etc.)"]}),p.jsxs("li",{children:["Select ",p.jsx("strong",{children:"Species"})," (matches species from your cut list)"]}),p.jsxs("li",{children:["Choose ",p.jsx("strong",{children:"Size"}),' (standard sizes like 8ft x 6" or custom dimensions)']}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"+ Add Board Type"'})]}),p.jsx("li",{children:"Repeat for each thickness/species combination in your cut list"}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"Calculate Stock Needed"'})]}),p.jsx("li",{children:"Review the shopping list showing quantity needed for each board type"}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"Use These Boards & Generate Cut Plan"'})," to apply"]})]}),p.jsx("h4",{children:"Option B: Manual Entry"}),p.jsx("p",{children:"If you already have lumber on hand, enter it manually with board name, length, width, thickness, species, and quantity."})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Tab 3: Cut Plan"}),p.jsx("p",{children:"Generate and view optimized cutting layouts:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"Generate Cut Plan"'})," (or use Calculate Stock workflow)"]}),p.jsxs("li",{children:["View statistics:",p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Efficiency"}),": Percentage of stock used vs. wasted"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Waste"}),": Board feet of material lost"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Boards Used"}),": How many stock boards needed"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Est. Cost"}),": Estimated material cost"]})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Visual diagrams"})," show exactly where each piece is placed on each board"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Estimated Material Cost"})," table shows quantity, dimensions, board feet, and costs"]}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"Regenerate Plan"'})," to recalculate if needed"]})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Pricing"}),p.jsx("p",{children:"The app includes default lumber prices for common species. To use your own prices:"}),p.jsxs("ol",{children:[p.jsx("li",{children:"Generate a cut plan"}),p.jsx("li",{children:'Scroll to "Estimated Material Cost"'}),p.jsx("li",{children:"Click any price field and enter your supplier's price per board foot"}),p.jsx("li",{children:"Total cost updates automatically"})]}),p.jsx("p",{children:p.jsx("em",{children:"Note: Default prices are estimates only. Update with your most current prices."})})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Exporting to PDF"}),p.jsxs("p",{children:["Click ",p.jsx("strong",{children:'"Export Project to PDF"'})," to generate a professional document containing:"]}),p.jsxs("ul",{children:[p.jsx("li",{children:"Project name and date"}),p.jsx("li",{children:"Stock boards table with dimensions and board feet"}),p.jsx("li",{children:"Cut list table with all pieces"}),p.jsx("li",{children:"Visual cut diagrams for each board"}),p.jsx("li",{children:"Efficiency statistics"})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Project Quantity (Building Multiples)"}),p.jsx("p",{children:"Making multiple identical items? Use the quantity feature to automatically calculate total materials:"}),p.jsxs("ol",{children:[p.jsxs("li",{children:["Create your project with the cut list for ",p.jsx("strong",{children:"one item"})]}),p.jsxs("li",{children:["Find the ",p.jsx("strong",{children:'"Building X"'})," selector in the project header"]}),p.jsx("li",{children:"Enter how many you're making (e.g., 4 chairs)"}),p.jsx("li",{children:"Stock boards are automatically recalculated to match"}),p.jsx("li",{children:"Cut plan regenerates with the correct quantities"})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Note:"})," The stock board dimensions stay the same - only the quantities increase to accommodate the additional pieces."]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Purchase Orders"}),p.jsx("p",{children:"Generate a printable shopping list for the lumber yard:"}),p.jsxs("ol",{children:[p.jsx("li",{children:"Set up your project with stock boards"}),p.jsxs("li",{children:["Click the ",p.jsx("strong",{children:'"Purchase Order"'})," button"]}),p.jsx("li",{children:"Review your lumber shopping list grouped by species, thickness, and dimensions"}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:'"Print / Save as PDF"'})," to print or save"]})]}),p.jsx("p",{children:"The purchase order includes:"}),p.jsxs("ul",{children:[p.jsx("li",{children:"Your contact information (set in Settings)"}),p.jsx("li",{children:"Project name and date"}),p.jsx("li",{children:"Quantity, species, dimensions, and board feet for each board type"}),p.jsx("li",{children:"Total piece count and board feet"})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Settings"}),p.jsxs("p",{children:["Click ",p.jsx("strong",{children:'"Settings"'})," in the header to configure your profile:"]}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Name / Company"}),": Your name or business name"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Address"}),": Street address, city, state, zip"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Phone"}),": Contact phone number"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Email"}),": Contact email address"]})]}),p.jsx("p",{children:"This information appears on your purchase orders and syncs with your account across all devices."})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Kerf and Rough Lumber"}),p.jsx("p",{children:"The optimizer accounts for realistic woodworking conditions:"}),p.jsxs("ul",{children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Saw kerf"}),': 1/8" (0.125") material loss between each cut']}),p.jsxs("li",{children:[p.jsx("strong",{children:"Rough lumber edges"}),': Additional 1/8" on each edge for jointing/straightening']}),p.jsx("li",{children:'A 6" wide piece requires at least 6.25" of rough stock width'})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Formulas"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Board Feet"})," = (Thickness x Width x Length) / 144"]}),p.jsxs("table",{className:"help-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Notation"}),p.jsx("th",{children:"Thickness"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:"4/4"}),p.jsx("td",{children:'1.00"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"5/4"}),p.jsx("td",{children:'1.25"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"6/4"}),p.jsx("td",{children:'1.50"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"8/4"}),p.jsx("td",{children:'2.00"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"10/4"}),p.jsx("td",{children:'2.50"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"12/4"}),p.jsx("td",{children:'3.00"'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"16/4"}),p.jsx("td",{children:'4.00"'})]})]})]})]}),p.jsxs("section",{className:"help-section",children:[p.jsx("h3",{children:"Troubleshooting"}),p.jsxs("table",{className:"help-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Issue"}),p.jsx("th",{children:"Solution"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{children:[p.jsx("td",{children:'"Still need: 4/4 Walnut" warning'}),p.jsx("td",{children:"Add a board type with that thickness and species"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Low efficiency percentage"}),p.jsx("td",{children:"Try different board sizes, or add smaller pieces to use scraps"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Pieces not fitting"}),p.jsx("td",{children:"Ensure stock boards are large enough; check species/thickness match"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Missing price"}),p.jsx("td",{children:"Enter a custom price in the $/BF field"})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Login issues"}),p.jsx("td",{children:'Check email confirmation; use "Forgot Password" if needed'})]}),p.jsxs("tr",{children:[p.jsx("td",{children:"Sync error"}),p.jsx("td",{children:"Check internet connection; data syncs automatically when restored"})]})]})]})]})]})]})}):null}function dx({isOpen:r,onClose:e,userProfile:n,onSave:a}){const[o,l]=We.useState(n);if(We.useEffect(()=>{l(n)},[n,r]),!r)return null;const c=d=>{d.preventDefault(),a(o),e()},h=(d,m)=>{l(b=>({...b,[d]:m}))};return p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content settings-modal",onClick:d=>d.stopPropagation(),children:[p.jsx("button",{className:"modal-close",onClick:e,children:""}),p.jsxs("div",{className:"settings-content",children:[p.jsx("h2",{children:"Settings"}),p.jsxs("form",{onSubmit:c,children:[p.jsxs("div",{className:"settings-section",children:[p.jsx("h3",{children:"Contact Information"}),p.jsx("p",{className:"settings-description",children:"This information will appear on your purchase orders."}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"profile-name",children:"Name / Company"}),p.jsx("input",{type:"text",id:"profile-name",value:o.name,onChange:d=>h("name",d.target.value),placeholder:"Your name or company name"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"profile-address",children:"Address"}),p.jsx("textarea",{id:"profile-address",value:o.address,onChange:d=>h("address",d.target.value),placeholder:"Street address, city, state, zip",rows:3})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"profile-phone",children:"Phone"}),p.jsx("input",{type:"tel",id:"profile-phone",value:o.phone,onChange:d=>h("phone",d.target.value),placeholder:"(555) 123-4567"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"profile-email",children:"Email"}),p.jsx("input",{type:"email",id:"profile-email",value:o.email,onChange:d=>h("email",d.target.value),placeholder:"you@example.com"})]})]}),p.jsxs("div",{className:"settings-actions",children:[p.jsx("button",{type:"submit",className:"btn-primary",children:"Save Settings"}),p.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"})]})]})]})]})})}function px({isOpen:r,onClose:e,project:n,boards:a,userProfile:o}){if(!r||!n)return null;const l=()=>{if(!a||a.length===0)return[];const T={};return a.forEach(N=>{const P=`${N.thickness}|${N.species||""}|${N.length}|${N.width}`;T[P]||(T[P]={thickness:N.thickness,species:N.species||"Unspecified",length:N.length,width:N.width,count:0,totalBF:0}),T[P].count+=N.quantity||1,T[P].totalBF+=N.boardFeet*(N.quantity||1)}),Object.values(T).sort((N,P)=>N.species!==P.species?N.species.localeCompare(P.species):N.thickness.localeCompare(P.thickness))},c=()=>{const T=n.sheetGoods||[];if(T.length===0)return[];const N={};return T.forEach(P=>{const D=`${P.product}|${P.thickness}|${P.length}|${P.width}`;N[D]||(N[D]={product:P.product,thickness:P.thickness,length:P.length,width:P.width,count:0,totalSqFt:0,pricePerSheet:P.pricePerSheet});const U=P.quantity||1;N[D].count+=U,N[D].totalSqFt+=P.length*P.width/144*U}),Object.values(N).sort((P,D)=>P.product!==D.product?P.product.localeCompare(D.product):P.thickness.localeCompare(D.thickness))},h=l(),d=c(),m=h.reduce((T,N)=>T+N.totalBF,0),b=h.reduce((T,N)=>T+N.count,0),A=d.reduce((T,N)=>T+N.count,0),k=d.reduce((T,N)=>T+N.totalSqFt,0),w=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),j=()=>{window.print()},S=T=>`${T.length>=12?`${Math.round(T.length/12)}'`:`${T.length}"`}  ${T.width}"  ${T.thickness}`;return p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-content purchase-order-modal",onClick:T=>T.stopPropagation(),children:[p.jsx("button",{className:"modal-close no-print",onClick:e,children:""}),p.jsxs("div",{className:"purchase-order",children:[p.jsx("div",{className:"po-header",children:p.jsxs("div",{className:"po-header-row",children:[p.jsxs("div",{className:"po-title-section",children:[p.jsx("h2",{children:d.length>0&&h.length>0?"Material Purchase Order":d.length>0?"Sheet Goods Purchase Order":"Lumber Purchase Order"}),p.jsxs("div",{className:"po-meta",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Project:"})," ",n.name]}),n.quantity>1&&p.jsxs("p",{children:[p.jsx("strong",{children:"Quantity:"})," ",n.quantity," items"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Date:"})," ",w]})]})]}),o?.name||o?.address||o?.phone||o?.email?p.jsxs("div",{className:"po-customer-info",children:[o.name&&p.jsx("p",{className:"po-customer-name",children:o.name}),o.address&&p.jsx("p",{className:"po-customer-address",children:o.address}),o.phone&&p.jsx("p",{children:o.phone}),o.email&&p.jsx("p",{children:o.email})]}):p.jsx("div",{className:"po-customer-info po-customer-hint no-print",children:p.jsx("p",{className:"po-hint-text",children:"Add your contact info in Settings"})})]})}),h.length>0&&p.jsxs(p.Fragment,{children:[d.length>0&&p.jsx("h3",{className:"po-section-title",children:"Lumber"}),p.jsxs("table",{className:"po-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Qty"}),p.jsx("th",{children:"Species"}),p.jsx("th",{children:"Dimensions"}),p.jsx("th",{children:"Board Feet"})]})}),p.jsx("tbody",{children:h.map((T,N)=>p.jsxs("tr",{children:[p.jsx("td",{className:"po-qty",children:T.count}),p.jsx("td",{className:"po-species",children:T.species}),p.jsx("td",{className:"po-dims",children:S(T)}),p.jsx("td",{className:"po-bf",children:T.totalBF.toFixed(2)})]},N))}),p.jsx("tfoot",{children:p.jsxs("tr",{className:"po-total-row",children:[p.jsx("td",{className:"po-qty",children:p.jsx("strong",{children:b})}),p.jsx("td",{colSpan:"2",children:p.jsx("strong",{children:"Total"})}),p.jsx("td",{className:"po-bf",children:p.jsxs("strong",{children:[m.toFixed(2)," BF"]})})]})})]})]}),d.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("h3",{className:"po-section-title",children:"Sheet Goods"}),p.jsxs("table",{className:"po-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Qty"}),p.jsx("th",{children:"Product"}),p.jsx("th",{children:"Dimensions"}),p.jsx("th",{children:"Sq Ft"})]})}),p.jsx("tbody",{children:d.map((T,N)=>p.jsxs("tr",{children:[p.jsx("td",{className:"po-qty",children:T.count}),p.jsxs("td",{className:"po-species",children:[T.product," ",T.thickness,'"']}),p.jsxs("td",{className:"po-dims",children:[T.length,'"  ',T.width,'"']}),p.jsx("td",{className:"po-bf",children:T.totalSqFt.toFixed(1)})]},N))}),p.jsx("tfoot",{children:p.jsxs("tr",{className:"po-total-row",children:[p.jsx("td",{className:"po-qty",children:p.jsx("strong",{children:A})}),p.jsx("td",{colSpan:"2",children:p.jsx("strong",{children:"Total"})}),p.jsx("td",{className:"po-bf",children:p.jsxs("strong",{children:[k.toFixed(1)," sq ft"]})})]})})]})]}),n.description&&p.jsx("div",{className:"po-notes",children:p.jsxs("p",{children:[p.jsx("strong",{children:"Notes:"})," ",n.description]})}),p.jsx("div",{className:"po-footer",children:p.jsx("p",{children:"Generated by CutSmart"})})]}),p.jsxs("div",{className:"po-actions no-print",children:[p.jsx("button",{onClick:j,className:"btn-primary",children:"Print / Save as PDF"}),p.jsx("button",{onClick:e,className:"btn-secondary",children:"Close"})]})]})})}function gx(){return p.jsxs("div",{className:"skeleton-project-card",children:[p.jsx("div",{className:"skeleton skeleton-title"}),p.jsx("div",{className:"skeleton skeleton-text"}),p.jsx("div",{className:"skeleton skeleton-meta"})]})}function mx({count:r=3}){return p.jsxs("div",{className:"project-list",children:[p.jsx("h2",{children:"Your Projects"}),[...Array(r)].map((e,n)=>p.jsx(gx,{},n))]})}function vx(){const[r,e]=We.useState(null),[n,a]=We.useState(!0),[o,l]=We.useState([]),[c,h]=We.useState(null),[d,m]=We.useState(null),[b,A]=We.useState(null),[k,w]=We.useState(!1),[j,S]=We.useState("cutlist"),[T,N]=We.useState("synced"),[P,D]=We.useState(!0),[U,le]=We.useState(!1),[ce,te]=We.useState(null),[$,Y]=We.useState(null),[ge,M]=We.useState(null),[H,se]=We.useState(null),[ae,we]=We.useState(!1),[ee,X]=We.useState(!1),[re,xe]=We.useState("lumber"),[Le,G]=We.useState(null),[L,I]=We.useState(null),[W,ie]=We.useState(null),[ue,pe]=We.useState(null),[ke,je]=We.useState(null),[Pe,Ve]=We.useState(null),[Ze,Xe]=We.useState(!1),[it,K]=We.useState({name:"",address:"",phone:"",email:""}),[Ke,Kt]=We.useState({isOpen:!1,title:"",message:"",onConfirm:null}),vt=(ne,me,qe)=>{Kt({isOpen:!0,title:ne,message:me,onConfirm:qe})},$e=()=>{Kt({isOpen:!1,title:"",message:"",onConfirm:null})},St=ne=>{const qe=c?.boards.find(Fe=>Fe.id===ne)?.name||"this board";vt("Delete Board?",`Are you sure you want to delete "${qe}"?`,()=>{Xn(ne),$e()})},et=ne=>{const qe=c?.cutPieces?.find(Fe=>Fe.id===ne)?.name||"this cut piece";vt("Delete Cut Piece?",`Are you sure you want to delete "${qe}"?`,()=>{En(ne),$e()})};We.useEffect(()=>{wt.auth.getSession().then(({data:{session:me}})=>{e(me),a(!1)});const{data:{subscription:ne}}=wt.auth.onAuthStateChange((me,qe)=>{e(qe)});return()=>ne.unsubscribe()},[]),We.useEffect(()=>{r?(Wt(),At()):(l([]),K({name:"",address:"",phone:"",email:""}))},[r]),We.useEffect(()=>{re==="lumber"?j==="sheetStock"?S("stock"):j==="sheetCutlist"?S("cutlist"):j==="sheetPlan"&&S("plan"):j==="stock"?S("sheetStock"):j==="cutlist"?S("sheetCutlist"):j==="plan"&&S("sheetPlan")},[re]);const At=async()=>{try{const{data:ne,error:me}=await wt.from("user_profiles").select("name, address, phone, email").single();if(me&&me.code!=="PGRST116"){console.error("Failed to load profile:",me);return}ne&&K({name:ne.name||"",address:ne.address||"",phone:ne.phone||"",email:ne.email||""})}catch(ne){console.error("Failed to load profile:",ne)}},yt=async ne=>{if(K(ne),!!r)try{const{error:me}=await wt.from("user_profiles").upsert({user_id:r.user.id,name:ne.name,address:ne.address,phone:ne.phone,email:ne.email,updated_at:new Date().toISOString()},{onConflict:"user_id"});me&&console.error("Failed to save profile:",me)}catch(me){console.error("Failed to save profile:",me)}},Wt=async()=>{N("syncing"),D(!0);try{const{data:ne,error:me}=await wt.from("projects").select("*").order("created_at",{ascending:!1});if(me)throw me;const qe=ne.map(He=>He.id);let Fe=[],ot=[],rt=[],$t=[];if(qe.length>0){const[He,Qe,kt,Bi]=await Promise.all([wt.from("boards").select("*").in("project_id",qe),wt.from("cut_pieces").select("*").in("project_id",qe),wt.from("sheet_goods").select("*").in("project_id",qe),wt.from("sheet_cut_pieces").select("*").in("project_id",qe)]);if(He.error)throw He.error;if(Qe.error)throw Qe.error;if(kt.error)throw kt.error;if(Bi.error)throw Bi.error;Fe=He.data||[],ot=Qe.data||[],rt=kt.data||[],$t=Bi.data||[]}const at=ne.map(He=>({id:He.id,name:He.name,description:He.description,workflow:He.workflow,quantity:He.quantity||1,cutPlan:He.cut_plan,createdAt:He.created_at,boards:Fe.filter(Qe=>Qe.project_id===He.id).map(Qe=>({id:Qe.id,name:Qe.name,length:Number(Qe.length),width:Number(Qe.width),thickness:Qe.thickness,thicknessInches:Number(Qe.thickness_inches),species:Qe.species,quantity:Qe.quantity,boardFeetPerPiece:Number(Qe.board_feet_per_piece),boardFeet:Number(Qe.board_feet)})),cutPieces:ot.filter(Qe=>Qe.project_id===He.id).map(Qe=>({id:Qe.id,name:Qe.name,length:Number(Qe.length),width:Number(Qe.width),thickness:Qe.thickness,species:Qe.species,quantity:Qe.quantity})),sheetGoods:rt.filter(Qe=>Qe.project_id===He.id).map(Qe=>({id:Qe.id,name:Qe.name,product:Qe.product_type,thickness:Qe.thickness,length:Number(Qe.length),width:Number(Qe.width),quantity:Qe.quantity,pricePerSheet:Qe.price_per_sheet?Number(Qe.price_per_sheet):null,sqFtPerSheet:Number(Qe.length)*Number(Qe.width)/144})),sheetCutPieces:$t.filter(Qe=>Qe.project_id===He.id).map(Qe=>({id:Qe.id,name:Qe.name,length:Number(Qe.length),width:Number(Qe.width),thickness:Qe.thickness,product:Qe.product_type,quantity:Qe.quantity,grainDirection:Qe.grain_direction||"any"})),sheetCutPlan:He.sheet_cut_plan}));l(at),N("synced")}catch(ne){console.error("Error loading projects:",ne),N("error")}finally{D(!1)}},It=c?.workflow||"calculate";We.useEffect(()=>{if(c){const ne=c.workflow||"calculate";S(ne==="known"?"stock":"cutlist")}},[c?.id]);const zt=async ne=>{const me=parseInt(ne)||1;if(!(me<1||me===c.quantity)){N("syncing"),le(!0);try{const qe=c.cutPieces||[],Fe=c.boards||[],ot=qe.map(Qe=>({...Qe,quantity:(Qe.quantity||1)*me}));let rt=Fe,$t=null;if(Fe.length>0&&qe.length>0){const Qe=[],kt=new Set;Fe.forEach(Ot=>{const ur=`${Ot.length}|${Ot.width}|${Ot.thickness}|${Ot.species||""}`;if(!kt.has(ur)){kt.add(ur);const mn=`${Ot.length>=12?`${Math.round(Ot.length/12)}ft`:`${Ot.length}"`}  ${Ot.width}"`;Qe.push({name:mn,length:Ot.length,width:Ot.width,thickness:Ot.thickness,species:Ot.species})}});const Bi=Fm(ot,Qe);Bi&&Bi.boards&&(rt=Bi.boards.map((Ot,ur)=>({...Ot,id:Fe[ur]?.id||Date.now()+ur})),$t=Bi.cutPlan)}else Fe.length>0&&qe.length===0&&($t=null);if(await wt.from("boards").delete().eq("project_id",c.id),rt.length>0){const Qe=rt.map(Ot=>({project_id:c.id,name:Ot.name,length:Ot.length,width:Ot.width,thickness:Ot.thickness,thickness_inches:Ot.thicknessInches||Gl(Ot.thickness)||1,species:Ot.species,quantity:Ot.quantity||1,board_feet_per_piece:Ot.boardFeetPerPiece||Ot.boardFeet,board_feet:Ot.boardFeet})),{data:kt,error:Bi}=await wt.from("boards").insert(Qe).select();if(Bi)throw Bi;rt=kt.map(Ot=>({id:Ot.id,name:Ot.name,length:Number(Ot.length),width:Number(Ot.width),thickness:Ot.thickness,thicknessInches:Number(Ot.thickness_inches),species:Ot.species,quantity:Ot.quantity,boardFeetPerPiece:Number(Ot.board_feet_per_piece),boardFeet:Number(Ot.board_feet)}))}const{error:at}=await wt.from("projects").update({quantity:me,cut_plan:$t}).eq("id",c.id);if(at)throw at;const He={...c,quantity:me,boards:rt,cutPlan:$t};l(o.map(Qe=>Qe.id===c.id?He:Qe)),h(He),N("synced")}catch(qe){console.error("Error updating project quantity:",qe),N("error")}finally{le(!1)}}},sn=async ne=>{N("syncing");try{const{data:me,error:qe}=await wt.from("projects").insert({user_id:r.user.id,name:ne.name,description:ne.description,workflow:ne.workflow,quantity:ne.quantity||1}).select().single();if(qe)throw qe;const Fe={id:me.id,name:me.name,description:me.description,workflow:me.workflow,quantity:me.quantity||1,cutPlan:null,sheetCutPlan:null,createdAt:me.created_at,boards:[],cutPieces:[],sheetGoods:[],sheetCutPieces:[]};l([Fe,...o]),h(Fe),w(!1),N("synced")}catch(me){console.error("Error creating project:",me),N("error")}},tn=ne=>{h(ne),m(null),A(null),S("stock")},ft=async ne=>{if(confirm("Are you sure you want to delete this project?")){N("syncing");try{const{error:me}=await wt.from("projects").delete().eq("id",ne);if(me)throw me;l(o.filter(qe=>qe.id!==ne)),c?.id===ne&&h(null),N("synced")}catch(me){console.error("Error deleting project:",me),N("error")}}},Ht=async ne=>{N("syncing");try{const{data:me,error:qe}=await wt.from("boards").insert({project_id:c.id,name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,thickness_inches:ne.thicknessInches,species:ne.species,quantity:ne.quantity,board_feet_per_piece:ne.boardFeetPerPiece,board_feet:ne.boardFeet}).select().single();if(qe)throw qe;const Fe={id:me.id,name:me.name,length:Number(me.length),width:Number(me.width),thickness:me.thickness,thicknessInches:Number(me.thickness_inches),species:me.species,quantity:me.quantity,boardFeetPerPiece:Number(me.board_feet_per_piece),boardFeet:Number(me.board_feet)},ot={...c,boards:[...c.boards,Fe],cutPlan:null};l(o.map(rt=>rt.id===c.id?ot:rt)),h(ot),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error adding board:",me),N("error")}},dt=async ne=>{N("syncing");try{const{error:me}=await wt.from("boards").update({name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,thickness_inches:ne.thicknessInches,species:ne.species,quantity:ne.quantity,board_feet_per_piece:ne.boardFeetPerPiece,board_feet:ne.boardFeet}).eq("id",ne.id);if(me)throw me;const qe={...c,boards:c.boards.map(Fe=>Fe.id===ne.id?ne:Fe),cutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),m(null),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error updating board:",me),N("error")}},Xn=async ne=>{N("syncing");try{const{error:me}=await wt.from("boards").delete().eq("id",ne);if(me)throw me;const qe={...c,boards:c.boards.filter(Fe=>Fe.id!==ne),cutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error deleting board:",me),N("error")}},rn=(ne,me)=>{te(me),ne.dataTransfer.effectAllowed="move"},Et=(ne,me)=>{ne.preventDefault(),me!==ce&&Y(me)},Bt=async(ne,me)=>{if(ne.preventDefault(),!ce||ce===me){te(null),Y(null);return}const qe=[...c.boards],Fe=qe.findIndex(at=>at.id===ce),ot=qe.findIndex(at=>at.id===me);if(Fe===-1||ot===-1)return;const[rt]=qe.splice(Fe,1);qe.splice(ot,0,rt);const $t={...c,boards:qe,cutPlan:null};l(o.map(at=>at.id===c.id?$t:at)),h($t),te(null),Y(null),N("syncing");try{await wt.from("boards").delete().eq("project_id",c.id);const at=qe.map(He=>({id:He.id,project_id:c.id,name:He.name,length:He.length,width:He.width,thickness:He.thickness,thickness_inches:He.thicknessInches,species:He.species,quantity:He.quantity,board_feet_per_piece:He.boardFeetPerPiece,board_feet:He.boardFeet}));await wt.from("boards").insert(at),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(at){console.error("Error reordering boards:",at),N("error")}},on=()=>{te(null),Y(null)},Nt=async ne=>{N("syncing");try{const{data:me,error:qe}=await wt.from("cut_pieces").insert({project_id:c.id,name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,species:ne.species,quantity:ne.quantity}).select().single();if(qe)throw qe;const Fe={id:me.id,name:me.name,length:Number(me.length),width:Number(me.width),thickness:me.thickness,species:me.species,quantity:me.quantity},ot=c.cutPieces||[],rt={...c,cutPieces:[...ot,Fe],cutPlan:null};l(o.map($t=>$t.id===c.id?rt:$t)),h(rt),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error adding cut piece:",me),N("error")}},On=async ne=>{const me=await ne.text(),{pieces:qe,errors:Fe}=Em(me,"lumber");if(qe.length===0){alert(Fe.length>0?`Import failed:
${Fe.join(`
`)}`:"No valid pieces found in file.");return}N("syncing");try{const ot=qe.map(kt=>({project_id:c.id,name:kt.name,length:kt.length,width:kt.width,thickness:kt.thickness,species:kt.species,quantity:kt.quantity})),{data:rt,error:$t}=await wt.from("cut_pieces").insert(ot).select();if($t)throw $t;const at=rt.map(kt=>({id:kt.id,name:kt.name,length:Number(kt.length),width:Number(kt.width),thickness:kt.thickness,species:kt.species,quantity:kt.quantity})),He={...c,cutPieces:[...c.cutPieces||[],...at],cutPlan:null};l(o.map(kt=>kt.id===c.id?He:kt)),h(He),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced");let Qe=`Imported ${at.length} piece${at.length!==1?"s":""} successfully.`;Fe.length>0&&(Qe+=`

Skipped ${Fe.length} row(s):
${Fe.join(`
`)}`),alert(Qe)}catch(ot){console.error("Error importing cut pieces:",ot),N("error"),alert("Error importing cut pieces: "+ot.message)}},Lt=async ne=>{const me=await ne.text(),{pieces:qe,errors:Fe}=Em(me,"sheet");if(qe.length===0){alert(Fe.length>0?`Import failed:
${Fe.join(`
`)}`:"No valid pieces found in file.");return}N("syncing");try{const ot=qe.map(kt=>({project_id:c.id,name:kt.name,length:kt.length,width:kt.width,thickness:kt.thickness,product_type:kt.product,quantity:kt.quantity,grain_direction:kt.grainDirection||"any"})),{data:rt,error:$t}=await wt.from("sheet_cut_pieces").insert(ot).select();if($t)throw $t;const at=rt.map(kt=>({id:kt.id,name:kt.name,length:Number(kt.length),width:Number(kt.width),thickness:kt.thickness,product:kt.product_type,quantity:kt.quantity,grainDirection:kt.grain_direction})),He={...c,sheetCutPieces:[...c.sheetCutPieces||[],...at],sheetCutPlan:null};l(o.map(kt=>kt.id===c.id?He:kt)),h(He),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced");let Qe=`Imported ${at.length} piece${at.length!==1?"s":""} successfully.`;Fe.length>0&&(Qe+=`

Skipped ${Fe.length} row(s):
${Fe.join(`
`)}`),alert(Qe)}catch(ot){console.error("Error importing sheet cut pieces:",ot),N("error"),alert("Error importing sheet cut pieces: "+ot.message)}},Mt=async ne=>{N("syncing");try{const{error:me}=await wt.from("cut_pieces").update({name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,species:ne.species,quantity:ne.quantity}).eq("id",ne.id);if(me)throw me;const qe=c.cutPieces||[],Fe={...c,cutPieces:qe.map(ot=>ot.id===ne.id?ne:ot),cutPlan:null};l(o.map(ot=>ot.id===c.id?Fe:ot)),h(Fe),A(null),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error updating cut piece:",me),N("error")}},En=async ne=>{N("syncing");try{const{error:me}=await wt.from("cut_pieces").delete().eq("id",ne);if(me)throw me;const qe=c.cutPieces||[],Fe={...c,cutPieces:qe.filter(ot=>ot.id!==ne),cutPlan:null};l(o.map(ot=>ot.id===c.id?Fe:ot)),h(Fe),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error deleting cut piece:",me),N("error")}},Jt=(ne,me)=>{M(me),ne.dataTransfer.effectAllowed="move"},mt=(ne,me)=>{ne.preventDefault(),me!==ge&&se(me)},un=async(ne,me)=>{if(ne.preventDefault(),!ge||ge===me){M(null),se(null);return}const qe=[...c.cutPieces||[]],Fe=qe.findIndex(at=>at.id===ge),ot=qe.findIndex(at=>at.id===me);if(Fe===-1||ot===-1)return;const[rt]=qe.splice(Fe,1);qe.splice(ot,0,rt);const $t={...c,cutPieces:qe,cutPlan:null};l(o.map(at=>at.id===c.id?$t:at)),h($t),M(null),se(null),N("syncing");try{await wt.from("cut_pieces").delete().eq("project_id",c.id);const at=qe.map(He=>({id:He.id,project_id:c.id,name:He.name,length:He.length,width:He.width,thickness:He.thickness,species:He.species,quantity:He.quantity}));await wt.from("cut_pieces").insert(at),await wt.from("projects").update({cut_plan:null}).eq("id",c.id),N("synced")}catch(at){console.error("Error reordering cut pieces:",at),N("error")}},Or=()=>{M(null),se(null)},Pi=async ne=>{N("syncing");try{const{data:me,error:qe}=await wt.from("sheet_goods").insert({project_id:c.id,name:ne.name,product_type:ne.product,thickness:ne.thickness,length:ne.length,width:ne.width,quantity:ne.quantity,price_per_sheet:ne.pricePerSheet}).select().single();if(qe)throw qe;const Fe={id:me.id,name:me.name,product:me.product_type,thickness:me.thickness,length:Number(me.length),width:Number(me.width),quantity:me.quantity,pricePerSheet:me.price_per_sheet?Number(me.price_per_sheet):null,sqFtPerSheet:Number(me.length)*Number(me.width)/144},ot={...c,sheetGoods:[...c.sheetGoods||[],Fe],sheetCutPlan:null};l(o.map(rt=>rt.id===c.id?ot:rt)),h(ot),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error adding sheet goods:",me),N("error")}},Fr=async ne=>{N("syncing");try{const{error:me}=await wt.from("sheet_goods").update({name:ne.name,product_type:ne.product,thickness:ne.thickness,length:ne.length,width:ne.width,quantity:ne.quantity,price_per_sheet:ne.pricePerSheet}).eq("id",ne.id);if(me)throw me;const qe={...c,sheetGoods:(c.sheetGoods||[]).map(Fe=>Fe.id===ne.id?{...ne,sqFtPerSheet:Number(ne.length)*Number(ne.width)/144}:Fe),sheetCutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),G(null),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error updating sheet goods:",me),N("error")}},_r=async ne=>{N("syncing");try{const{error:me}=await wt.from("sheet_goods").delete().eq("id",ne);if(me)throw me;const qe={...c,sheetGoods:(c.sheetGoods||[]).filter(Fe=>Fe.id!==ne),sheetCutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error deleting sheet goods:",me),N("error")}},bt=async ne=>{N("syncing");try{const{data:me,error:qe}=await wt.from("sheet_cut_pieces").insert({project_id:c.id,name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,product_type:ne.product,quantity:ne.quantity,grain_direction:ne.grainDirection||"any"}).select().single();if(qe)throw qe;const Fe={id:me.id,name:me.name,length:Number(me.length),width:Number(me.width),thickness:me.thickness,product:me.product_type,quantity:me.quantity,grainDirection:me.grain_direction},ot={...c,sheetCutPieces:[...c.sheetCutPieces||[],Fe],sheetCutPlan:null};l(o.map(rt=>rt.id===c.id?ot:rt)),h(ot),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error adding sheet cut piece:",me),N("error")}},la=async ne=>{N("syncing");try{const{error:me}=await wt.from("sheet_cut_pieces").update({name:ne.name,length:ne.length,width:ne.width,thickness:ne.thickness,product_type:ne.product,quantity:ne.quantity,grain_direction:ne.grainDirection||"any"}).eq("id",ne.id);if(me)throw me;const qe={...c,sheetCutPieces:(c.sheetCutPieces||[]).map(Fe=>Fe.id===ne.id?ne:Fe),sheetCutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),I(null),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error updating sheet cut piece:",me),N("error")}},Ir=async ne=>{N("syncing");try{const{error:me}=await wt.from("sheet_cut_pieces").delete().eq("id",ne);if(me)throw me;const qe={...c,sheetCutPieces:(c.sheetCutPieces||[]).filter(Fe=>Fe.id!==ne),sheetCutPlan:null};l(o.map(Fe=>Fe.id===c.id?qe:Fe)),h(qe),await wt.from("projects").update({sheet_cut_plan:null}).eq("id",c.id),N("synced")}catch(me){console.error("Error deleting sheet cut piece:",me),N("error")}},or=(ne,me)=>{ie(me),ne.dataTransfer.effectAllowed="move"},lr=(ne,me)=>{ne.preventDefault(),me!==W&&pe(me)},Un=(ne,me)=>{if(ne.preventDefault(),!W||W===me){ie(null),pe(null);return}const qe=[...c.sheetGoods||[]],Fe=qe.findIndex(at=>at.id===W),ot=qe.findIndex(at=>at.id===me);if(Fe===-1||ot===-1)return;const[rt]=qe.splice(Fe,1);qe.splice(ot,0,rt);const $t={...c,sheetGoods:qe,sheetCutPlan:null};l(o.map(at=>at.id===c.id?$t:at)),h($t),ie(null),pe(null)},ri=()=>{ie(null),pe(null)},mi=(ne,me)=>{je(me),ne.dataTransfer.effectAllowed="move"},Aa=(ne,me)=>{ne.preventDefault(),me!==ke&&Ve(me)},Hi=(ne,me)=>{if(ne.preventDefault(),!ke||ke===me){je(null),Ve(null);return}const qe=[...c.sheetCutPieces||[]],Fe=qe.findIndex(at=>at.id===ke),ot=qe.findIndex(at=>at.id===me);if(Fe===-1||ot===-1)return;const[rt]=qe.splice(Fe,1);qe.splice(ot,0,rt);const $t={...c,sheetCutPieces:qe,sheetCutPlan:null};l(o.map(at=>at.id===c.id?$t:at)),h($t),je(null),Ve(null)},kn=()=>{je(null),Ve(null)},Rn=async()=>{const ne=c.sheetCutPieces||[],me=c.sheetGoods||[];if(ne.length===0){alert("Add cut pieces first before generating a plan.");return}if(me.length===0){alert("Add sheet stock first before generating a plan.");return}le(!0),await new Promise(He=>setTimeout(He,100));const qe=me.flatMap(He=>{const Qe=He.quantity||1;return Array.from({length:Qe},(kt,Bi)=>({id:`${He.id}-${Bi}`,name:He.name||`${He.product} ${He.thickness}"`,length:He.length,width:He.width,thickness:He.thickness,thicknessInches:parseFloat(He.thickness.replace(/[^\d.]/g,""))||.75,species:He.product,quantity:1,boardFeetPerPiece:He.length*He.width/144,boardFeet:He.length*He.width/144,materialType:"sheet",pricePerSheet:He.pricePerSheet}))}),Fe=ne.map(He=>({...He,species:He.product,thickness:He.thickness})),ot=c.quantity||1,rt=ot>1?Fe.map(He=>({...He,quantity:(He.quantity||1)*ot})):Fe,$t=su(qe,rt,.125),at={...c,sheetCutPlan:$t};l(o.map(He=>He.id===c.id?at:He)),h(at),S("sheetPlan"),N("syncing");try{const{error:He}=await wt.from("projects").update({sheet_cut_plan:$t}).eq("id",c.id);if(He)throw He;N("synced")}catch(He){console.error("Error saving sheet cut plan:",He),N("error")}finally{le(!1)}},vi=async()=>{const ne=c.cutPieces||[];if(ne.length===0){alert("Add cut pieces first before generating a plan.");return}if(c.boards.length===0){alert("Add stock boards first before generating a plan.");return}le(!0),await new Promise(rt=>setTimeout(rt,100));const me=c.quantity||1,qe=me>1?ne.map(rt=>({...rt,quantity:(rt.quantity||1)*me})):ne,Fe=su(c.boards,qe),ot={...c,cutPlan:Fe};l(o.map(rt=>rt.id===c.id?ot:rt)),h(ot),S("plan"),N("syncing");try{const{error:rt}=await wt.from("projects").update({cut_plan:Fe}).eq("id",c.id);if(rt)throw rt;N("synced")}catch(rt){console.error("Error saving cut plan:",rt),N("error")}finally{le(!1)}},cr=async(ne,me)=>{N("syncing");try{await wt.from("boards").delete().eq("project_id",c.id);const qe=ne.map(He=>({project_id:c.id,name:He.name,length:He.length,width:He.width,thickness:He.thickness,thickness_inches:He.thicknessInches,species:He.species,quantity:He.quantity||1,board_feet_per_piece:He.boardFeetPerPiece||He.boardFeet,board_feet:He.boardFeet})),{data:Fe,error:ot}=await wt.from("boards").insert(qe).select();if(ot)throw ot;const{error:rt}=await wt.from("projects").update({cut_plan:me}).eq("id",c.id);if(rt)throw rt;const $t=Fe.map(He=>({id:He.id,name:He.name,length:Number(He.length),width:Number(He.width),thickness:He.thickness,thicknessInches:Number(He.thickness_inches),species:He.species,quantity:He.quantity,boardFeetPerPiece:Number(He.board_feet_per_piece),boardFeet:Number(He.board_feet)})),at={...c,boards:$t,cutPlan:me};l(o.map(He=>He.id===c.id?at:He)),h(at),S("plan"),N("synced")}catch(qe){console.error("Error applying calculated stock:",qe),N("error")}},xr=async()=>{await wt.auth.signOut(),h(null),l([])},ja=c?_y(c.boards):[],Sr=c?[...new Set(c.boards.map(ne=>ne.species).filter(Boolean))]:[],Dn=c?.cutPieces||[],zr=c?.quantity||1,Rr=()=>zr<=1?Dn:Dn.map(ne=>({...ne,quantity:(ne.quantity||1)*zr}));return n?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Loading..."})]}):r?p.jsxs("div",{className:"app",children:[p.jsxs("div",{className:"user-header",children:[p.jsx("span",{className:"user-email",children:r.user.email}),p.jsxs("div",{className:"sync-status",children:[p.jsx("span",{className:`sync-indicator ${T}`}),p.jsx("span",{children:T==="syncing"?"Syncing...":T==="error"?"Sync error":"Synced"})]}),p.jsx("button",{onClick:xr,className:"btn-signout",children:"Sign Out"})]}),p.jsx("header",{children:p.jsxs("div",{className:"header-content",children:[p.jsx("img",{src:"/logo.png",alt:"CutSmart by The Joinery",className:"header-logo"}),p.jsx(Cm,{icon:"",label:"Menu",className:"header-menu",items:[{icon:"",label:"Settings",onClick:()=>Xe(!0)},{icon:"?",label:"Help",onClick:()=>we(!0)}]})]})}),p.jsx(fx,{isOpen:ae,onClose:()=>we(!1)}),p.jsx(dx,{isOpen:Ze,onClose:()=>Xe(!1),userProfile:it,onSave:yt}),p.jsx(px,{isOpen:ee,onClose:()=>X(!1),project:c,boards:c?.boards||[],userProfile:it}),p.jsx(Z3,{isOpen:Ke.isOpen,title:Ke.title,message:Ke.message,onConfirm:Ke.onConfirm,onCancel:$e}),p.jsx("main",{children:c?p.jsxs("div",{className:"project-view",children:[p.jsxs("div",{className:"project-header",children:[p.jsxs("div",{className:"project-header-top",children:[p.jsx("button",{onClick:()=>h(null),className:"btn-back",children:" Back to Projects"}),p.jsx(Cm,{label:"Actions",className:"project-actions-dropdown",items:[{icon:"",label:"Export to PDF",onClick:()=>m4(c)},...c.boards.length>0?[{icon:"",label:"Purchase Order",onClick:()=>X(!0)}]:[]]})]}),p.jsxs("div",{className:"project-title",children:[p.jsx("h2",{children:c.name}),c.description&&p.jsx("p",{className:"project-description",children:c.description})]}),p.jsxs("div",{className:"project-quantity-selector",children:[p.jsx("label",{children:"Making:"}),p.jsx("input",{type:"number",min:"1",max:"100",value:c.quantity||1,onChange:ne=>zt(ne.target.value),className:"project-quantity-input"}),p.jsx("span",{className:"project-quantity-label",children:(c.quantity||1)===1?"item":"items"})]})]}),p.jsxs("div",{className:"material-type-toggle",children:[p.jsxs("button",{className:`material-type-btn ${re==="lumber"?"active":""}`,onClick:()=>xe("lumber"),children:[" Lumber",(c?.boards?.length||0)+(c?.cutPieces?.length||0)>0&&p.jsx("span",{className:"material-badge",children:(c.boards?.length||0)+(c.cutPieces?.length||0)})]}),p.jsxs("button",{className:`material-type-btn ${re==="sheet"?"active":""}`,onClick:()=>xe("sheet"),children:[" Sheet Goods",(c?.sheetGoods?.length||0)+(c?.sheetCutPieces?.length||0)>0&&p.jsx("span",{className:"material-badge",children:(c.sheetGoods?.length||0)+(c.sheetCutPieces?.length||0)})]})]}),re==="lumber"&&p.jsx("div",{className:"workflow-indicator",children:It==="calculate"?p.jsx("span",{children:" Calculate Stock Workflow"}):p.jsx("span",{children:" Known Stock Workflow"})}),p.jsx("div",{className:"tab-nav",children:re==="lumber"?It==="calculate"?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:`tab-btn ${j==="cutlist"?"active":""}`,onClick:()=>S("cutlist"),children:[p.jsx("span",{className:"tab-step",children:"1"}),"Cut List (",Dn.length,")"]}),p.jsxs("button",{className:`tab-btn ${j==="stock"?"active":""}`,onClick:()=>S("stock"),children:[p.jsx("span",{className:"tab-step",children:"2"}),"Stock Boards (",c.boards.length,")"]}),p.jsxs("button",{className:`tab-btn ${j==="plan"?"active":""}`,onClick:()=>S("plan"),children:[p.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",c.cutPlan?"":""]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:`tab-btn ${j==="stock"?"active":""}`,onClick:()=>S("stock"),children:[p.jsx("span",{className:"tab-step",children:"1"}),"Stock Boards (",c.boards.length,")"]}),p.jsxs("button",{className:`tab-btn ${j==="cutlist"?"active":""}`,onClick:()=>S("cutlist"),children:[p.jsx("span",{className:"tab-step",children:"2"}),"Cut List (",Dn.length,")"]}),p.jsxs("button",{className:`tab-btn ${j==="plan"?"active":""}`,onClick:()=>S("plan"),children:[p.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",c.cutPlan?"":""]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:`tab-btn ${j==="sheetStock"?"active":""}`,onClick:()=>S("sheetStock"),children:[p.jsx("span",{className:"tab-step",children:"1"}),"Sheets (",c.sheetGoods?.length||0,")"]}),p.jsxs("button",{className:`tab-btn ${j==="sheetCutlist"?"active":""}`,onClick:()=>S("sheetCutlist"),children:[p.jsx("span",{className:"tab-step",children:"2"}),"Cut List (",c.sheetCutPieces?.length||0,")"]}),p.jsxs("button",{className:`tab-btn ${j==="sheetPlan"?"active":""}`,onClick:()=>S("sheetPlan"),children:[p.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",c.sheetCutPlan?"":""]})]})}),p.jsxs("div",{className:"project-content",children:[p.jsxs("div",{className:"main-section",children:[j==="stock"&&p.jsx("div",{className:"boards-section",children:It==="calculate"&&c.boards.length===0&&Dn.length>0?p.jsx(lx,{cutPieces:Rr(),onApplyStock:cr,projectQuantity:zr}):It==="calculate"&&c.boards.length===0&&Dn.length===0?p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("h3",{children:"Step 2: Calculate Stock Needed"}),p.jsx("p",{children:"First, add your cut pieces in the Cut List tab to calculate how much lumber you need."}),p.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]}):p.jsxs(p.Fragment,{children:[d?p.jsx(Rm,{initialData:d,onSubmit:dt,onCancel:()=>m(null)}):p.jsx(Rm,{onSubmit:Ht}),c.boards.length>0?p.jsxs("div",{className:"board-list",children:[p.jsx("h3",{children:"Stock Boards"}),p.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),c.boards.map(ne=>p.jsx(ax,{board:ne,onEdit:m,onDelete:St,onDragStart:rn,onDragOver:Et,onDrop:Bt,onDragEnd:on,isDragging:ce===ne.id,isDragOver:$===ne.id},ne.id)),It==="known"&&Dn.length===0&&p.jsxs("div",{className:"next-step-prompt",children:[p.jsx("p",{children:"Stock boards added! Now add your cut pieces."}),p.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Continue to Cut List "})]})]}):p.jsxs("div",{className:"empty-state empty-state-inline",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No stock boards yet"}),p.jsx("p",{children:"Add the lumber you have available using the form above."})]}),It==="calculate"&&c.boards.length>0&&Dn.length>0&&p.jsx("div",{className:"recalculate-section",children:p.jsx("button",{onClick:async()=>{N("syncing");try{await wt.from("boards").delete().eq("project_id",c.id),await wt.from("projects").update({cut_plan:null}).eq("id",c.id);const ne={...c,boards:[],cutPlan:null};l(o.map(me=>me.id===c.id?ne:me)),h(ne),N("synced")}catch(ne){console.error("Error clearing boards:",ne),N("error")}},className:"btn-secondary",children:"Clear Boards & Recalculate"})})]})}),j==="cutlist"&&p.jsxs("div",{className:"cut-list-section",children:[b?p.jsx(Bm,{initialData:b,onSubmit:Mt,onCancel:()=>A(null),availableThicknesses:ja,availableSpecies:Sr}):p.jsx(Bm,{onSubmit:Nt,availableThicknesses:ja,availableSpecies:Sr}),p.jsxs("div",{className:"import-csv-section",children:[p.jsx("input",{type:"file",accept:".csv,.tsv,.txt",style:{display:"none"},id:"lumber-csv-import",onChange:ne=>{ne.target.files[0]&&(On(ne.target.files[0]),ne.target.value="")}}),p.jsx("button",{className:"btn-secondary btn-import-csv",onClick:()=>document.getElementById("lumber-csv-import").click(),children:" Import CSV"}),p.jsx("button",{className:"btn-link btn-download-template",onClick:()=>{const ne=new Blob([km("lumber")],{type:"text/csv"}),me=URL.createObjectURL(ne),qe=document.createElement("a");qe.href=me,qe.download="lumber_cut_list_template.csv",qe.click(),URL.revokeObjectURL(me)},children:"Download template"})]}),Dn.length>0?p.jsxs("div",{className:"cut-piece-list",children:[p.jsx("h3",{children:"Cut Pieces"}),p.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),Dn.map(ne=>p.jsx(sx,{piece:ne,onEdit:A,onDelete:et,onDragStart:Jt,onDragOver:mt,onDrop:un,onDragEnd:Or,isDragging:ge===ne.id,isDragOver:H===ne.id},ne.id))]}):p.jsxs("div",{className:"empty-state empty-state-inline",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No cut pieces yet"}),p.jsx("p",{children:"Add the pieces you need to cut for your project using the form above."})]}),Dn.length>0&&p.jsxs("div",{className:"next-step-section",children:[It==="calculate"&&c.boards.length===0&&p.jsxs("div",{className:"next-step-prompt",children:[p.jsx("p",{children:"Cut list ready! Now calculate how much lumber you need."}),p.jsx("button",{onClick:()=>S("stock"),className:"btn-primary btn-large",children:"Continue to Calculate Stock "})]}),It==="known"&&c.boards.length===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"You need stock boards to generate a cut plan."}),p.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Go to Stock Boards"})]}),c.boards.length>0&&p.jsx("div",{className:"generate-plan-section",children:p.jsx("button",{onClick:vi,className:"btn-primary btn-large",children:"Generate Cut Plan "})})]})]}),j==="plan"&&p.jsx("div",{className:"cut-plan-section",children:c.cutPlan?p.jsx(Mm,{cutPlan:c.cutPlan,boards:c.boards,onRegenerate:vi,isRegenerating:U,workflowType:c.workflow}):p.jsxs("div",{className:"no-plan",children:[p.jsx("h3",{children:"Cut Plan"}),p.jsx("p",{children:"No cut plan generated yet."}),It==="calculate"?p.jsxs(p.Fragment,{children:[Dn.length===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Start by adding your cut pieces."}),p.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]}),Dn.length>0&&c.boards.length===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Next, calculate how much lumber you need."}),p.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Calculate Stock Needed"})]})]}):p.jsxs(p.Fragment,{children:[c.boards.length===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Start by adding your stock boards."}),p.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Go to Stock Boards"})]}),c.boards.length>0&&Dn.length===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Next, add your cut pieces."}),p.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]})]}),Dn.length>0&&c.boards.length>0&&p.jsx("button",{onClick:vi,className:"btn-primary btn-large",children:"Generate Cut Plan"})]})}),j==="sheetStock"&&p.jsxs("div",{className:"boards-section sheet-goods-section",children:[Le?p.jsx(Dm,{initialData:Le,onSubmit:Fr,onCancel:()=>G(null)}):p.jsx(Dm,{onSubmit:Pi}),(c.sheetGoods?.length||0)>0?p.jsxs("div",{className:"board-list sheet-list",children:[p.jsx("h3",{children:"Sheet Stock"}),p.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),c.sheetGoods.map(ne=>p.jsx(ix,{sheet:ne,onEdit:G,onDelete:_r,onDragStart:or,onDragOver:lr,onDrop:Un,onDragEnd:ri,isDragging:W===ne.id,isDragOver:ue===ne.id},ne.id)),(c.sheetCutPieces?.length||0)===0&&p.jsxs("div",{className:"next-step-prompt",children:[p.jsx("p",{children:"Sheet stock added! Now add your cut pieces."}),p.jsx("button",{onClick:()=>S("sheetCutlist"),className:"btn-primary",children:"Continue to Cut List "})]})]}):p.jsxs("div",{className:"empty-state empty-state-inline",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No sheet stock yet"}),p.jsx("p",{children:"Add the plywood, MDF, or other sheet goods you have available using the form above."})]})]}),j==="sheetCutlist"&&p.jsxs("div",{className:"cut-list-section sheet-cut-list-section",children:[L?p.jsx(Pm,{initialData:L,onSubmit:la,onCancel:()=>I(null),availableProducts:[...new Set((c.sheetGoods||[]).map(ne=>ne.product))],availableThicknesses:[...new Set((c.sheetGoods||[]).map(ne=>ne.thickness))]}):p.jsx(Pm,{onSubmit:bt,availableProducts:[...new Set((c.sheetGoods||[]).map(ne=>ne.product))],availableThicknesses:[...new Set((c.sheetGoods||[]).map(ne=>ne.thickness))]}),p.jsxs("div",{className:"import-csv-section",children:[p.jsx("input",{type:"file",accept:".csv,.tsv,.txt",style:{display:"none"},id:"sheet-csv-import",onChange:ne=>{ne.target.files[0]&&(Lt(ne.target.files[0]),ne.target.value="")}}),p.jsx("button",{className:"btn-secondary btn-import-csv",onClick:()=>document.getElementById("sheet-csv-import").click(),children:" Import CSV"}),p.jsx("button",{className:"btn-link btn-download-template",onClick:()=>{const ne=new Blob([km("sheet")],{type:"text/csv"}),me=URL.createObjectURL(ne),qe=document.createElement("a");qe.href=me,qe.download="sheet_cut_list_template.csv",qe.click(),URL.revokeObjectURL(me)},children:"Download template"})]}),(c.sheetCutPieces?.length||0)>0?p.jsxs("div",{className:"cut-piece-list sheet-cut-piece-list",children:[p.jsx("h3",{children:"Cut Pieces"}),p.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),c.sheetCutPieces.map(ne=>p.jsx(rx,{piece:ne,onEdit:I,onDelete:Ir,onDragStart:mi,onDragOver:Aa,onDrop:Hi,onDragEnd:kn,isDragging:ke===ne.id,isDragOver:Pe===ne.id},ne.id))]}):p.jsxs("div",{className:"empty-state empty-state-inline",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No cut pieces yet"}),p.jsx("p",{children:"Add the pieces you need to cut from your sheet stock using the form above."})]}),(c.sheetCutPieces?.length||0)>0&&p.jsxs("div",{className:"next-step-section",children:[(c.sheetGoods?.length||0)===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"You need sheet stock to generate a cut plan."}),p.jsx("button",{onClick:()=>S("sheetStock"),className:"btn-primary",children:"Go to Sheet Stock"})]}),(c.sheetGoods?.length||0)>0&&p.jsx("div",{className:"generate-plan-section",children:p.jsx("button",{onClick:Rn,className:"btn-primary btn-large",children:"Generate Cut Plan "})})]})]}),j==="sheetPlan"&&p.jsx("div",{className:"cut-plan-section sheet-cut-plan-section",children:c.sheetCutPlan?p.jsx(Mm,{cutPlan:c.sheetCutPlan,boards:c.sheetGoods||[],onRegenerate:Rn,isRegenerating:U,workflowType:"known",materialType:"sheet"}):p.jsxs("div",{className:"no-plan",children:[p.jsx("h3",{children:"Cut Plan"}),p.jsx("p",{children:"No cut plan generated yet."}),(c.sheetGoods?.length||0)===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Start by adding your sheet stock."}),p.jsx("button",{onClick:()=>S("sheetStock"),className:"btn-primary",children:"Go to Sheet Stock"})]}),(c.sheetGoods?.length||0)>0&&(c.sheetCutPieces?.length||0)===0&&p.jsxs("div",{className:"workflow-prompt",children:[p.jsx("p",{children:"Next, add your cut pieces."}),p.jsx("button",{onClick:()=>S("sheetCutlist"),className:"btn-primary",children:"Go to Cut List"})]}),(c.sheetCutPieces?.length||0)>0&&(c.sheetGoods?.length||0)>0&&p.jsx("button",{onClick:Rn,className:"btn-primary btn-large",children:"Generate Cut Plan"})]})})]}),p.jsx("aside",{className:"summary-section",children:p.jsx(ux,{project:c})})]})]}):p.jsx("div",{className:"project-selection",children:k?p.jsxs(p.Fragment,{children:[p.jsx(hx,{onSubmit:sn}),p.jsx("button",{onClick:()=>w(!1),className:"btn-secondary",style:{marginTop:"1rem"},children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>w(!0),className:"btn-primary btn-large",children:"+ New Project"}),P?p.jsx(mx,{count:3}):o.length>0?p.jsxs("div",{className:"project-list",children:[p.jsx("h2",{children:"Your Projects"}),o.map(ne=>p.jsxs("div",{className:"project-card",children:[p.jsxs("div",{className:"project-card-info",onClick:()=>tn(ne),children:[p.jsx("h3",{children:ne.name}),ne.description&&p.jsx("p",{children:ne.description}),p.jsxs("span",{className:"project-meta",children:[ne.boards.length," boards ",ne.boards.reduce((me,qe)=>me+qe.boardFeet,0).toFixed(2)," BF",(ne.cutPieces?.length||0)>0&&p.jsxs(p.Fragment,{children:["  ",ne.cutPieces.length," cut pieces"]})]})]}),p.jsx("button",{onClick:me=>{me.stopPropagation(),vt("Delete Project?",`Are you sure you want to delete "${ne.name}"? This will also delete all boards and cut pieces in this project.`,()=>{ft(ne.id),$e()})},className:"btn-delete",children:"Delete"})]},ne.id))]}):p.jsxs("div",{className:"empty-state empty-state-projects",children:[p.jsx("div",{className:"empty-state-icon",children:""}),p.jsx("h3",{children:"No projects yet"}),p.jsx("p",{children:"Create your first project to start planning your cuts and calculating lumber needs."})]})]})})}),p.jsx("footer",{children:p.jsx("p",{children:"Board Feet = (Thickness  Width  Length) / 144"})})]}):p.jsx(X3,{})}my.createRoot(document.getElementById("root")).render(p.jsx(We.StrictMode,{children:p.jsx(vx,{})}));export{qn as _};
