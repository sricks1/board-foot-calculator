(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Vd={exports:{}},Hu={};var E2;function ay(){if(E2)return Hu;E2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var k2;function sy(){return k2||(k2=1,Vd.exports=ay()),Vd.exports}var g=sy(),Yd={exports:{}},Xt={};var C2;function oy(){if(C2)return Xt;C2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.iterator;function w(G){return G===null||typeof G!="object"?null:(G=k&&G[k]||G["@@iterator"],typeof G=="function"?G:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function N(G,L,I){this.props=G,this.context=L,this.refs=T,this.updater=I||j}N.prototype.isReactComponent={},N.prototype.setState=function(G,L){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,L,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function B(){}B.prototype=N.prototype;function D(G,L,I){this.props=G,this.context=L,this.refs=T,this.updater=I||j}var U=D.prototype=new B;U.constructor=D,S(U,N.prototype),U.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var te={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Y(G,L,I){var W=I.ref;return{$$typeof:r,type:G,key:L,ref:W!==void 0?W:null,props:I}}function ge(G,L){return Y(G.type,L,G.props)}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function H(G){var L={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(I){return L[I]})}var ae=/\/+/g;function re(G,L){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):L.toString(36)}function we(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(ce,ce):(G.status="pending",G.then(function(L){G.status==="pending"&&(G.status="fulfilled",G.value=L)},function(L){G.status==="pending"&&(G.status="rejected",G.reason=L)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ee(G,L,I,W,ne){var ue=typeof G;(ue==="undefined"||ue==="boolean")&&(G=null);var pe=!1;if(G===null)pe=!0;else switch(ue){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(G.$$typeof){case r:case e:pe=!0;break;case b:return pe=G._init,ee(pe(G._payload),L,I,W,ne)}}if(pe)return ne=ne(G),pe=W===""?"."+re(G,0):W,le(ne)?(I="",pe!=null&&(I=pe.replace(ae,"$&/")+"/"),ee(ne,L,I,"",function(Be){return Be})):ne!=null&&(M(ne)&&(ne=ge(ne,I+(ne.key==null||G&&G.key===ne.key?"":(""+ne.key).replace(ae,"$&/")+"/")+pe)),L.push(ne)),1;pe=0;var ke=W===""?".":W+":";if(le(G))for(var je=0;je<G.length;je++)W=G[je],ue=ke+re(W,je),pe+=ee(W,L,I,ue,ne);else if(je=w(G),typeof je=="function")for(G=je.call(G),je=0;!(W=G.next()).done;)W=W.value,ue=ke+re(W,je++),pe+=ee(W,L,I,ue,ne);else if(ue==="object"){if(typeof G.then=="function")return ee(we(G),L,I,W,ne);throw L=String(G),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function X(G,L,I){if(G==null)return G;var W=[],ne=0;return ee(G,W,"","",function(ue){return L.call(I,ue,ne++)}),W}function ie(G){if(G._status===-1){var L=G._result;L=L(),L.then(function(I){(G._status===0||G._status===-1)&&(G._status=1,G._result=I)},function(I){(G._status===0||G._status===-1)&&(G._status=2,G._result=I)}),G._status===-1&&(G._status=0,G._result=L)}if(G._status===1)return G._result.default;throw G._result}var xe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Le={map:X,forEach:function(G,L,I){X(G,function(){L.apply(this,arguments)},I)},count:function(G){var L=0;return X(G,function(){L++}),L},toArray:function(G){return X(G,function(L){return L})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Xt.Activity=A,Xt.Children=Le,Xt.Component=N,Xt.Fragment=n,Xt.Profiler=o,Xt.PureComponent=D,Xt.StrictMode=a,Xt.Suspense=d,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return te.H.useMemoCache(G)}},Xt.cache=function(G){return function(){return G.apply(null,arguments)}},Xt.cacheSignal=function(){return null},Xt.cloneElement=function(G,L,I){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var W=S({},G.props),ne=G.key;if(L!=null)for(ue in L.key!==void 0&&(ne=""+L.key),L)!$.call(L,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&L.ref===void 0||(W[ue]=L[ue]);var ue=arguments.length-2;if(ue===1)W.children=I;else if(1<ue){for(var pe=Array(ue),ke=0;ke<ue;ke++)pe[ke]=arguments[ke+2];W.children=pe}return Y(G.type,ne,W)},Xt.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},Xt.createElement=function(G,L,I){var W,ne={},ue=null;if(L!=null)for(W in L.key!==void 0&&(ue=""+L.key),L)$.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ne[W]=L[W]);var pe=arguments.length-2;if(pe===1)ne.children=I;else if(1<pe){for(var ke=Array(pe),je=0;je<pe;je++)ke[je]=arguments[je+2];ne.children=ke}if(G&&G.defaultProps)for(W in pe=G.defaultProps,pe)ne[W]===void 0&&(ne[W]=pe[W]);return Y(G,ue,ne)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(G){return{$$typeof:h,render:G}},Xt.isValidElement=M,Xt.lazy=function(G){return{$$typeof:b,_payload:{_status:-1,_result:G},_init:ie}},Xt.memo=function(G,L){return{$$typeof:m,type:G,compare:L===void 0?null:L}},Xt.startTransition=function(G){var L=te.T,I={};te.T=I;try{var W=G(),ne=te.S;ne!==null&&ne(I,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ce,xe)}catch(ue){xe(ue)}finally{L!==null&&I.types!==null&&(L.types=I.types),te.T=L}},Xt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Xt.use=function(G){return te.H.use(G)},Xt.useActionState=function(G,L,I){return te.H.useActionState(G,L,I)},Xt.useCallback=function(G,L){return te.H.useCallback(G,L)},Xt.useContext=function(G){return te.H.useContext(G)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(G,L){return te.H.useDeferredValue(G,L)},Xt.useEffect=function(G,L){return te.H.useEffect(G,L)},Xt.useEffectEvent=function(G){return te.H.useEffectEvent(G)},Xt.useId=function(){return te.H.useId()},Xt.useImperativeHandle=function(G,L,I){return te.H.useImperativeHandle(G,L,I)},Xt.useInsertionEffect=function(G,L){return te.H.useInsertionEffect(G,L)},Xt.useLayoutEffect=function(G,L){return te.H.useLayoutEffect(G,L)},Xt.useMemo=function(G,L){return te.H.useMemo(G,L)},Xt.useOptimistic=function(G,L){return te.H.useOptimistic(G,L)},Xt.useReducer=function(G,L,I){return te.H.useReducer(G,L,I)},Xt.useRef=function(G){return te.H.useRef(G)},Xt.useState=function(G){return te.H.useState(G)},Xt.useSyncExternalStore=function(G,L,I){return te.H.useSyncExternalStore(G,L,I)},Xt.useTransition=function(){return te.H.useTransition()},Xt.version="19.2.1",Xt}var T2;function ep(){return T2||(T2=1,Yd.exports=oy()),Yd.exports}var Ye=ep(),Wd={exports:{}},$u={},Kd={exports:{}},Jd={};var L2;function ly(){return L2||(L2=1,(function(r){function e(ee,X){var ie=ee.length;ee.push(X);e:for(;0<ie;){var xe=ie-1>>>1,Le=ee[xe];if(0<o(Le,X))ee[xe]=X,ee[ie]=Le,ie=xe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var X=ee[0],ie=ee.pop();if(ie!==X){ee[0]=ie;e:for(var xe=0,Le=ee.length,G=Le>>>1;xe<G;){var L=2*(xe+1)-1,I=ee[L],W=L+1,ne=ee[W];if(0>o(I,ie))W<Le&&0>o(ne,I)?(ee[xe]=ne,ee[W]=ie,xe=W):(ee[xe]=I,ee[L]=ie,xe=L);else if(W<Le&&0>o(ne,ie))ee[xe]=ne,ee[W]=ie,xe=W;else break e}}return X}function o(ee,X){var ie=ee.sortIndex-X.sortIndex;return ie!==0?ie:ee.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var d=[],m=[],b=1,A=null,k=3,w=!1,j=!1,S=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var X=n(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=ee)a(m),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(m)}}function le(ee){if(S=!1,U(ee),!j)if(n(d)!==null)j=!0,ce||(ce=!0,H());else{var X=n(m);X!==null&&we(le,X.startTime-ee)}}var ce=!1,te=-1,$=5,Y=-1;function ge(){return T?!0:!(r.unstable_now()-Y<$)}function M(){if(T=!1,ce){var ee=r.unstable_now();Y=ee;var X=!0;try{e:{j=!1,S&&(S=!1,B(te),te=-1),w=!0;var ie=k;try{t:{for(U(ee),A=n(d);A!==null&&!(A.expirationTime>ee&&ge());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,k=A.priorityLevel;var Le=xe(A.expirationTime<=ee);if(ee=r.unstable_now(),typeof Le=="function"){A.callback=Le,U(ee),X=!0;break t}A===n(d)&&a(d),U(ee)}else a(d);A=n(d)}if(A!==null)X=!0;else{var G=n(m);G!==null&&we(le,G.startTime-ee),X=!1}}break e}finally{A=null,k=ie,w=!1}X=void 0}}finally{X?H():ce=!1}}}var H;if(typeof D=="function")H=function(){D(M)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,re=ae.port2;ae.port1.onmessage=M,H=function(){re.postMessage(null)}}else H=function(){N(M,0)};function we(ee,X){te=N(function(){ee(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var X=3;break;default:X=k}var ie=k;k=X;try{return ee()}finally{k=ie}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=k;k=ee;try{return X()}finally{k=ie}},r.unstable_scheduleCallback=function(ee,X,ie){var xe=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?xe+ie:xe):ie=xe,ee){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ie+Le,ee={id:b++,callback:X,priorityLevel:ee,startTime:ie,expirationTime:Le,sortIndex:-1},ie>xe?(ee.sortIndex=ie,e(m,ee),n(d)===null&&ee===n(m)&&(S?(B(te),te=-1):S=!0,we(le,ie-xe))):(ee.sortIndex=Le,e(d,ee),j||w||(j=!0,ce||(ce=!0,H()))),ee},r.unstable_shouldYield=ge,r.unstable_wrapCallback=function(ee){var X=k;return function(){var ie=k;k=X;try{return ee.apply(this,arguments)}finally{k=ie}}}})(Jd)),Jd}var O2;function cy(){return O2||(O2=1,Kd.exports=ly()),Kd.exports}var Xd={exports:{}},Er={};var R2;function uy(){if(R2)return Er;R2=1;var r=ep();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,m,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:d,containerInfo:m,implementation:b}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Er.createPortal=function(d,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,b)},Er.flushSync=function(d){var m=u.T,b=a.p;try{if(u.T=null,a.p=2,d)return d()}finally{u.T=m,a.p=b,a.d.f()}},Er.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(d,m))},Er.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},Er.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin),k=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?a.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:k,fetchPriority:w}):b==="script"&&a.d.X(d,{crossOrigin:A,integrity:k,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Er.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);a.d.M(d,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(d)},Er.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,A=h(b,m.crossOrigin);a.d.L(d,b,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Er.preloadModule=function(d,m){if(typeof d=="string")if(m){var b=h(m.as,m.crossOrigin);a.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(d)},Er.requestFormReset=function(d){a.d.r(d)},Er.unstable_batchedUpdates=function(d,m){return d(m)},Er.useFormState=function(d,m,b){return u.H.useFormState(d,m,b)},Er.useFormStatus=function(){return u.H.useHostTransitionStatus()},Er.version="19.2.1",Er}var D2;function hy(){if(D2)return Xd.exports;D2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=uy(),Xd.exports}var B2;function fy(){if(B2)return $u;B2=1;var r=cy(),e=ep(),n=hy();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(l(t)!==t)throw Error(a(188))}function m(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,c=i;;){var p=s.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===s)return d(p),t;if(y===c)return d(p),i;y=y.sibling}throw Error(a(188))}if(s.return!==c.return)s=p,c=y;else{for(var C=!1,F=p.child;F;){if(F===s){C=!0,s=p,c=y;break}if(F===c){C=!0,c=p,s=y;break}F=F.sibling}if(!C){for(F=y.child;F;){if(F===s){C=!0,s=y,c=p;break}if(F===c){C=!0,c=y,s=p;break}F=F.sibling}if(!C)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case D:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return i=t.displayName||null,i!==null?i:re(t.type)||"Memo";case $:i=t._payload,t=t._init;try{return re(t(i))}catch{}}return null}var we=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},xe=[],Le=-1;function G(t){return{current:t}}function L(t){0>Le||(t.current=xe[Le],xe[Le]=null,Le--)}function I(t,i){Le++,xe[Le]=t.current,t.current=i}var W=G(null),ne=G(null),ue=G(null),pe=G(null);function ke(t,i){switch(I(ue,i),I(ne,t),I(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?J1(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=J1(i),t=X1(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(W),I(W,t)}function je(){L(W),L(ne),L(ue)}function Be(t){t.memoizedState!==null&&I(pe,t);var i=W.current,s=X1(i,t.type);i!==s&&(I(ne,t),I(W,s))}function Ge(t){ne.current===t&&(L(W),L(ne)),pe.current===t&&(L(pe),Uu._currentValue=ie)}var Qe,Xe;function rt(t){if(Qe===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Qe=i&&i[1]||"",Xe=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+t+Xe}var K=!1;function Ke(t,i){if(!t||K)return"";K=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Te){var Ce=Te}Reflect.construct(t,[],Ue)}else{try{Ue.call()}catch(Te){Ce=Te}t.call(Ue.prototype)}}else{try{throw Error()}catch(Te){Ce=Te}(Ue=t())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Te){if(Te&&Ce&&typeof Te.stack=="string")return[Te.stack,Ce.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],F=y[1];if(C&&F){var oe=C.split(`
`),Ee=F.split(`
`);for(p=c=0;c<oe.length&&!oe[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Ee.length&&!Ee[p].includes("DetermineComponentFrameRoot");)p++;if(c===oe.length||p===Ee.length)for(c=oe.length-1,p=Ee.length-1;1<=c&&0<=p&&oe[c]!==Ee[p];)p--;for(;1<=c&&0<=p;c--,p--)if(oe[c]!==Ee[p]){if(c!==1||p!==1)do if(c--,p--,0>p||oe[c]!==Ee[p]){var De=`
`+oe[c].replace(" at new "," at ");return t.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",t.displayName)),De}while(1<=c&&0<=p);break}}}finally{K=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?rt(s):""}function Vt(t,i){switch(t.tag){case 26:case 27:case 5:return rt(t.type);case 16:return rt("Lazy");case 13:return t.child!==i&&i!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return rt("Activity");default:return""}}function vt(t){try{var i="",s=null;do i+=Vt(t,s),s=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ze=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,et=r.unstable_cancelCallback,Nt=r.unstable_shouldYield,yt=r.unstable_requestPaint,Gt=r.unstable_now,Ut=r.unstable_getCurrentPriorityLevel,Ft=r.unstable_ImmediatePriority,rn=r.unstable_UserBlockingPriority,Zt=r.unstable_NormalPriority,ut=r.unstable_LowPriority,It=r.unstable_IdlePriority,ft=r.log,Kn=r.unstable_setDisableYieldValue,tn=null,jt=null;function Dt(t){if(typeof ft=="function"&&Kn(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(tn,t)}catch{}}var an=Math.clz32?Math.clz32:Tt,St=Math.log,Ln=Math.LN2;function Tt(t){return t>>>=0,t===0?32:31-(St(t)/Ln|0)|0}var Bt=256,En=262144,Yt=4194304;function gt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ln(t,i,s){var c=t.pendingLanes;if(c===0)return 0;var p=0,y=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var F=c&134217727;return F!==0?(c=F&~y,c!==0?p=gt(c):(C&=F,C!==0?p=gt(C):s||(s=F&~t,s!==0&&(p=gt(s))))):(F=c&~y,F!==0?p=gt(F):C!==0?p=gt(C):s||(s=c&~t,s!==0&&(p=gt(s)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,s=i&-i,y>=s||y===32&&(s&4194048)!==0)?i:p}function Or(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(){var t=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),t}function xr(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function bt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sa(t,i,s,c,p,y){var C=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var F=t.entanglements,oe=t.expirationTimes,Ee=t.hiddenUpdates;for(s=C&~s;0<s;){var De=31-an(s),Ue=1<<De;F[De]=0,oe[De]=-1;var Ce=Ee[De];if(Ce!==null)for(Ee[De]=null,De=0;De<Ce.length;De++){var Te=Ce[De];Te!==null&&(Te.lane&=-536870913)}s&=~Ue}c!==0&&Ir(t,c,0),y!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=y&~(C&~i))}function Ir(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-an(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|s&261930}function or(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var c=31-an(s),p=1<<c;p&i|t[c]&i&&(t[c]|=i),s&=~p}}function lr(t,i){var s=i&-i;return s=(s&42)!==0?1:Pn(s),(s&(t.suspendedLanes|i))!==0?0:s}function Pn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gi(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:w2(t.type))}function Aa(t,i){var s=X.p;try{return X.p=t,i()}finally{X.p=s}}var ji=Math.random().toString(36).slice(2),_n="__reactFiber$"+ji,Hn="__reactProps$"+ji,Pi="__reactContainer$"+ji,Zi="__reactEvents$"+ji,cr="__reactListeners$"+ji,Jn="__reactHandles$"+ji,ur="__reactResources$"+ji,Rr="__reactMarker$"+ji;function se(t){delete t[_n],delete t[Hn],delete t[Zi],delete t[cr],delete t[Jn]}function ve(t){var i=t[_n];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Pi]||s[_n]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=r2(t);t!==null;){if(s=t[_n])return s;t=r2(t)}return i}t=s,s=t.parentNode}return null}function He(t){if(t=t[_n]||t[Pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function We(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function mt(t){var i=t[ur];return i||(i=t[ur]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function tt(t){t[Rr]=!0}var pn=new Set,ht={};function Ie(t,i){Ze(t,i),Ze(t+"Capture",i)}function Ze(t,i){for(ht[t]=i,t=0;t<i.length;t++)pn.add(i[t])}var hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ei={},Wt={};function ja(t){return ze.call(Wt,t)?!0:ze.call(Ei,t)?!1:hr.test(t)?Wt[t]=!0:(Ei[t]=!0,!1)}function Sr(t,i,s){if(ja(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function oa(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function la(t,i,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+c)}}function xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ll(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ea(t,i,s){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(C){s=""+C,y.call(this,C)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(C){s=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function xs(t){if(!t._valueTracker){var i=ll(t)?"checked":"value";t._valueTracker=Ea(t,i,""+t[i])}}function cl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return t&&(c=ll(t)?t.checked?"true":"false":t.value),t=c,t!==s?(i.setValue(t),!0):!1}function fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function mi(t){return t.replace(ki,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xo(t,i,s,c,p,y,C,F){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+xn(i)):t.value!==""+xn(i)&&(t.value=""+xn(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?ul(t,C,xn(i)):s!=null?ul(t,C,xn(s)):c!=null&&t.removeAttribute("value"),p==null&&y!=null&&(t.defaultChecked=!!y),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?t.name=""+xn(F):t.removeAttribute("name")}function Jl(t,i,s,c,p,y,C,F){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||s!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){xs(t);return}s=s!=null?""+xn(s):"",i=i!=null?""+xn(i):s,F||i===t.value||(t.value=i),t.defaultValue=i}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=F?t.checked:!!c,t.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),xs(t)}function ul(t,i,s){i==="number"&&fr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function dr(t,i,s,c){if(t=t.options,i){i={};for(var p=0;p<s.length;p++)i["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=i.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&c&&(t[s].defaultSelected=!0)}else{for(s=""+xn(s),i=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function hl(t,i,s){if(i!=null&&(i=""+xn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+xn(s):""}function fl(t,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(a(92));if(we(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=xn(i),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c),xs(t)}function ca(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(t,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,s):typeof s!="number"||s===0||$s.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ql(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var p in i)c=i[p],i.hasOwnProperty(p)&&s[p]!==c&&Xl(t,p,c)}else for(var y in i)i.hasOwnProperty(y)&&Xl(t,y,i[y])}function dl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return Zl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ua(){}var $a=null;function Gs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Lt=null;function ec(t){var i=He(t);if(i&&(t=i.stateNode)){var s=t[Hn]||null;e:switch(t=i.stateNode,i.type){case"input":if(xo(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mi(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==t&&c.form===t.form){var p=c[Hn]||null;if(!p)throw Error(a(90));xo(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===t.form&&cl(c)}break e;case"textarea":hl(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&dr(t,!!s.multiple,i,!1)}}}var gl=!1;function tc(t,i,s){if(gl)return t(i,s);gl=!0;try{var c=t(i);return c}finally{if(gl=!1,(Ss!==null||Lt!==null)&&(Dh(),Ss&&(i=Ss,t=Lt,Lt=Ss=null,ec(i),t)))for(i=0;i<t.length;i++)ec(t[i])}}function Dr(t,i){var s=t.stateNode;if(s===null)return null;var c=s[Hn]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ml=!1;if(Hi)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{ml=!1}var Br=null,Ys=null,ka=null;function nc(){if(ka)return ka;var t,i=Ys,s=i.length,c,p="value"in Br?Br.value:Br.textContent,y=p.length;for(t=0;t<s&&i[t]===p[t];t++);var C=s-t;for(c=1;c<=C&&i[s-c]===p[y-c];c++);return ka=p.slice(t,1<c?1-c:void 0)}function zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function So(){return!0}function No(){return!1}function Mi(t){function i(s,c,p,y,C){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var F in t)t.hasOwnProperty(F)&&(s=t[F],this[F]=s?s(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?So:No,this.isPropagationStopped=No,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),i}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=Mi(Ca),Ga=A({},Ca,{view:0,detail:0}),Ao=Mi(Ga),Ws,Va,Ya,Ks=A({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(Ws=t.screenX-Ya.screenX,Va=t.screenY-Ya.screenY):Va=Ws=0,Ya=t),Ws)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),vl=Mi(Ks),Wa=A({},Ks,{dataTransfer:0}),Ka=Mi(Wa),ic=A({},Ga,{relatedTarget:0}),Ja=Mi(ic),rc=A({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Mi(rc),O=A({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z=Mi(O),he=A({},Ca,{data:0}),ye=Mi(he),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},st={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=st[t])?!!i[t]:!1}function Pt(){return dt}var Kt=A({},Ga,{key:function(t){if(t.key){var i=Pe[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pt,charCode:function(t){return t.type==="keypress"?zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gn=Mi(Kt),Xn=A({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ci=Mi(Xn),Mn=A({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pt}),Ci=Mi(Mn),vi=A({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),$i=Mi(vi),Xa=A({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Mi(Xa),Qa=A({},Ca,{newState:0,oldState:0}),yl=Mi(Qa),jo=[9,13,27,32],Ta=Hi&&"CompositionEvent"in window,fa=null;Hi&&"documentMode"in document&&(fa=document.documentMode);var Js=Hi&&"TextEvent"in window&&!fa,Za=Hi&&(!Ta||fa&&8<fa&&11>=fa),qi=" ",Ns=!1;function As(t,i){switch(t){case"keyup":return jo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function pr(t,i){switch(t){case"compositionend":return Eo(i);case"keypress":return i.which!==32?null:(Ns=!0,qi);case"textInput":return t=i.data,t===qi&&Ns?null:t;default:return null}}function es(t,i){if(La)return t==="compositionend"||!Ta&&As(t,i)?(t=nc(),ka=Ys=Br=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Za&&i.locale!=="ko"?null:i.data;default:return null}}var ko={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ko[t.type]:i==="textarea"}function Pr(t,i,s,c){Ss?Lt?Lt.push(c):Lt=[c]:Ss=c,i=Ih(i,"onChange"),0<i.length&&(s=new Hr("onChange","change",null,s,c),t.push({event:s,listeners:i}))}var da=null,ts=null;function wl(t){$1(t,0)}function pa(t){var i=We(t);if(cl(i))return t}function js(t,i){if(t==="change")return i}var Ar=!1;if(Hi){var gr;if(Hi){var Oa="oninput"in document;if(!Oa){var Ra=document.createElement("div");Ra.setAttribute("oninput","return;"),Oa=typeof Ra.oninput=="function"}gr=Oa}else gr=!1;Ar=gr&&(!document.documentMode||9<document.documentMode)}function ns(){da&&(da.detachEvent("onpropertychange",Co),ts=da=null)}function Co(t){if(t.propertyName==="value"&&pa(ts)){var i=[];Pr(i,ts,t,Gs(t)),tc(wl,i)}}function To(t,i,s){t==="focusin"?(ns(),da=i,ts=s,da.attachEvent("onpropertychange",Co)):t==="focusout"&&ns()}function ui(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pa(ts)}function ac(t,i){if(t==="click")return pa(i)}function Da(t,i){if(t==="input"||t==="change")return pa(i)}function Ba(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gi=typeof Object.is=="function"?Object.is:Ba;function is(t,i){if(Gi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!ze.call(i,p)||!Gi(t[p],i[p]))return!1}return!0}function Lo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oo(t,i){var s=Lo(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=i&&c>=i)return{node:s,offset:i-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Lo(s)}}function rs(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?rs(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function as(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=fr(t.document)}return i}function Pa(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Xs=Hi&&"documentMode"in document&&11>=document.documentMode,Mr=null,ss=null,er=null,$r=!1;function Sn(t,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$r||Mr==null||Mr!==fr(c)||(c=Mr,"selectionStart"in c&&Pa(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),er&&is(er,c)||(er=c,c=Ih(ss,"onSelect"),0<c.length&&(i=new Hr("onSelect","select",null,i,s),t.push({event:i,listeners:c}),i.target=Mr)))}function mn(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var qn={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionrun:mn("Transition","TransitionRun"),transitionstart:mn("Transition","TransitionStart"),transitioncancel:mn("Transition","TransitionCancel"),transitionend:mn("Transition","TransitionEnd")},hi={},Ma={};Hi&&(Ma=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function ga(t){if(hi[t])return hi[t];if(!qn[t])return t;var i=qn[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ma)return hi[t]=i[s];return t}var Qs=ga("animationend"),_l=ga("animationiteration"),lu=ga("animationstart"),uh=ga("transitionrun"),hh=ga("transitionstart"),fh=ga("transitioncancel"),cu=ga("transitionend"),uu=new Map,Zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zs.push("scrollEnd");function Gr(t,i){uu.set(t,i),Ie(i,[t])}var xl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qr=[],eo=0,sc=0;function Sl(){for(var t=eo,i=sc=eo=0;i<t;){var s=qr[i];qr[i++]=null;var c=qr[i];qr[i++]=null;var p=qr[i];qr[i++]=null;var y=qr[i];if(qr[i++]=null,c!==null&&p!==null){var C=c.pending;C===null?p.next=p:(p.next=C.next,C.next=p),c.pending=p}y!==0&&Al(s,p,y)}}function Nl(t,i,s,c){qr[eo++]=t,qr[eo++]=i,qr[eo++]=s,qr[eo++]=c,sc|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function oc(t,i,s,c){return Nl(t,i,s,c),tr(t)}function os(t,i){return Nl(t,null,null,i),tr(t)}function Al(t,i,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var p=!1,y=t.return;y!==null;)y.childLanes|=s,c=y.alternate,c!==null&&(c.childLanes|=s),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(p=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,p&&i!==null&&(p=31-an(s),t=y.hiddenUpdates,c=t[p],c===null?t[p]=[i]:c.push(i),i.lane=s|536870912),y):null}function tr(t){if(50<Ou)throw Ou=0,md=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Vi={};function lc(t,i,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,i,s,c){return new lc(t,i,s,c)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,i){var s=t.alternate;return s===null?(s=nr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jl(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ro(t,i,s,c,p,y){var C=0;if(c=t,typeof t=="function")cc(t)&&(C=1);else if(typeof t=="string")C=Yv(t,s,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Y:return t=nr(31,s,i,p),t.elementType=Y,t.lanes=y,t;case S:return Es(s.children,p,y,i);case T:C=8,p|=24;break;case N:return t=nr(12,s,i,p|2),t.elementType=N,t.lanes=y,t;case le:return t=nr(13,s,i,p),t.elementType=le,t.lanes=y,t;case ce:return t=nr(19,s,i,p),t.elementType=ce,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:C=10;break e;case B:C=9;break e;case U:C=11;break e;case te:C=14;break e;case $:C=16,c=null;break e}C=29,s=Error(a(130,t===null?"null":typeof t,"")),c=null}return i=nr(C,s,i,p),i.elementType=t,i.type=c,i.lanes=y,i}function Es(t,i,s,c){return t=nr(7,t,c,i),t.lanes=s,t}function El(t,i,s){return t=nr(6,t,null,i),t.lanes=s,t}function uc(t){var i=nr(18,null,null,0);return i.stateNode=t,i}function Do(t,i,s){return i=nr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var hc=new WeakMap;function Yr(t,i){if(typeof t=="object"&&t!==null){var s=hc.get(t);return s!==void 0?s:(i={value:t,source:i,stack:vt(i)},hc.set(t,i),i)}return{value:t,source:i,stack:vt(i)}}var Bo=[],to=0,fc=null,kl=0,Wr=[],Kr=0,ks=null,Jr=1,Xr="";function Ur(t,i){Bo[to++]=kl,Bo[to++]=fc,fc=t,kl=i}function dh(t,i,s){Wr[Kr++]=Jr,Wr[Kr++]=Xr,Wr[Kr++]=ks,ks=t;var c=Jr;t=Xr;var p=32-an(c)-1;c&=~(1<<p),s+=1;var y=32-an(i)+p;if(30<y){var C=p-p%5;y=(c&(1<<C)-1).toString(32),c>>=C,p-=C,Jr=1<<32-an(i)+p|s<<p|c,Xr=y+t}else Jr=1<<y|s<<p|c,Xr=t}function hu(t){t.return!==null&&(Ur(t,1),dh(t,1,0))}function dc(t){for(;t===fc;)fc=Bo[--to],Bo[to]=null,kl=Bo[--to],Bo[to]=null;for(;t===ks;)ks=Wr[--Kr],Wr[Kr]=null,Xr=Wr[--Kr],Wr[Kr]=null,Jr=Wr[--Kr],Wr[Kr]=null}function ph(t,i){Wr[Kr++]=Jr,Wr[Kr++]=Xr,Wr[Kr++]=ks,Jr=i.id,Xr=i.overflow,ks=t}var Yi=null,$n=null,cn=!1,mr=null,ri=!1,ma=Error(a(519));function Cs(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Yr(i,t)),ma}function fu(t){var i=t.stateNode,s=t.type,c=t.memoizedProps;switch(i[_n]=t,i[Hn]=c,s){case"dialog":hn("cancel",i),hn("close",i);break;case"iframe":case"object":case"embed":hn("load",i);break;case"video":case"audio":for(s=0;s<Du.length;s++)hn(Du[s],i);break;case"source":hn("error",i);break;case"img":case"image":case"link":hn("error",i),hn("load",i);break;case"details":hn("toggle",i);break;case"input":hn("invalid",i),Jl(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":hn("invalid",i);break;case"textarea":hn("invalid",i),fl(i,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||W1(i.textContent,s)?(c.popover!=null&&(hn("beforetoggle",i),hn("toggle",i)),c.onScroll!=null&&hn("scroll",i),c.onScrollEnd!=null&&hn("scrollend",i),c.onClick!=null&&(i.onclick=ua),i=!0):i=!1,i||Cs(t,!0)}function ls(t){for(Yi=t.return;Yi;)switch(Yi.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Yi=Yi.return}}function Wi(t){if(t!==Yi)return!1;if(!cn)return ls(t),cn=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ld(t.type,t.memoizedProps)),s=!s),s&&$n&&Cs(t),ls(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));$n=i2(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));$n=i2(t)}else i===27?(i=$n,Jo(t.type)?(t=Pd,Pd=null,$n=t):$n=i):$n=Yi?Ia(t.stateNode.nextSibling):null;return!0}function no(){$n=Yi=null,cn=!1}function du(){var t=mr;return t!==null&&(ia===null?ia=t:ia.push.apply(ia,t),mr=null),t}function Po(t){mr===null?mr=[t]:mr.push(t)}var pc=G(null),Ts=null,qa=null;function Ls(t,i,s){I(pc,i._currentValue),i._currentValue=s}function Qr(t){t._currentValue=pc.current,L(pc)}function Mo(t,i,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===s)break;t=t.return}}function io(t,i,s,c){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var y=p.dependencies;if(y!==null){var C=p.child;y=y.firstContext;e:for(;y!==null;){var F=y;y=p;for(var oe=0;oe<i.length;oe++)if(F.context===i[oe]){y.lanes|=s,F=y.alternate,F!==null&&(F.lanes|=s),Mo(y.return,s,t),c||(C=null);break e}y=F.next}}else if(p.tag===18){if(C=p.return,C===null)throw Error(a(341));C.lanes|=s,y=C.alternate,y!==null&&(y.lanes|=s),Mo(C,s,t),C=null}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===t){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}}function Os(t,i,s,c){t=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var C=p.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var F=p.type;Gi(p.pendingProps.value,C.value)||(t!==null?t.push(F):t=[F])}}else if(p===pe.current){if(C=p.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Uu):t=[Uu])}p=p.return}t!==null&&io(i,t,s,c),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!Gi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){Ts=t,qa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ki(t){return gh(Ts,t)}function mc(t,i){return Ts===null&&Rs(t),gh(t,i)}function gh(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},qa===null){if(t===null)throw Error(a(308));qa=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qa=qa.next=i;return s}var Bf=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Pf=r.unstable_scheduleCallback,Mf=r.unstable_NormalPriority,fi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qo(){return{controller:new Bf,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Pf(Mf,function(){t.controller.abort()})}var Tl=null,vc=0,f=0,v=null;function x(t,i){if(Tl===null){var s=Tl=[];vc=0,f=xd(),v={status:"pending",value:void 0,then:function(c){s.push(c)}}}return vc++,i.then(E,E),i}function E(){if(--vc===0&&Tl!==null){v!==null&&(v.status="fulfilled");var t=Tl;Tl=null,f=0,v=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function R(t,i){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var p=0;p<s.length;p++)(0,s[p])(i)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var P=ee.S;ee.S=function(t,i){y1=Gt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&x(t,i),P!==null&&P(t,i)};var q=G(null);function z(){var t=q.current;return t!==null?t:Vn.pooledCache}function V(t,i){i===null?I(q,q.current):I(q,i.pool)}function Q(){var t=z();return t===null?null:{parent:fi._currentValue,pool:t}}var fe=Error(a(460)),Ne=Error(a(474)),J=Error(a(542)),me={then:function(){}};function _e(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Re(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ua,ua),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ve(t),t;default:if(typeof i.status=="string")i.then(ua,ua);else{if(t=Vn,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=c}},function(c){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ve(t),t}throw Oe=i,fe}}function Se(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Oe=s,fe):s}}var Oe=null;function Me(){if(Oe===null)throw Error(a(459));var t=Oe;return Oe=null,t}function Ve(t){if(t===fe||t===J)throw Error(a(483))}var Fe=null,lt=0;function nt(t){var i=lt;return lt+=1,Fe===null&&(Fe=[]),Re(Fe,t,i)}function zt(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function at(t,i){throw i.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function on(t){function i(be,de){if(t){var Ae=be.deletions;Ae===null?(be.deletions=[de],be.flags|=16):Ae.push(de)}}function s(be,de){if(!t)return null;for(;de!==null;)i(be,de),de=de.sibling;return null}function c(be){for(var de=new Map;be!==null;)be.key!==null?de.set(be.key,be):de.set(be.index,be),be=be.sibling;return de}function p(be,de){return be=Vr(be,de),be.index=0,be.sibling=null,be}function y(be,de,Ae){return be.index=Ae,t?(Ae=be.alternate,Ae!==null?(Ae=Ae.index,Ae<de?(be.flags|=67108866,de):Ae):(be.flags|=67108866,de)):(be.flags|=1048576,de)}function C(be){return t&&be.alternate===null&&(be.flags|=67108866),be}function F(be,de,Ae,qe){return de===null||de.tag!==6?(de=El(Ae,be.mode,qe),de.return=be,de):(de=p(de,Ae),de.return=be,de)}function oe(be,de,Ae,qe){var kt=Ae.type;return kt===S?De(be,de,Ae.props.children,qe,Ae.key):de!==null&&(de.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===$&&Se(kt)===de.type)?(de=p(de,Ae.props),zt(de,Ae),de.return=be,de):(de=Ro(Ae.type,Ae.key,Ae.props,null,be.mode,qe),zt(de,Ae),de.return=be,de)}function Ee(be,de,Ae,qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==Ae.containerInfo||de.stateNode.implementation!==Ae.implementation?(de=Do(Ae,be.mode,qe),de.return=be,de):(de=p(de,Ae.children||[]),de.return=be,de)}function De(be,de,Ae,qe,kt){return de===null||de.tag!==7?(de=Es(Ae,be.mode,qe,kt),de.return=be,de):(de=p(de,Ae),de.return=be,de)}function Ue(be,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=El(""+de,be.mode,Ae),de.return=be,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return Ae=Ro(de.type,de.key,de.props,null,be.mode,Ae),zt(Ae,de),Ae.return=be,Ae;case j:return de=Do(de,be.mode,Ae),de.return=be,de;case $:return de=Se(de),Ue(be,de,Ae)}if(we(de)||H(de))return de=Es(de,be.mode,Ae,null),de.return=be,de;if(typeof de.then=="function")return Ue(be,nt(de),Ae);if(de.$$typeof===D)return Ue(be,mc(be,de),Ae);at(be,de)}return null}function Ce(be,de,Ae,qe){var kt=de!==null?de.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return kt!==null?null:F(be,de,""+Ae,qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:return Ae.key===kt?oe(be,de,Ae,qe):null;case j:return Ae.key===kt?Ee(be,de,Ae,qe):null;case $:return Ae=Se(Ae),Ce(be,de,Ae,qe)}if(we(Ae)||H(Ae))return kt!==null?null:De(be,de,Ae,qe,null);if(typeof Ae.then=="function")return Ce(be,de,nt(Ae),qe);if(Ae.$$typeof===D)return Ce(be,de,mc(be,Ae),qe);at(be,Ae)}return null}function Te(be,de,Ae,qe,kt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return be=be.get(Ae)||null,F(de,be,""+qe,kt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case w:return be=be.get(qe.key===null?Ae:qe.key)||null,oe(de,be,qe,kt);case j:return be=be.get(qe.key===null?Ae:qe.key)||null,Ee(de,be,qe,kt);case $:return qe=Se(qe),Te(be,de,Ae,qe,kt)}if(we(qe)||H(qe))return be=be.get(Ae)||null,De(de,be,qe,kt,null);if(typeof qe.then=="function")return Te(be,de,Ae,nt(qe),kt);if(qe.$$typeof===D)return Te(be,de,Ae,mc(de,qe),kt);at(de,qe)}return null}function ot(be,de,Ae,qe){for(var kt=null,An=null,pt=de,nn=de=0,dn=null;pt!==null&&nn<Ae.length;nn++){pt.index>nn?(dn=pt,pt=null):dn=pt.sibling;var jn=Ce(be,pt,Ae[nn],qe);if(jn===null){pt===null&&(pt=dn);break}t&&pt&&jn.alternate===null&&i(be,pt),de=y(jn,de,nn),An===null?kt=jn:An.sibling=jn,An=jn,pt=dn}if(nn===Ae.length)return s(be,pt),cn&&Ur(be,nn),kt;if(pt===null){for(;nn<Ae.length;nn++)pt=Ue(be,Ae[nn],qe),pt!==null&&(de=y(pt,de,nn),An===null?kt=pt:An.sibling=pt,An=pt);return cn&&Ur(be,nn),kt}for(pt=c(pt);nn<Ae.length;nn++)dn=Te(pt,be,nn,Ae[nn],qe),dn!==null&&(t&&dn.alternate!==null&&pt.delete(dn.key===null?nn:dn.key),de=y(dn,de,nn),An===null?kt=dn:An.sibling=dn,An=dn);return t&&pt.forEach(function(tl){return i(be,tl)}),cn&&Ur(be,nn),kt}function Rt(be,de,Ae,qe){if(Ae==null)throw Error(a(151));for(var kt=null,An=null,pt=de,nn=de=0,dn=null,jn=Ae.next();pt!==null&&!jn.done;nn++,jn=Ae.next()){pt.index>nn?(dn=pt,pt=null):dn=pt.sibling;var tl=Ce(be,pt,jn.value,qe);if(tl===null){pt===null&&(pt=dn);break}t&&pt&&tl.alternate===null&&i(be,pt),de=y(tl,de,nn),An===null?kt=tl:An.sibling=tl,An=tl,pt=dn}if(jn.done)return s(be,pt),cn&&Ur(be,nn),kt;if(pt===null){for(;!jn.done;nn++,jn=Ae.next())jn=Ue(be,jn.value,qe),jn!==null&&(de=y(jn,de,nn),An===null?kt=jn:An.sibling=jn,An=jn);return cn&&Ur(be,nn),kt}for(pt=c(pt);!jn.done;nn++,jn=Ae.next())jn=Te(pt,be,nn,jn.value,qe),jn!==null&&(t&&jn.alternate!==null&&pt.delete(jn.key===null?nn:jn.key),de=y(jn,de,nn),An===null?kt=jn:An.sibling=jn,An=jn);return t&&pt.forEach(function(ry){return i(be,ry)}),cn&&Ur(be,nn),kt}function zn(be,de,Ae,qe){if(typeof Ae=="object"&&Ae!==null&&Ae.type===S&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case w:e:{for(var kt=Ae.key;de!==null;){if(de.key===kt){if(kt=Ae.type,kt===S){if(de.tag===7){s(be,de.sibling),qe=p(de,Ae.props.children),qe.return=be,be=qe;break e}}else if(de.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===$&&Se(kt)===de.type){s(be,de.sibling),qe=p(de,Ae.props),zt(qe,Ae),qe.return=be,be=qe;break e}s(be,de);break}else i(be,de);de=de.sibling}Ae.type===S?(qe=Es(Ae.props.children,be.mode,qe,Ae.key),qe.return=be,be=qe):(qe=Ro(Ae.type,Ae.key,Ae.props,null,be.mode,qe),zt(qe,Ae),qe.return=be,be=qe)}return C(be);case j:e:{for(kt=Ae.key;de!==null;){if(de.key===kt)if(de.tag===4&&de.stateNode.containerInfo===Ae.containerInfo&&de.stateNode.implementation===Ae.implementation){s(be,de.sibling),qe=p(de,Ae.children||[]),qe.return=be,be=qe;break e}else{s(be,de);break}else i(be,de);de=de.sibling}qe=Do(Ae,be.mode,qe),qe.return=be,be=qe}return C(be);case $:return Ae=Se(Ae),zn(be,de,Ae,qe)}if(we(Ae))return ot(be,de,Ae,qe);if(H(Ae)){if(kt=H(Ae),typeof kt!="function")throw Error(a(150));return Ae=kt.call(Ae),Rt(be,de,Ae,qe)}if(typeof Ae.then=="function")return zn(be,de,nt(Ae),qe);if(Ae.$$typeof===D)return zn(be,de,mc(be,Ae),qe);at(be,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,de!==null&&de.tag===6?(s(be,de.sibling),qe=p(de,Ae),qe.return=be,be=qe):(s(be,de),qe=El(Ae,be.mode,qe),qe.return=be,be=qe),C(be)):s(be,de)}return function(be,de,Ae,qe){try{lt=0;var kt=zn(be,de,Ae,qe);return Fe=null,kt}catch(pt){if(pt===fe||pt===J)throw pt;var An=nr(29,pt,null,be.mode);return An.lanes=qe,An.return=be,An}finally{}}}var Gn=on(!0),Jt=on(!1),it=!1;function Je(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qn(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ot(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function en(t,i,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Tn&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,i=tr(t),Al(t,null,s),i}return Nl(t,c,i,s),tr(t)}function kn(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,or(t,s)}}function Ti(t,i){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,y=null;if(s=s.firstBaseUpdate,s!==null){do{var C={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};y===null?p=y=C:y=y.next=C,s=s.next}while(s!==null);y===null?p=y=i:y=y.next=i}else p=y=i;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ji=!1;function Un(){if(Ji){var t=v;if(t!==null)throw t}}function yi(t,i,s,c){Ji=!1;var p=t.updateQueue;it=!1;var y=p.firstBaseUpdate,C=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var oe=F,Ee=oe.next;oe.next=null,C===null?y=Ee:C.next=Ee,C=oe;var De=t.alternate;De!==null&&(De=De.updateQueue,F=De.lastBaseUpdate,F!==C&&(F===null?De.firstBaseUpdate=Ee:F.next=Ee,De.lastBaseUpdate=oe))}if(y!==null){var Ue=p.baseState;C=0,De=Ee=oe=null,F=y;do{var Ce=F.lane&-536870913,Te=Ce!==F.lane;if(Te?(fn&Ce)===Ce:(c&Ce)===Ce){Ce!==0&&Ce===f&&(Ji=!0),De!==null&&(De=De.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var ot=t,Rt=F;Ce=i;var zn=s;switch(Rt.tag){case 1:if(ot=Rt.payload,typeof ot=="function"){Ue=ot.call(zn,Ue,Ce);break e}Ue=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Rt.payload,Ce=typeof ot=="function"?ot.call(zn,Ue,Ce):ot,Ce==null)break e;Ue=A({},Ue,Ce);break e;case 2:it=!0}}Ce=F.callback,Ce!==null&&(t.flags|=64,Te&&(t.flags|=8192),Te=p.callbacks,Te===null?p.callbacks=[Ce]:Te.push(Ce))}else Te={lane:Ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},De===null?(Ee=De=Te,oe=Ue):De=De.next=Te,C|=Ce;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;Te=F,F=Te.next,Te.next=null,p.lastBaseUpdate=Te,p.shared.pending=null}}while(!0);De===null&&(oe=Ue),p.baseState=oe,p.firstBaseUpdate=Ee,p.lastBaseUpdate=De,y===null&&(p.shared.lanes=0),Go|=C,t.lanes=C,t.memoizedState=Ue}}function ir(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function bi(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ir(s[t],i)}var sn=G(null),yn=G(0);function Zn(t,i){t=po,I(yn,t),I(sn,i),po=t|i.baseLanes}function Nn(){I(yn,po),I(sn,sn.current)}function Li(){po=yn.current,L(sn),L(yn)}var ei=G(null),bn=null;function di(t){var i=t.alternate;I(vn,vn.current&1),I(ei,t),bn===null&&(i===null||sn.current!==null||i.memoizedState!==null)&&(bn=t)}function Cn(t){I(vn,vn.current),I(ei,t),bn===null&&(bn=t)}function wi(t){t.tag===22?(I(vn,vn.current),I(ei,t),bn===null&&(bn=t)):_i()}function _i(){I(vn,vn.current),I(ei,ei.current)}function On(t){L(ei),bn===t&&(bn=null),L(vn)}var vn=G(0);function rr(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Bd(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ai=0,At=null,Et=null,wn=null,jr=!1,Zr=!1,vr=!1,xi=0,Ds=0,Bs=null,yc=0;function Fn(){throw Error(a(321))}function pu(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Gi(t[s],i[s]))return!1;return!0}function gu(t,i,s,c,p,y){return ai=y,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Cp:Gf,vr=!1,y=s(c,p),vr=!1,Zr&&(y=cs(i,s,c,p)),bc(t),y}function bc(t){ee.H=Su;var i=Et!==null&&Et.next!==null;if(ai=0,wn=Et=At=null,jr=!1,Ds=0,Bs=null,i)throw Error(a(300));t===null||Fi||(t=t.dependencies,t!==null&&gc(t)&&(Fi=!0))}function cs(t,i,s,c){At=t;var p=0;do{if(Zr&&(Bs=null),Ds=0,Zr=!1,25<=p)throw Error(a(301));if(p+=1,wn=Et=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=Tp,y=i(s,c)}while(Zr);return y}function qf(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Ps(i):i,t=t.useState()[0],(Et!==null?Et.memoizedState:null)!==t&&(At.flags|=1024),i}function mu(){var t=xi!==0;return xi=0,t}function vu(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function wc(t){if(jr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}jr=!1}ai=0,wn=Et=At=null,Zr=!1,Ds=xi=0,Bs=null}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?At.memoizedState=wn=t:wn=wn.next=t,wn}function si(){if(Et===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var i=wn===null?At.memoizedState:wn.next;if(i!==null)wn=i,Et=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},wn===null?At.memoizedState=wn=t:wn=wn.next=t}return wn}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(t){var i=Ds;return Ds+=1,Bs===null&&(Bs=[]),t=Re(Bs,t,i),i=At,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Cp:Gf),t}function Uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ps(t);if(t.$$typeof===D)return Ki(t)}throw Error(a(438,String(t)))}function ro(t){var i=null,s=At.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=At.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ll(),At.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),c=0;c<t;c++)s[c]=ge;return i.index++,s}function Ua(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=si();return Fo(i,Et,t)}function Fo(t,i,s){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var p=t.baseQueue,y=c.pending;if(y!==null){if(p!==null){var C=p.next;p.next=y.next,y.next=C}i.baseQueue=p=y,c.pending=null}if(y=t.baseState,p===null)t.memoizedState=y;else{i=p.next;var F=C=null,oe=null,Ee=i,De=!1;do{var Ue=Ee.lane&-536870913;if(Ue!==Ee.lane?(fn&Ue)===Ue:(ai&Ue)===Ue){var Ce=Ee.revertLane;if(Ce===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ue===f&&(De=!0);else if((ai&Ce)===Ce){Ee=Ee.next,Ce===f&&(De=!0);continue}else Ue={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(F=oe=Ue,C=y):oe=oe.next=Ue,At.lanes|=Ce,Go|=Ce;Ue=Ee.action,vr&&s(y,Ue),y=Ee.hasEagerState?Ee.eagerState:s(y,Ue)}else Ce={lane:Ue,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(F=oe=Ce,C=y):oe=oe.next=Ce,At.lanes|=Ue,Go|=Ue;Ee=Ee.next}while(Ee!==null&&Ee!==i);if(oe===null?C=y:oe.next=F,!Gi(y,t.memoizedState)&&(Fi=!0,De&&(s=v,s!==null)))throw s;t.memoizedState=y,t.baseState=C,t.baseQueue=oe,c.lastRenderedState=y}return p===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function xc(t){var i=si(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var c=s.dispatch,p=s.pending,y=i.memoizedState;if(p!==null){s.pending=null;var C=p=p.next;do y=t(y,C.action),C=C.next;while(C!==p);Gi(y,i.memoizedState)||(Fi=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),s.lastRenderedState=y}return[y,c]}function Sc(t,i,s){var c=At,p=si(),y=cn;if(y){if(s===void 0)throw Error(a(407));s=s()}else s=i();var C=!Gi((Et||p).memoizedState,s);if(C&&(p.memoizedState=s,Fi=!0),p=p.queue,Uf(bu.bind(null,c,p,t),[t]),p.getSnapshot!==i||C||wn!==null&&wn.memoizedState.tag&1){if(c.flags|=2048,so(9,{destroy:void 0},yu.bind(null,c,p,s,i),null),Vn===null)throw Error(a(349));y||(ai&127)!==0||us(c,i,s)}return s}function us(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=At.updateQueue,i===null?(i=Ll(),At.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function yu(t,i,s,c){i.value=s,i.getSnapshot=c,mh(i)&&wu(t)}function bu(t,i,s){return s(function(){mh(i)&&wu(t)})}function mh(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Gi(t,s)}catch{return!0}}function wu(t){var i=os(t,2);i!==null&&ra(i,t,2)}function Ms(t){var i=Ui();if(typeof t=="function"){var s=t;if(t=s(),vr){Dt(!0);try{s()}finally{Dt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:t},i}function vh(t,i,s,c){return t.baseState=s,Fo(t,Et,typeof c=="function"?c:Ua)}function yh(t,i,s,c,p){if(xh(t))throw Error(a(485));if(t=i.action,t!==null){var y={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};ee.T!==null?s(!0):y.isTransition=!1,c(y),s=i.pending,s===null?(y.next=i.pending=y,bh(i,y)):(y.next=s.next,i.pending=s.next=y)}}function bh(t,i){var s=i.action,c=i.payload,p=t.state;if(i.isTransition){var y=ee.T,C={};ee.T=C;try{var F=s(p,c),oe=ee.S;oe!==null&&oe(C,F),_u(t,i,F)}catch(Ee){ao(t,i,Ee)}finally{y!==null&&C.types!==null&&(y.types=C.types),ee.T=y}}else try{y=s(p,c),_u(t,i,y)}catch(Ee){ao(t,i,Ee)}}function _u(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){wh(t,i,c)},function(c){return ao(t,i,c)}):wh(t,i,s)}function wh(t,i,s){i.status="fulfilled",i.value=s,Nc(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,bh(t,s)))}function ao(t,i,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,Nc(i),i=i.next;while(i!==c)}t.action=null}function Nc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ol(t,i){return i}function Fa(t,i){if(cn){var s=Vn.formState;if(s!==null){e:{var c=At;if(cn){if($n){t:{for(var p=$n,y=ri;p.nodeType!==8;){if(!y){p=null;break t}if(p=Ia(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){$n=Ia(p.nextSibling),c=p.data==="F!";break e}}Cs(c)}c=!1}c&&(i=s[0])}}return s=Ui(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ol,lastRenderedState:i},s.queue=c,s=jp.bind(null,At,c),c.dispatch=s,c=Ms(!1),y=$f.bind(null,At,!1,c.queue),c=Ui(),p={state:i,dispatch:null,action:t,pending:null},c.queue=p,s=yh.bind(null,At,p,y,s),p.dispatch=s,c.memoizedState=t,[i,s,!1]}function hs(t){var i=si();return fs(i,Et,t)}function fs(t,i,s){if(i=Fo(t,i,Ol)[0],t=_c(Ua)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ps(i)}catch(C){throw C===fe?J:C}else c=i;i=si();var p=i.queue,y=p.dispatch;return s!==i.memoizedState&&(At.flags|=2048,so(9,{destroy:void 0},Ac.bind(null,p,s),null)),[c,y,t]}function Ac(t,i){t.action=i}function jc(t){var i=si(),s=Et;if(s!==null)return fs(i,s,t);si(),i=i.memoizedState,s=si();var c=s.queue.dispatch;return s.memoizedState=t,[i,c,!1]}function so(t,i,s,c){return t={tag:t,create:s,deps:c,inst:i,next:null},i=At.updateQueue,i===null&&(i=Ll(),At.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,i.lastEffect=t),t}function _h(){return si().memoizedState}function Io(t,i,s,c){var p=Ui();At.flags|=t,p.memoizedState=so(1|i,{destroy:void 0},s,c===void 0?null:c)}function zo(t,i,s,c){var p=si();c=c===void 0?null:c;var y=p.memoizedState.inst;Et!==null&&c!==null&&pu(c,Et.memoizedState.deps)?p.memoizedState=so(i,y,s,c):(At.flags|=t,p.memoizedState=so(1|i,y,s,c))}function fp(t,i){Io(8390656,8,t,i)}function Uf(t,i){zo(2048,8,t,i)}function Q5(t){At.flags|=4;var i=At.updateQueue;if(i===null)i=Ll(),At.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function dp(t){var i=si().memoizedState;return Q5({ref:i,nextImpl:t}),function(){if((Tn&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function pp(t,i){return zo(4,2,t,i)}function gp(t,i){return zo(4,4,t,i)}function mp(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vp(t,i,s){s=s!=null?s.concat([t]):null,zo(4,4,mp.bind(null,i,t),s)}function Ff(){}function yp(t,i){var s=si();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&pu(i,c[1])?c[0]:(s.memoizedState=[t,i],t)}function bp(t,i){var s=si();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&pu(i,c[1]))return c[0];if(c=t(),vr){Dt(!0);try{t()}finally{Dt(!1)}}return s.memoizedState=[c,i],c}function If(t,i,s){return s===void 0||(ai&1073741824)!==0&&(fn&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=w1(),At.lanes|=t,Go|=t,s)}function wp(t,i,s,c){return Gi(s,i)?s:sn.current!==null?(t=If(t,s,c),Gi(t,i)||(Fi=!0),t):(ai&42)===0||(ai&1073741824)!==0&&(fn&261930)===0?(Fi=!0,t.memoizedState=s):(t=w1(),At.lanes|=t,Go|=t,i)}function _p(t,i,s,c,p){var y=X.p;X.p=y!==0&&8>y?y:8;var C=ee.T,F={};ee.T=F,$f(t,!1,i,s);try{var oe=p(),Ee=ee.S;if(Ee!==null&&Ee(F,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var De=R(oe,c);xu(t,i,De,ba(t))}else xu(t,i,c,ba(t))}catch(Ue){xu(t,i,{then:function(){},status:"rejected",reason:Ue},ba())}finally{X.p=y,C!==null&&F.types!==null&&(C.types=F.types),ee.T=C}}function Z5(){}function zf(t,i,s,c){if(t.tag!==5)throw Error(a(476));var p=xp(t).queue;_p(t,p,i,ie,s===null?Z5:function(){return Sp(t),s(c)})}function xp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:ie},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sp(t){var i=xp(t);i.next===null&&(i=t.alternate.memoizedState),xu(t,i.next.queue,{},ba())}function Hf(){return Ki(Uu)}function Np(){return si().memoizedState}function Ap(){return si().memoizedState}function ev(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ba();t=Ot(s);var c=en(i,t,s);c!==null&&(ra(c,i,s),kn(c,i,s)),i={cache:qo()},t.payload=i;return}i=i.return}}function tv(t,i,s){var c=ba();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xh(t)?Ep(i,s):(s=oc(t,i,s,c),s!==null&&(ra(s,t,c),kp(s,i,c)))}function jp(t,i,s){var c=ba();xu(t,i,s,c)}function xu(t,i,s,c){var p={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xh(t))Ep(i,p);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var C=i.lastRenderedState,F=y(C,s);if(p.hasEagerState=!0,p.eagerState=F,Gi(F,C))return Nl(t,i,p,0),Vn===null&&Sl(),!1}catch{}finally{}if(s=oc(t,i,p,c),s!==null)return ra(s,t,c),kp(s,i,c),!0}return!1}function $f(t,i,s,c){if(c={lane:2,revertLane:xd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xh(t)){if(i)throw Error(a(479))}else i=oc(t,s,c,2),i!==null&&ra(i,t,2)}function xh(t){var i=t.alternate;return t===At||i!==null&&i===At}function Ep(t,i){Zr=jr=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function kp(t,i,s){if((s&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,or(t,s)}}var Su={readContext:Ki,use:Uo,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn};Su.useEffectEvent=Fn;var Cp={readContext:Ki,use:Uo,useCallback:function(t,i){return Ui().memoizedState=[t,i===void 0?null:i],t},useContext:Ki,useEffect:fp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Io(4194308,4,mp.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Io(4194308,4,t,i)},useInsertionEffect:function(t,i){Io(4,2,t,i)},useMemo:function(t,i){var s=Ui();i=i===void 0?null:i;var c=t();if(vr){Dt(!0);try{t()}finally{Dt(!1)}}return s.memoizedState=[c,i],c},useReducer:function(t,i,s){var c=Ui();if(s!==void 0){var p=s(i);if(vr){Dt(!0);try{s(i)}finally{Dt(!1)}}}else p=i;return c.memoizedState=c.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},c.queue=t,t=t.dispatch=tv.bind(null,At,t),[c.memoizedState,t]},useRef:function(t){var i=Ui();return t={current:t},i.memoizedState=t},useState:function(t){t=Ms(t);var i=t.queue,s=jp.bind(null,At,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Ff,useDeferredValue:function(t,i){var s=Ui();return If(s,t,i)},useTransition:function(){var t=Ms(!1);return t=_p.bind(null,At,t.queue,!0,!1),Ui().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var c=At,p=Ui();if(cn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Vn===null)throw Error(a(349));(fn&127)!==0||us(c,i,s)}p.memoizedState=s;var y={value:s,getSnapshot:i};return p.queue=y,fp(bu.bind(null,c,y,t),[t]),c.flags|=2048,so(9,{destroy:void 0},yu.bind(null,c,y,s,i),null),s},useId:function(){var t=Ui(),i=Vn.identifierPrefix;if(cn){var s=Xr,c=Jr;s=(c&~(1<<32-an(c)-1)).toString(32)+s,i="_"+i+"R_"+s,s=xi++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=yc++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Fa,useActionState:Fa,useOptimistic:function(t){var i=Ui();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$f.bind(null,At,!0,s),s.dispatch=i,[t,i]},useMemoCache:ro,useCacheRefresh:function(){return Ui().memoizedState=ev.bind(null,At)},useEffectEvent:function(t){var i=Ui(),s={impl:t};return i.memoizedState=s,function(){if((Tn&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:Ki,use:Uo,useCallback:yp,useContext:Ki,useEffect:Uf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:_c,useRef:_h,useState:function(){return _c(Ua)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=si();return wp(s,Et.memoizedState,t,i)},useTransition:function(){var t=_c(Ua)[0],i=si().memoizedState;return[typeof t=="boolean"?t:Ps(t),i]},useSyncExternalStore:Sc,useId:Np,useHostTransitionStatus:Hf,useFormState:hs,useActionState:hs,useOptimistic:function(t,i){var s=si();return vh(s,Et,t,i)},useMemoCache:ro,useCacheRefresh:Ap};Gf.useEffectEvent=dp;var Tp={readContext:Ki,use:Uo,useCallback:yp,useContext:Ki,useEffect:Uf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:gp,useMemo:bp,useReducer:xc,useRef:_h,useState:function(){return xc(Ua)},useDebugValue:Ff,useDeferredValue:function(t,i){var s=si();return Et===null?If(s,t,i):wp(s,Et.memoizedState,t,i)},useTransition:function(){var t=xc(Ua)[0],i=si().memoizedState;return[typeof t=="boolean"?t:Ps(t),i]},useSyncExternalStore:Sc,useId:Np,useHostTransitionStatus:Hf,useFormState:jc,useActionState:jc,useOptimistic:function(t,i){var s=si();return Et!==null?vh(s,Et,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ro,useCacheRefresh:Ap};Tp.useEffectEvent=dp;function Vf(t,i,s,c){i=t.memoizedState,s=s(c,i),s=s==null?i:A({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Yf={enqueueSetState:function(t,i,s){t=t._reactInternals;var c=ba(),p=Ot(c);p.payload=i,s!=null&&(p.callback=s),i=en(t,p,c),i!==null&&(ra(i,t,c),kn(i,t,c))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var c=ba(),p=Ot(c);p.tag=1,p.payload=i,s!=null&&(p.callback=s),i=en(t,p,c),i!==null&&(ra(i,t,c),kn(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ba(),c=Ot(s);c.tag=2,i!=null&&(c.callback=i),i=en(t,c,s),i!==null&&(ra(i,t,s),kn(i,t,s))}};function Lp(t,i,s,c,p,y,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,C):i.prototype&&i.prototype.isPureReactComponent?!is(s,c)||!is(p,y):!0}function Op(t,i,s,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==t&&Yf.enqueueReplaceState(i,i.state,null)}function Rl(t,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(t=t.defaultProps){s===i&&(s=A({},s));for(var p in t)s[p]===void 0&&(s[p]=t[p])}return s}function Rp(t){xl(t)}function Dp(t){console.error(t)}function Bp(t){xl(t)}function Sh(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Pp(t,i,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wf(t,i,s){return s=Ot(s),s.tag=3,s.payload={element:null},s.callback=function(){Sh(t,i)},s}function Mp(t){return t=Ot(t),t.tag=3,t}function qp(t,i,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;t.payload=function(){return p(y)},t.callback=function(){Pp(i,s,c)}}var C=s.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Pp(i,s,c),typeof p!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})})}function nv(t,i,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Os(i,s,p,!0),s=ei.current,s!==null){switch(s.tag){case 31:case 13:return bn===null?Bh():s.alternate===null&&Si===0&&(Si=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===me?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),bd(t,c,p)),!1;case 22:return s.flags|=65536,c===me?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),bd(t,c,p)),!1}throw Error(a(435,s.tag))}return bd(t,c,p),Bh(),!1}if(cn)return i=ei.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,c!==ma&&(t=Error(a(422),{cause:c}),Po(Yr(t,s)))):(c!==ma&&(i=Error(a(423),{cause:c}),Po(Yr(i,s))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,c=Yr(c,s),p=Wf(t.stateNode,c,p),Ti(t,p),Si!==4&&(Si=2)),!1;var y=Error(a(520),{cause:c});if(y=Yr(y,s),Lu===null?Lu=[y]:Lu.push(y),Si!==4&&(Si=2),i===null)return!0;c=Yr(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=p&-p,s.lanes|=t,t=Wf(s.stateNode,c,t),Ti(s,t),!1;case 1:if(i=s.type,y=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vo===null||!Vo.has(y))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Mp(p),qp(p,t,s,c),Ti(s,p),!1}s=s.return}while(s!==null);return!1}var Kf=Error(a(461)),Fi=!1;function yr(t,i,s,c){i.child=t===null?Jt(i,null,s,c):Gn(i,t.child,s,c)}function Up(t,i,s,c,p){s=s.render;var y=i.ref;if("ref"in c){var C={};for(var F in c)F!=="ref"&&(C[F]=c[F])}else C=c;return Rs(i),c=gu(t,i,s,C,y,p),F=mu(),t!==null&&!Fi?(vu(t,i,p),oo(t,i,p)):(cn&&F&&hu(i),i.flags|=1,yr(t,i,c,p),i.child)}function Fp(t,i,s,c,p){if(t===null){var y=s.type;return typeof y=="function"&&!cc(y)&&y.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=y,Ip(t,i,y,c,p)):(t=Ro(s.type,null,c,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!id(t,p)){var C=y.memoizedProps;if(s=s.compare,s=s!==null?s:is,s(C,c)&&t.ref===i.ref)return oo(t,i,p)}return i.flags|=1,t=Vr(y,c),t.ref=i.ref,t.return=i,i.child=t}function Ip(t,i,s,c,p){if(t!==null){var y=t.memoizedProps;if(is(y,c)&&t.ref===i.ref)if(Fi=!1,i.pendingProps=c=y,id(t,p))(t.flags&131072)!==0&&(Fi=!0);else return i.lanes=t.lanes,oo(t,i,p)}return Jf(t,i,s,c,p)}function zp(t,i,s,c){var p=c.children,y=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|s:s,t!==null){for(c=i.child=t.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~y}else c=0,i.child=null;return Hp(t,i,y,s,c)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&V(i,y!==null?y.cachePool:null),y!==null?Zn(i,y):Nn(),wi(i);else return c=i.lanes=536870912,Hp(t,i,y!==null?y.baseLanes|s:s,s,c)}else y!==null?(V(i,y.cachePool),Zn(i,y),_i(),i.memoizedState=null):(t!==null&&V(i,null),Nn(),_i());return yr(t,i,p,s),i.child}function Nu(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hp(t,i,s,c,p){var y=z();return y=y===null?null:{parent:fi._currentValue,pool:y},i.memoizedState={baseLanes:s,cachePool:y},t!==null&&V(i,null),Nn(),wi(i),t!==null&&Os(t,i,c,!0),i.childLanes=p,null}function Nh(t,i){return i=jh({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $p(t,i,s){return Gn(i,t.child,null,s),t=Nh(i,i.pendingProps),t.flags|=2,On(i),i.memoizedState=null,t}function iv(t,i,s){var c=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(cn){if(c.mode==="hidden")return t=Nh(i,c),i.lanes=536870912,Nu(null,t);if(Cn(i),(t=$n)?(t=n2(t,ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},s=uc(t),s.return=i,i.child=s,Yi=i,$n=null)):t=null,t===null)throw Cs(i);return i.lanes=536870912,null}return Nh(i,c)}var y=t.memoizedState;if(y!==null){var C=y.dehydrated;if(Cn(i),p)if(i.flags&256)i.flags&=-257,i=$p(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Fi||Os(t,i,s,!1),p=(s&t.childLanes)!==0,Fi||p){if(c=Vn,c!==null&&(C=lr(c,s),C!==0&&C!==y.retryLane))throw y.retryLane=C,os(t,C),ra(c,t,C),Kf;Bh(),i=$p(t,i,s)}else t=y.treeContext,$n=Ia(C.nextSibling),Yi=i,cn=!0,mr=null,ri=!1,t!==null&&ph(i,t),i=Nh(i,c),i.flags|=4096;return i}return t=Vr(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ah(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Jf(t,i,s,c,p){return Rs(i),s=gu(t,i,s,c,void 0,p),c=mu(),t!==null&&!Fi?(vu(t,i,p),oo(t,i,p)):(cn&&c&&hu(i),i.flags|=1,yr(t,i,s,p),i.child)}function Gp(t,i,s,c,p,y){return Rs(i),i.updateQueue=null,s=cs(i,c,s,p),bc(t),c=mu(),t!==null&&!Fi?(vu(t,i,y),oo(t,i,y)):(cn&&c&&hu(i),i.flags|=1,yr(t,i,s,y),i.child)}function Vp(t,i,s,c,p){if(Rs(i),i.stateNode===null){var y=Vi,C=s.contextType;typeof C=="object"&&C!==null&&(y=Ki(C)),y=new s(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Yf,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},Je(i),C=s.contextType,y.context=typeof C=="object"&&C!==null?Ki(C):Vi,y.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Vf(i,s,C,c),y.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Yf.enqueueReplaceState(y,y.state,null),yi(i,c,y,p),Un(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){y=i.stateNode;var F=i.memoizedProps,oe=Rl(s,F);y.props=oe;var Ee=y.context,De=s.contextType;C=Vi,typeof De=="object"&&De!==null&&(C=Ki(De));var Ue=s.getDerivedStateFromProps;De=typeof Ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",F=i.pendingProps!==F,De||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(F||Ee!==C)&&Op(i,y,c,C),it=!1;var Ce=i.memoizedState;y.state=Ce,yi(i,c,y,p),Un(),Ee=i.memoizedState,F||Ce!==Ee||it?(typeof Ue=="function"&&(Vf(i,s,Ue,c),Ee=i.memoizedState),(oe=it||Lp(i,s,oe,c,Ce,Ee,C))?(De||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Ee),y.props=c,y.state=Ee,y.context=C,c=oe):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Qn(t,i),C=i.memoizedProps,De=Rl(s,C),y.props=De,Ue=i.pendingProps,Ce=y.context,Ee=s.contextType,oe=Vi,typeof Ee=="object"&&Ee!==null&&(oe=Ki(Ee)),F=s.getDerivedStateFromProps,(Ee=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==Ue||Ce!==oe)&&Op(i,y,c,oe),it=!1,Ce=i.memoizedState,y.state=Ce,yi(i,c,y,p),Un();var Te=i.memoizedState;C!==Ue||Ce!==Te||it||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof F=="function"&&(Vf(i,s,F,c),Te=i.memoizedState),(De=it||Lp(i,s,De,c,Ce,Te,oe)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(Ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,Te,oe),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,Te,oe)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Te),y.props=c,y.state=Te,y.context=oe,c=De):(typeof y.componentDidUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Ce===t.memoizedState||(i.flags|=1024),c=!1)}return y=c,Ah(t,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&c?(i.child=Gn(i,t.child,null,p),i.child=Gn(i,null,s,p)):yr(t,i,s,p),i.memoizedState=y.state,t=i.child):t=oo(t,i,p),t}function Yp(t,i,s,c){return no(),i.flags|=256,yr(t,i,s,c),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:Q()}}function Zf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ya),t}function Wp(t,i,s){var c=i.pendingProps,p=!1,y=(i.flags&128)!==0,C;if((C=y)||(C=t!==null&&t.memoizedState===null?!1:(vn.current&2)!==0),C&&(p=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(cn){if(p?di(i):_i(),(t=$n)?(t=n2(t,ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},s=uc(t),s.return=i,i.child=s,Yi=i,$n=null)):t=null,t===null)throw Cs(i);return Bd(t)?i.lanes=32:i.lanes=536870912,null}var F=c.children;return c=c.fallback,p?(_i(),p=i.mode,F=jh({mode:"hidden",children:F},p),c=Es(c,p,s,null),F.return=i,c.return=i,F.sibling=c,i.child=F,c=i.child,c.memoizedState=Qf(s),c.childLanes=Zf(t,C,s),i.memoizedState=Xf,Nu(null,c)):(di(i),ed(i,F))}var oe=t.memoizedState;if(oe!==null&&(F=oe.dehydrated,F!==null)){if(y)i.flags&256?(di(i),i.flags&=-257,i=td(t,i,s)):i.memoizedState!==null?(_i(),i.child=t.child,i.flags|=128,i=null):(_i(),F=c.fallback,p=i.mode,c=jh({mode:"visible",children:c.children},p),F=Es(F,p,s,null),F.flags|=2,c.return=i,F.return=i,c.sibling=F,i.child=c,Gn(i,t.child,null,s),c=i.child,c.memoizedState=Qf(s),c.childLanes=Zf(t,C,s),i.memoizedState=Xf,i=Nu(null,c));else if(di(i),Bd(F)){if(C=F.nextSibling&&F.nextSibling.dataset,C)var Ee=C.dgst;C=Ee,c=Error(a(419)),c.stack="",c.digest=C,Po({value:c,source:null,stack:null}),i=td(t,i,s)}else if(Fi||Os(t,i,s,!1),C=(s&t.childLanes)!==0,Fi||C){if(C=Vn,C!==null&&(c=lr(C,s),c!==0&&c!==oe.retryLane))throw oe.retryLane=c,os(t,c),ra(C,t,c),Kf;Dd(F)||Bh(),i=td(t,i,s)}else Dd(F)?(i.flags|=192,i.child=t.child,i=null):(t=oe.treeContext,$n=Ia(F.nextSibling),Yi=i,cn=!0,mr=null,ri=!1,t!==null&&ph(i,t),i=ed(i,c.children),i.flags|=4096);return i}return p?(_i(),F=c.fallback,p=i.mode,oe=t.child,Ee=oe.sibling,c=Vr(oe,{mode:"hidden",children:c.children}),c.subtreeFlags=oe.subtreeFlags&65011712,Ee!==null?F=Vr(Ee,F):(F=Es(F,p,s,null),F.flags|=2),F.return=i,c.return=i,c.sibling=F,i.child=c,Nu(null,c),c=i.child,F=t.child.memoizedState,F===null?F=Qf(s):(p=F.cachePool,p!==null?(oe=fi._currentValue,p=p.parent!==oe?{parent:oe,pool:oe}:p):p=Q(),F={baseLanes:F.baseLanes|s,cachePool:p}),c.memoizedState=F,c.childLanes=Zf(t,C,s),i.memoizedState=Xf,Nu(t.child,c)):(di(i),s=t.child,t=s.sibling,s=Vr(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=s,i.memoizedState=null,s)}function ed(t,i){return i=jh({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jh(t,i){return t=nr(22,t,null,i),t.lanes=0,t}function td(t,i,s){return Gn(i,t.child,null,s),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Kp(t,i,s){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Mo(t.return,i,s)}function nd(t,i,s,c,p,y){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p,treeForkCount:y}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=s,C.tailMode=p,C.treeForkCount=y)}function Jp(t,i,s){var c=i.pendingProps,p=c.revealOrder,y=c.tail;c=c.children;var C=vn.current,F=(C&2)!==0;if(F?(C=C&1|2,i.flags|=128):C&=1,I(vn,C),yr(t,i,c,s),c=cn?kl:0,!F&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kp(t,s,i);else if(t.tag===19)Kp(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(s=i.child,p=null;s!==null;)t=s.alternate,t!==null&&rr(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=i.child,i.child=null):(p=s.sibling,s.sibling=null),nd(i,!1,p,s,y,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&rr(t)===null){i.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}nd(i,!0,s,null,y,c);break;case"together":nd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function oo(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Go|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Os(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Vr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Vr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function rv(t,i,s){switch(i.tag){case 3:ke(i,i.stateNode.containerInfo),Ls(i,fi,t.memoizedState.cache),no();break;case 27:case 5:Be(i);break;case 4:ke(i,i.stateNode.containerInfo);break;case 10:Ls(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cn(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(di(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Wp(t,i,s):(di(i),t=oo(t,i,s),t!==null?t.sibling:null);di(i);break;case 19:var p=(t.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Os(t,i,s,!1),c=(s&i.childLanes)!==0),p){if(c)return Jp(t,i,s);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),I(vn,vn.current),c)break;return null;case 22:return i.lanes=0,zp(t,i,s,i.pendingProps);case 24:Ls(i,fi,t.memoizedState.cache)}return oo(t,i,s)}function Xp(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Fi=!0;else{if(!id(t,s)&&(i.flags&128)===0)return Fi=!1,rv(t,i,s);Fi=(t.flags&131072)!==0}else Fi=!1,cn&&(i.flags&1048576)!==0&&dh(i,kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=Se(i.elementType),i.type=t,typeof t=="function")cc(t)?(c=Rl(t,c),i.tag=1,i=Vp(null,i,t,c,s)):(i.tag=0,i=Jf(null,i,t,c,s));else{if(t!=null){var p=t.$$typeof;if(p===U){i.tag=11,i=Up(null,i,t,c,s);break e}else if(p===te){i.tag=14,i=Fp(null,i,t,c,s);break e}}throw i=re(t)||t,Error(a(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,s);case 1:return c=i.type,p=Rl(c,i.pendingProps),Vp(t,i,c,p,s);case 3:e:{if(ke(i,i.stateNode.containerInfo),t===null)throw Error(a(387));c=i.pendingProps;var y=i.memoizedState;p=y.element,Qn(t,i),yi(i,c,null,s);var C=i.memoizedState;if(c=C.cache,Ls(i,fi,c),c!==y.cache&&io(i,[fi],s,!0),Un(),c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Yp(t,i,c,s);break e}else if(c!==p){p=Yr(Error(a(424)),i),Po(p),i=Yp(t,i,c,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($n=Ia(t.firstChild),Yi=i,cn=!0,mr=null,ri=!0,s=Jt(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(no(),c===p){i=oo(t,i,s);break e}yr(t,i,c,s)}i=i.child}return i;case 26:return Ah(t,i),t===null?(s=l2(i.type,null,i.pendingProps,null))?i.memoizedState=s:cn||(s=i.type,t=i.pendingProps,c=zh(ue.current).createElement(s),c[_n]=i,c[Hn]=t,br(c,s,t),tt(c),i.stateNode=c):i.memoizedState=l2(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Be(i),t===null&&cn&&(c=i.stateNode=a2(i.type,i.pendingProps,ue.current),Yi=i,ri=!0,p=$n,Jo(i.type)?(Pd=p,$n=Ia(c.firstChild)):$n=p),yr(t,i,i.pendingProps.children,s),Ah(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&cn&&((p=c=$n)&&(c=Dv(c,i.type,i.pendingProps,ri),c!==null?(i.stateNode=c,Yi=i,$n=Ia(c.firstChild),ri=!1,p=!0):p=!1),p||Cs(i)),Be(i),p=i.type,y=i.pendingProps,C=t!==null?t.memoizedProps:null,c=y.children,Ld(p,y)?c=null:C!==null&&Ld(p,C)&&(i.flags|=32),i.memoizedState!==null&&(p=gu(t,i,qf,null,null,s),Uu._currentValue=p),Ah(t,i),yr(t,i,c,s),i.child;case 6:return t===null&&cn&&((t=s=$n)&&(s=Bv(s,i.pendingProps,ri),s!==null?(i.stateNode=s,Yi=i,$n=null,t=!0):t=!1),t||Cs(i)),null;case 13:return Wp(t,i,s);case 4:return ke(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Gn(i,null,c,s):yr(t,i,c,s),i.child;case 11:return Up(t,i,i.type,i.pendingProps,s);case 7:return yr(t,i,i.pendingProps,s),i.child;case 8:return yr(t,i,i.pendingProps.children,s),i.child;case 12:return yr(t,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Ls(i,i.type,c.value),yr(t,i,c.children,s),i.child;case 9:return p=i.type._context,c=i.pendingProps.children,Rs(i),p=Ki(p),c=c(p),i.flags|=1,yr(t,i,c,s),i.child;case 14:return Fp(t,i,i.type,i.pendingProps,s);case 15:return Ip(t,i,i.type,i.pendingProps,s);case 19:return Jp(t,i,s);case 31:return iv(t,i,s);case 22:return zp(t,i,s,i.pendingProps);case 24:return Rs(i),c=Ki(fi),t===null?(p=z(),p===null&&(p=Vn,y=qo(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=s),p=y),i.memoizedState={parent:c,cache:p},Je(i),Ls(i,fi,p)):((t.lanes&s)!==0&&(Qn(t,i),yi(i,null,null,s),Un()),p=t.memoizedState,y=i.memoizedState,p.parent!==c?(p={parent:c,cache:c},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ls(i,fi,c)):(c=y.cache,Ls(i,fi,c),c!==p.cache&&io(i,[fi],s,!0))),yr(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function lo(t){t.flags|=4}function rd(t,i,s,c,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(N1())t.flags|=8192;else throw Oe=me,Ne}else t.flags&=-16777217}function Qp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!d2(i))if(N1())t.flags|=8192;else throw Oe=me,Ne}function Eh(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fr():536870912,t.lanes|=i,Tc|=i)}function Au(t,i){if(!cn)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ti(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(i)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=s,i}function av(t,i,s){var c=i.pendingProps;switch(dc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(i),null;case 1:return ti(i),null;case 3:return s=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Qr(fi),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Wi(i)?lo(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,du())),ti(i),null;case 26:var p=i.type,y=i.memoizedState;return t===null?(lo(i),y!==null?(ti(i),Qp(i,y)):(ti(i),rd(i,p,null,c,s))):y?y!==t.memoizedState?(lo(i),ti(i),Qp(i,y)):(ti(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&lo(i),ti(i),rd(i,p,t,c,s)),null;case 27:if(Ge(i),s=ue.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&lo(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return ti(i),null}t=W.current,Wi(i)?fu(i):(t=a2(p,c,s),i.stateNode=t,lo(i))}return ti(i),null;case 5:if(Ge(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&lo(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return ti(i),null}if(y=W.current,Wi(i))fu(i);else{var C=zh(ue.current);switch(y){case 1:y=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=C.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?y.multiple=!0:c.size&&(y.size=c.size);break;default:y=typeof c.is=="string"?C.createElement(p,{is:c.is}):C.createElement(p)}}y[_n]=i,y[Hn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)y.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=y;e:switch(br(y,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&lo(i)}}return ti(i),rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&lo(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(t=ue.current,Wi(i)){if(t=i.stateNode,s=i.memoizedProps,c=null,p=Yi,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}t[_n]=i,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||W1(t.nodeValue,s)),t||Cs(i,!0)}else t=zh(t).createTextNode(c),t[_n]=i,i.stateNode=t}return ti(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(c=Wi(i),s!==null){if(t===null){if(!c)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_n]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ti(i),t=!1}else s=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(On(i),i):(On(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ti(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Wi(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[_n]=i}else no(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ti(i),p=!1}else p=du(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(On(i),i):(On(i),null)}return On(i),(i.flags&128)!==0?(i.lanes=s,i):(s=c!==null,t=t!==null&&t.memoizedState!==null,s&&(c=i.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Eh(i,i.updateQueue),ti(i),null);case 4:return je(),t===null&&jd(i.stateNode.containerInfo),ti(i),null;case 10:return Qr(i.type),ti(i),null;case 19:if(L(vn),c=i.memoizedState,c===null)return ti(i),null;if(p=(i.flags&128)!==0,y=c.rendering,y===null)if(p)Au(c,!1);else{if(Si!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=rr(t),y!==null){for(i.flags|=128,Au(c,!1),t=y.updateQueue,i.updateQueue=t,Eh(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)jl(s,t),s=s.sibling;return I(vn,vn.current&1|2),cn&&Ur(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&Gt()>Oh&&(i.flags|=128,p=!0,Au(c,!1),i.lanes=4194304)}else{if(!p)if(t=rr(y),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Eh(i,t),Au(c,!0),c.tail===null&&c.tailMode==="hidden"&&!y.alternate&&!cn)return ti(i),null}else 2*Gt()-c.renderingStartTime>Oh&&s!==536870912&&(i.flags|=128,p=!0,Au(c,!1),i.lanes=4194304);c.isBackwards?(y.sibling=i.child,i.child=y):(t=c.last,t!==null?t.sibling=y:i.child=y,c.last=y)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Gt(),t.sibling=null,s=vn.current,I(vn,p?s&1|2:s&1),cn&&Ur(i,c.treeForkCount),t):(ti(i),null);case 22:case 23:return On(i),Li(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(ti(i),i.subtreeFlags&6&&(i.flags|=8192)):ti(i),s=i.updateQueue,s!==null&&Eh(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),t!==null&&L(q),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Qr(fi),ti(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function sv(t,i){switch(dc(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qr(fi),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 31:if(i.memoizedState!==null){if(On(i),i.alternate===null)throw Error(a(340));no()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(On(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));no()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return L(vn),null;case 4:return je(),null;case 10:return Qr(i.type),null;case 22:case 23:return On(i),Li(),t!==null&&L(q),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qr(fi),null;case 25:return null;default:return null}}function Zp(t,i){switch(dc(i),i.tag){case 3:Qr(fi),je();break;case 26:case 27:case 5:Ge(i);break;case 4:je();break;case 31:i.memoizedState!==null&&On(i);break;case 13:On(i);break;case 19:L(vn);break;case 10:Qr(i.type);break;case 22:case 23:On(i),Li(),t!==null&&L(q);break;case 24:Qr(fi)}}function ju(t,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&t)===t){c=void 0;var y=s.create,C=s.inst;c=y(),C.destroy=c}s=s.next}while(s!==p)}}catch(F){Dn(i,i.return,F)}}function Ho(t,i,s){try{var c=i.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&t)===t){var C=c.inst,F=C.destroy;if(F!==void 0){C.destroy=void 0,p=i;var oe=s,Ee=F;try{Ee()}catch(De){Dn(p,oe,De)}}}c=c.next}while(c!==y)}}catch(De){Dn(i,i.return,De)}}function e1(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{bi(i,s)}catch(c){Dn(t,t.return,c)}}}function t1(t,i,s){s.props=Rl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){Dn(t,i,c)}}function Eu(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(p){Dn(t,i,p)}}function qs(t,i){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){Dn(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){Dn(t,i,p)}else s.current=null}function n1(t){var i=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){Dn(t,t.return,p)}}function ad(t,i,s){try{var c=t.stateNode;kv(c,t.type,s,i),c[Hn]=i}catch(p){Dn(t,t.return,p)}}function i1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jo(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ua));else if(c!==4&&(c===27&&Jo(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,s),t=t.sibling;t!==null;)od(t,i,s),t=t.sibling}function kh(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(c!==4&&(c===27&&Jo(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(kh(t,i,s),t=t.sibling;t!==null;)kh(t,i,s),t=t.sibling}function r1(t){var i=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);br(i,c,s),i[_n]=t,i[Hn]=s}catch(y){Dn(t,t.return,y)}}var co=!1,Ii=!1,ld=!1,a1=typeof WeakSet=="function"?WeakSet:Set,ar=null;function ov(t,i){if(t=t.containerInfo,Cd=Kh,t=as(t),Pa(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{s.nodeType,y.nodeType}catch{s=null;break e}var C=0,F=-1,oe=-1,Ee=0,De=0,Ue=t,Ce=null;t:for(;;){for(var Te;Ue!==s||p!==0&&Ue.nodeType!==3||(F=C+p),Ue!==y||c!==0&&Ue.nodeType!==3||(oe=C+c),Ue.nodeType===3&&(C+=Ue.nodeValue.length),(Te=Ue.firstChild)!==null;)Ce=Ue,Ue=Te;for(;;){if(Ue===t)break t;if(Ce===s&&++Ee===p&&(F=C),Ce===y&&++De===c&&(oe=C),(Te=Ue.nextSibling)!==null)break;Ue=Ce,Ce=Ue.parentNode}Ue=Te}s=F===-1||oe===-1?null:{start:F,end:oe}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:t,selectionRange:s},Kh=!1,ar=i;ar!==null;)if(i=ar,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ar=t;else for(;ar!==null;){switch(i=ar,y=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)p=t[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,s=i,p=y.memoizedProps,y=y.memoizedState,c=s.stateNode;try{var ot=Rl(s.type,p);t=c.getSnapshotBeforeUpdate(ot,y),c.__reactInternalSnapshotBeforeUpdate=t}catch(Rt){Dn(s,s.return,Rt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Rd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ar=t;break}ar=i.return}}function s1(t,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ho(t,s),c&4&&ju(5,s);break;case 1:if(ho(t,s),c&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(C){Dn(s,s.return,C)}else{var p=Rl(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Dn(s,s.return,C)}}c&64&&e1(s),c&512&&Eu(s,s.return);break;case 3:if(ho(t,s),c&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{bi(t,i)}catch(C){Dn(s,s.return,C)}}break;case 27:i===null&&c&4&&r1(s);case 26:case 5:ho(t,s),i===null&&c&4&&n1(s),c&512&&Eu(s,s.return);break;case 12:ho(t,s);break;case 31:ho(t,s),c&4&&c1(t,s);break;case 13:ho(t,s),c&4&&u1(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=mv.bind(null,s),Pv(t,s))));break;case 22:if(c=s.memoizedState!==null||co,!c){i=i!==null&&i.memoizedState!==null||Ii,p=co;var y=Ii;co=c,(Ii=i)&&!y?fo(t,s,(s.subtreeFlags&8772)!==0):ho(t,s),co=p,Ii=y}break;case 30:break;default:ho(t,s)}}function o1(t){var i=t.alternate;i!==null&&(t.alternate=null,o1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&se(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oi=null,ea=!1;function uo(t,i,s){for(s=s.child;s!==null;)l1(t,i,s),s=s.sibling}function l1(t,i,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(tn,s)}catch{}switch(s.tag){case 26:Ii||qs(s,i),uo(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ii||qs(s,i);var c=oi,p=ea;Jo(s.type)&&(oi=s.stateNode,ea=!1),uo(t,i,s),Pu(s.stateNode),oi=c,ea=p;break;case 5:Ii||qs(s,i);case 6:if(c=oi,p=ea,oi=null,uo(t,i,s),oi=c,ea=p,oi!==null)if(ea)try{(oi.nodeType===9?oi.body:oi.nodeName==="HTML"?oi.ownerDocument.body:oi).removeChild(s.stateNode)}catch(y){Dn(s,i,y)}else try{oi.removeChild(s.stateNode)}catch(y){Dn(s,i,y)}break;case 18:oi!==null&&(ea?(t=oi,e2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qc(t)):e2(oi,s.stateNode));break;case 4:c=oi,p=ea,oi=s.stateNode.containerInfo,ea=!0,uo(t,i,s),oi=c,ea=p;break;case 0:case 11:case 14:case 15:Ho(2,s,i),Ii||Ho(4,s,i),uo(t,i,s);break;case 1:Ii||(qs(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&t1(s,i,c)),uo(t,i,s);break;case 21:uo(t,i,s);break;case 22:Ii=(c=Ii)||s.memoizedState!==null,uo(t,i,s),Ii=c;break;default:uo(t,i,s)}}function c1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qc(t)}catch(s){Dn(i,i.return,s)}}}function u1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qc(t)}catch(s){Dn(i,i.return,s)}}function lv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new a1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new a1),i;default:throw Error(a(435,t.tag))}}function Ch(t,i){var s=lv(t);i.forEach(function(c){if(!s.has(c)){s.add(c);var p=vv.bind(null,t,c);c.then(p,p)}})}function ta(t,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],y=t,C=i,F=C;e:for(;F!==null;){switch(F.tag){case 27:if(Jo(F.type)){oi=F.stateNode,ea=!1;break e}break;case 5:oi=F.stateNode,ea=!1;break e;case 3:case 4:oi=F.stateNode.containerInfo,ea=!0;break e}F=F.return}if(oi===null)throw Error(a(160));l1(y,C,p),oi=null,ea=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)h1(i,t),i=i.sibling}var ds=null;function h1(t,i){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ta(i,t),na(t),c&4&&(Ho(3,t,t.return),ju(3,t),Ho(5,t,t.return));break;case 1:ta(i,t),na(t),c&512&&(Ii||s===null||qs(s,s.return)),c&64&&co&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=ds;if(ta(i,t),na(t),c&512&&(Ii||s===null||qs(s,s.return)),c&4){var y=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Rr]||y[_n]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),br(y,c,s),y[_n]=t,tt(y),c=y;break e;case"link":var C=h2("link","href",p).get(c+(s.href||""));if(C){for(var F=0;F<C.length;F++)if(y=C[F],y.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&y.getAttribute("rel")===(s.rel==null?null:s.rel)&&y.getAttribute("title")===(s.title==null?null:s.title)&&y.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){C.splice(F,1);break t}}y=p.createElement(c),br(y,c,s),p.head.appendChild(y);break;case"meta":if(C=h2("meta","content",p).get(c+(s.content||""))){for(F=0;F<C.length;F++)if(y=C[F],y.getAttribute("content")===(s.content==null?null:""+s.content)&&y.getAttribute("name")===(s.name==null?null:s.name)&&y.getAttribute("property")===(s.property==null?null:s.property)&&y.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&y.getAttribute("charset")===(s.charSet==null?null:s.charSet)){C.splice(F,1);break t}}y=p.createElement(c),br(y,c,s),p.head.appendChild(y);break;default:throw Error(a(468,c))}y[_n]=t,tt(y),c=y}t.stateNode=c}else f2(p,t.type,t.stateNode);else t.stateNode=u2(p,c,t.memoizedProps);else y!==c?(y===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):y.count--,c===null?f2(p,t.type,t.stateNode):u2(p,c,t.memoizedProps)):c===null&&t.stateNode!==null&&ad(t,t.memoizedProps,s.memoizedProps)}break;case 27:ta(i,t),na(t),c&512&&(Ii||s===null||qs(s,s.return)),s!==null&&c&4&&ad(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ta(i,t),na(t),c&512&&(Ii||s===null||qs(s,s.return)),t.flags&32){p=t.stateNode;try{ca(p,"")}catch(ot){Dn(t,t.return,ot)}}c&4&&t.stateNode!=null&&(p=t.memoizedProps,ad(t,p,s!==null?s.memoizedProps:p)),c&1024&&(ld=!0);break;case 6:if(ta(i,t),na(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(ot){Dn(t,t.return,ot)}}break;case 3:if(Gh=null,p=ds,ds=Hh(i.containerInfo),ta(i,t),ds=p,na(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{qc(i.containerInfo)}catch(ot){Dn(t,t.return,ot)}ld&&(ld=!1,f1(t));break;case 4:c=ds,ds=Hh(t.stateNode.containerInfo),ta(i,t),na(t),ds=c;break;case 12:ta(i,t),na(t);break;case 31:ta(i,t),na(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ch(t,c)));break;case 13:ta(i,t),na(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Lh=Gt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ch(t,c)));break;case 22:p=t.memoizedState!==null;var oe=s!==null&&s.memoizedState!==null,Ee=co,De=Ii;if(co=Ee||p,Ii=De||oe,ta(i,t),Ii=De,co=Ee,na(t),c&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(s===null||oe||co||Ii||Dl(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){oe=s=i;try{if(y=oe.stateNode,p)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{F=oe.stateNode;var Ue=oe.memoizedProps.style,Ce=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;F.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(ot){Dn(oe,oe.return,ot)}}}else if(i.tag===6){if(s===null){oe=i;try{oe.stateNode.nodeValue=p?"":oe.memoizedProps}catch(ot){Dn(oe,oe.return,ot)}}}else if(i.tag===18){if(s===null){oe=i;try{var Te=oe.stateNode;p?t2(Te,!0):t2(oe.stateNode,!1)}catch(ot){Dn(oe,oe.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Ch(t,s))));break;case 19:ta(i,t),na(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Ch(t,c)));break;case 30:break;case 21:break;default:ta(i,t),na(t)}}function na(t){var i=t.flags;if(i&2){try{for(var s,c=t.return;c!==null;){if(i1(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var p=s.stateNode,y=sd(t);kh(t,y,p);break;case 5:var C=s.stateNode;s.flags&32&&(ca(C,""),s.flags&=-33);var F=sd(t);kh(t,F,C);break;case 3:case 4:var oe=s.stateNode.containerInfo,Ee=sd(t);od(t,Ee,oe);break;default:throw Error(a(161))}}catch(De){Dn(t,t.return,De)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function f1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;f1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ho(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s1(t,i.alternate,i),i=i.sibling}function Dl(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ho(4,i,i.return),Dl(i);break;case 1:qs(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&t1(i,i.return,s),Dl(i);break;case 27:Pu(i.stateNode);case 26:case 5:qs(i,i.return),Dl(i);break;case 22:i.memoizedState===null&&Dl(i);break;case 30:Dl(i);break;default:Dl(i)}t=t.sibling}}function fo(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,p=t,y=i,C=y.flags;switch(y.tag){case 0:case 11:case 15:fo(p,y,s),ju(4,y);break;case 1:if(fo(p,y,s),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Ee){Dn(c,c.return,Ee)}if(c=y,p=c.updateQueue,p!==null){var F=c.stateNode;try{var oe=p.shared.hiddenCallbacks;if(oe!==null)for(p.shared.hiddenCallbacks=null,p=0;p<oe.length;p++)ir(oe[p],F)}catch(Ee){Dn(c,c.return,Ee)}}s&&C&64&&e1(y),Eu(y,y.return);break;case 27:r1(y);case 26:case 5:fo(p,y,s),s&&c===null&&C&4&&n1(y),Eu(y,y.return);break;case 12:fo(p,y,s);break;case 31:fo(p,y,s),s&&C&4&&c1(p,y);break;case 13:fo(p,y,s),s&&C&4&&u1(p,y);break;case 22:y.memoizedState===null&&fo(p,y,s),Eu(y,y.return);break;case 30:break;default:fo(p,y,s)}i=i.sibling}}function cd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cl(s))}function ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t))}function ps(t,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d1(t,i,s,c),i=i.sibling}function d1(t,i,s,c){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ps(t,i,s,c),p&2048&&ju(9,i);break;case 1:ps(t,i,s,c);break;case 3:ps(t,i,s,c),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Cl(t)));break;case 12:if(p&2048){ps(t,i,s,c),t=i.stateNode;try{var y=i.memoizedProps,C=y.id,F=y.onPostCommit;typeof F=="function"&&F(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(oe){Dn(i,i.return,oe)}}else ps(t,i,s,c);break;case 31:ps(t,i,s,c);break;case 13:ps(t,i,s,c);break;case 23:break;case 22:y=i.stateNode,C=i.alternate,i.memoizedState!==null?y._visibility&2?ps(t,i,s,c):ku(t,i):y._visibility&2?ps(t,i,s,c):(y._visibility|=2,Ec(t,i,s,c,(i.subtreeFlags&10256)!==0||!1)),p&2048&&cd(C,i);break;case 24:ps(t,i,s,c),p&2048&&ud(i.alternate,i);break;default:ps(t,i,s,c)}}function Ec(t,i,s,c,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=t,C=i,F=s,oe=c,Ee=C.flags;switch(C.tag){case 0:case 11:case 15:Ec(y,C,F,oe,p),ju(8,C);break;case 23:break;case 22:var De=C.stateNode;C.memoizedState!==null?De._visibility&2?Ec(y,C,F,oe,p):ku(y,C):(De._visibility|=2,Ec(y,C,F,oe,p)),p&&Ee&2048&&cd(C.alternate,C);break;case 24:Ec(y,C,F,oe,p),p&&Ee&2048&&ud(C.alternate,C);break;default:Ec(y,C,F,oe,p)}i=i.sibling}}function ku(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,c=i,p=c.flags;switch(c.tag){case 22:ku(s,c),p&2048&&cd(c.alternate,c);break;case 24:ku(s,c),p&2048&&ud(c.alternate,c);break;default:ku(s,c)}i=i.sibling}}var Cu=8192;function kc(t,i,s){if(t.subtreeFlags&Cu)for(t=t.child;t!==null;)p1(t,i,s),t=t.sibling}function p1(t,i,s){switch(t.tag){case 26:kc(t,i,s),t.flags&Cu&&t.memoizedState!==null&&Wv(s,ds,t.memoizedState,t.memoizedProps);break;case 5:kc(t,i,s);break;case 3:case 4:var c=ds;ds=Hh(t.stateNode.containerInfo),kc(t,i,s),ds=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Cu,Cu=16777216,kc(t,i,s),Cu=c):kc(t,i,s));break;default:kc(t,i,s)}}function g1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];ar=c,v1(c,t)}g1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m1(t),t=t.sibling}function m1(t){switch(t.tag){case 0:case 11:case 15:Tu(t),t.flags&2048&&Ho(9,t,t.return);break;case 3:Tu(t);break;case 12:Tu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Th(t)):Tu(t);break;default:Tu(t)}}function Th(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];ar=c,v1(c,t)}g1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ho(8,i,i.return),Th(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Th(i));break;default:Th(i)}t=t.sibling}}function v1(t,i){for(;ar!==null;){var s=ar;switch(s.tag){case 0:case 11:case 15:Ho(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,ar=c;else e:for(s=t;ar!==null;){c=ar;var p=c.sibling,y=c.return;if(o1(c),c===s){ar=null;break e}if(p!==null){p.return=y,ar=p;break e}ar=y}}}var cv={getCacheForType:function(t){var i=Ki(fi),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Ki(fi).controller.signal}},uv=typeof WeakMap=="function"?WeakMap:Map,Tn=0,Vn=null,un=null,fn=0,Rn=0,va=null,$o=!1,Cc=!1,hd=!1,po=0,Si=0,Go=0,Bl=0,fd=0,ya=0,Tc=0,Lu=null,ia=null,dd=!1,Lh=0,y1=0,Oh=1/0,Rh=null,Vo=null,Xi=0,Yo=null,Lc=null,go=0,pd=0,gd=null,b1=null,Ou=0,md=null;function ba(){return(Tn&2)!==0&&fn!==0?fn&-fn:ee.T!==null?xd():gi()}function w1(){if(ya===0)if((fn&536870912)===0||cn){var t=En;En<<=1,(En&3932160)===0&&(En=262144),ya=t}else ya=536870912;return t=ei.current,t!==null&&(t.flags|=32),ya}function ra(t,i,s){(t===Vn&&(Rn===2||Rn===9)||t.cancelPendingCommit!==null)&&(Oc(t,0),Wo(t,fn,ya,!1)),bt(t,s),((Tn&2)===0||t!==Vn)&&(t===Vn&&((Tn&2)===0&&(Bl|=s),Si===4&&Wo(t,fn,ya,!1)),Us(t))}function _1(t,i,s){if((Tn&6)!==0)throw Error(a(327));var c=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Or(t,i),p=c?dv(t,i):yd(t,i,!0),y=c;do{if(p===0){Cc&&!c&&Wo(t,i,0,!1);break}else{if(s=t.current.alternate,y&&!hv(s)){p=yd(t,i,!1),y=!1;continue}if(p===2){if(y=i,t.errorRecoveryDisabledLanes&y)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var F=t;p=Lu;var oe=F.current.memoizedState.isDehydrated;if(oe&&(Oc(F,C).flags|=256),C=yd(F,C,!1),C!==2){if(hd&&!oe){F.errorRecoveryDisabledLanes|=y,Bl|=y,p=4;break e}y=ia,ia=p,y!==null&&(ia===null?ia=y:ia.push.apply(ia,y))}p=C}if(y=!1,p!==2)continue}}if(p===1){Oc(t,0),Wo(t,i,0,!0);break}e:{switch(c=t,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Wo(c,i,ya,!$o);break e;case 2:ia=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Lh+300-Gt(),10<p)){if(Wo(c,i,ya,!$o),ln(c,0,!0)!==0)break e;go=i,c.timeoutHandle=Q1(x1.bind(null,c,s,ia,Rh,dd,i,ya,Bl,Tc,$o,y,"Throttled",-0,0),p);break e}x1(c,s,ia,Rh,dd,i,ya,Bl,Tc,$o,y,null,-0,0)}}break}while(!0);Us(t)}function x1(t,i,s,c,p,y,C,F,oe,Ee,De,Ue,Ce,Te){if(t.timeoutHandle=-1,Ue=i.subtreeFlags,Ue&8192||(Ue&16785408)===16785408){Ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},p1(i,y,Ue);var ot=(y&62914560)===y?Lh-Gt():(y&4194048)===y?y1-Gt():0;if(ot=Kv(Ue,ot),ot!==null){go=y,t.cancelPendingCommit=ot(T1.bind(null,t,i,y,s,c,p,C,F,oe,De,Ue,null,Ce,Te)),Wo(t,y,C,!Ee);return}}T1(t,i,y,s,c,p,C,F,oe)}function hv(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],y=p.getSnapshot;p=p.value;try{if(!Gi(y(),p))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wo(t,i,s,c){i&=~fd,i&=~Bl,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var p=i;0<p;){var y=31-an(p),C=1<<y;c[y]=-1,p&=~C}s!==0&&Ir(t,s,i)}function Dh(){return(Tn&6)===0?(Ru(0),!1):!0}function vd(){if(un!==null){if(Rn===0)var t=un.return;else t=un,qa=Ts=null,wc(t),Fe=null,lt=0,t=un;for(;t!==null;)Zp(t.alternate,t),t=t.return;un=null}}function Oc(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Lv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),go=0,vd(),Vn=t,un=s=Vr(t.current,null),fn=i,Rn=0,va=null,$o=!1,Cc=Or(t,i),hd=!1,Tc=ya=fd=Bl=Go=Si=0,ia=Lu=null,dd=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var p=31-an(c),y=1<<p;i|=t[p],c&=~y}return po=i,Sl(),s}function S1(t,i){At=null,ee.H=Su,i===fe||i===J?(i=Me(),Rn=3):i===Ne?(i=Me(),Rn=4):Rn=i===Kf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,va=i,un===null&&(Si=1,Sh(t,Yr(i,t.current)))}function N1(){var t=ei.current;return t===null?!0:(fn&4194048)===fn?bn===null:(fn&62914560)===fn||(fn&536870912)!==0?t===bn:!1}function A1(){var t=ee.H;return ee.H=Su,t===null?Su:t}function j1(){var t=ee.A;return ee.A=cv,t}function Bh(){Si=4,$o||(fn&4194048)!==fn&&ei.current!==null||(Cc=!0),(Go&134217727)===0&&(Bl&134217727)===0||Vn===null||Wo(Vn,fn,ya,!1)}function yd(t,i,s){var c=Tn;Tn|=2;var p=A1(),y=j1();(Vn!==t||fn!==i)&&(Rh=null,Oc(t,i)),i=!1;var C=Si;e:do try{if(Rn!==0&&un!==null){var F=un,oe=va;switch(Rn){case 8:vd(),C=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(i=!0);var Ee=Rn;if(Rn=0,va=null,Rc(t,F,oe,Ee),s&&Cc){C=0;break e}break;default:Ee=Rn,Rn=0,va=null,Rc(t,F,oe,Ee)}}fv(),C=Si;break}catch(De){S1(t,De)}while(!0);return i&&t.shellSuspendCounter++,qa=Ts=null,Tn=c,ee.H=p,ee.A=y,un===null&&(Vn=null,fn=0,Sl()),C}function fv(){for(;un!==null;)E1(un)}function dv(t,i){var s=Tn;Tn|=2;var c=A1(),p=j1();Vn!==t||fn!==i?(Rh=null,Oh=Gt()+500,Oc(t,i)):Cc=Or(t,i);e:do try{if(Rn!==0&&un!==null){i=un;var y=va;t:switch(Rn){case 1:Rn=0,va=null,Rc(t,i,y,1);break;case 2:case 9:if(_e(y)){Rn=0,va=null,k1(i);break}i=function(){Rn!==2&&Rn!==9||Vn!==t||(Rn=7),Us(t)},y.then(i,i);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:_e(y)?(Rn=0,va=null,k1(i)):(Rn=0,va=null,Rc(t,i,y,7));break;case 5:var C=null;switch(un.tag){case 26:C=un.memoizedState;case 5:case 27:var F=un;if(C?d2(C):F.stateNode.complete){Rn=0,va=null;var oe=F.sibling;if(oe!==null)un=oe;else{var Ee=F.return;Ee!==null?(un=Ee,Ph(Ee)):un=null}break t}}Rn=0,va=null,Rc(t,i,y,5);break;case 6:Rn=0,va=null,Rc(t,i,y,6);break;case 8:vd(),Si=6;break e;default:throw Error(a(462))}}pv();break}catch(De){S1(t,De)}while(!0);return qa=Ts=null,ee.H=c,ee.A=p,Tn=s,un!==null?0:(Vn=null,fn=0,Sl(),Si)}function pv(){for(;un!==null&&!Nt();)E1(un)}function E1(t){var i=Xp(t.alternate,t,po);t.memoizedProps=t.pendingProps,i===null?Ph(t):un=i}function k1(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Gp(s,i,i.pendingProps,i.type,void 0,fn);break;case 11:i=Gp(s,i,i.pendingProps,i.type.render,i.ref,fn);break;case 5:wc(i);default:Zp(s,i),i=un=jl(i,po),i=Xp(s,i,po)}t.memoizedProps=t.pendingProps,i===null?Ph(t):un=i}function Rc(t,i,s,c){qa=Ts=null,wc(i),Fe=null,lt=0;var p=i.return;try{if(nv(t,p,i,s,fn)){Si=1,Sh(t,Yr(s,t.current)),un=null;return}}catch(y){if(p!==null)throw un=p,y;Si=1,Sh(t,Yr(s,t.current)),un=null;return}i.flags&32768?(cn||c===1?t=!0:Cc||(fn&536870912)!==0?t=!1:($o=t=!0,(c===2||c===9||c===3||c===6)&&(c=ei.current,c!==null&&c.tag===13&&(c.flags|=16384))),C1(i,t)):Ph(i)}function Ph(t){var i=t;do{if((i.flags&32768)!==0){C1(i,$o);return}t=i.return;var s=av(i.alternate,i,po);if(s!==null){un=s;return}if(i=i.sibling,i!==null){un=i;return}un=i=t}while(i!==null);Si===0&&(Si=5)}function C1(t,i){do{var s=sv(t.alternate,t);if(s!==null){s.flags&=32767,un=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){un=t;return}un=t=s}while(t!==null);Si=6,un=null}function T1(t,i,s,c,p,y,C,F,oe){t.cancelPendingCommit=null;do Mh();while(Xi!==0);if((Tn&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=sc,sa(t,s,y,C,F,oe),t===Vn&&(un=Vn=null,fn=0),Lc=i,Yo=t,go=s,pd=y,gd=p,b1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yv(Zt,function(){return B1(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,p=X.p,X.p=2,C=Tn,Tn|=4;try{ov(t,i,s)}finally{Tn=C,X.p=p,ee.T=c}}Xi=1,L1(),O1(),R1()}}function L1(){if(Xi===1){Xi=0;var t=Yo,i=Lc,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null;var c=X.p;X.p=2;var p=Tn;Tn|=4;try{h1(i,t);var y=Td,C=as(t.containerInfo),F=y.focusedElem,oe=y.selectionRange;if(C!==F&&F&&F.ownerDocument&&rs(F.ownerDocument.documentElement,F)){if(oe!==null&&Pa(F)){var Ee=oe.start,De=oe.end;if(De===void 0&&(De=Ee),"selectionStart"in F)F.selectionStart=Ee,F.selectionEnd=Math.min(De,F.value.length);else{var Ue=F.ownerDocument||document,Ce=Ue&&Ue.defaultView||window;if(Ce.getSelection){var Te=Ce.getSelection(),ot=F.textContent.length,Rt=Math.min(oe.start,ot),zn=oe.end===void 0?Rt:Math.min(oe.end,ot);!Te.extend&&Rt>zn&&(C=zn,zn=Rt,Rt=C);var be=Oo(F,Rt),de=Oo(F,zn);if(be&&de&&(Te.rangeCount!==1||Te.anchorNode!==be.node||Te.anchorOffset!==be.offset||Te.focusNode!==de.node||Te.focusOffset!==de.offset)){var Ae=Ue.createRange();Ae.setStart(be.node,be.offset),Te.removeAllRanges(),Rt>zn?(Te.addRange(Ae),Te.extend(de.node,de.offset)):(Ae.setEnd(de.node,de.offset),Te.addRange(Ae))}}}}for(Ue=[],Te=F;Te=Te.parentNode;)Te.nodeType===1&&Ue.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ue.length;F++){var qe=Ue[F];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}Kh=!!Cd,Td=Cd=null}finally{Tn=p,X.p=c,ee.T=s}}t.current=i,Xi=2}}function O1(){if(Xi===2){Xi=0;var t=Yo,i=Lc,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=ee.T,ee.T=null;var c=X.p;X.p=2;var p=Tn;Tn|=4;try{s1(t,i.alternate,i)}finally{Tn=p,X.p=c,ee.T=s}}Xi=3}}function R1(){if(Xi===4||Xi===3){Xi=0,yt();var t=Yo,i=Lc,s=go,c=b1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Xi=5:(Xi=0,Lc=Yo=null,D1(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Vo=null),ii(s),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(tn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=ee.T,p=X.p,X.p=2,ee.T=null;try{for(var y=t.onRecoverableError,C=0;C<c.length;C++){var F=c[C];y(F.value,{componentStack:F.stack})}}finally{ee.T=i,X.p=p}}(go&3)!==0&&Mh(),Us(t),p=t.pendingLanes,(s&261930)!==0&&(p&42)!==0?t===md?Ou++:(Ou=0,md=t):Ou=0,Ru(0)}}function D1(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Cl(i)))}function Mh(){return L1(),O1(),R1(),B1()}function B1(){if(Xi!==5)return!1;var t=Yo,i=pd;pd=0;var s=ii(go),c=ee.T,p=X.p;try{X.p=32>s?32:s,ee.T=null,s=gd,gd=null;var y=Yo,C=go;if(Xi=0,Lc=Yo=null,go=0,(Tn&6)!==0)throw Error(a(331));var F=Tn;if(Tn|=4,m1(y.current),d1(y,y.current,C,s),Tn=F,Ru(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(tn,y)}catch{}return!0}finally{X.p=p,ee.T=c,D1(t,i)}}function P1(t,i,s){i=Yr(s,i),i=Wf(t.stateNode,i,2),t=en(t,i,2),t!==null&&(bt(t,2),Us(t))}function Dn(t,i,s){if(t.tag===3)P1(t,t,s);else for(;i!==null;){if(i.tag===3){P1(i,t,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vo===null||!Vo.has(c))){t=Yr(s,t),s=Mp(2),c=en(i,s,2),c!==null&&(qp(s,c,i,t),bt(c,2),Us(c));break}}i=i.return}}function bd(t,i,s){var c=t.pingCache;if(c===null){c=t.pingCache=new uv;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(s)||(hd=!0,p.add(s),t=gv.bind(null,t,i,s),i.then(t,t))}function gv(t,i,s){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Vn===t&&(fn&s)===s&&(Si===4||Si===3&&(fn&62914560)===fn&&300>Gt()-Lh?(Tn&2)===0&&Oc(t,0):fd|=s,Tc===fn&&(Tc=0)),Us(t)}function M1(t,i){i===0&&(i=Fr()),t=os(t,i),t!==null&&(bt(t,i),Us(t))}function mv(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),M1(t,s)}function vv(t,i){var s=0;switch(t.tag){case 31:case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),M1(t,s)}function yv(t,i){return xt(t,i)}var qh=null,Dc=null,wd=!1,Uh=!1,_d=!1,Ko=0;function Us(t){t!==Dc&&t.next===null&&(Dc===null?qh=Dc=t:Dc=Dc.next=t),Uh=!0,wd||(wd=!0,wv())}function Ru(t,i){if(!_d&&Uh){_d=!0;do for(var s=!1,c=qh;c!==null;){if(t!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var C=c.suspendedLanes,F=c.pingedLanes;y=(1<<31-an(42|t)+1)-1,y&=p&~(C&~F),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(s=!0,I1(c,y))}else y=fn,y=ln(c,c===Vn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Or(c,y)||(s=!0,I1(c,y));c=c.next}while(s);_d=!1}}function bv(){q1()}function q1(){Uh=wd=!1;var t=0;Ko!==0&&Tv()&&(t=Ko);for(var i=Gt(),s=null,c=qh;c!==null;){var p=c.next,y=U1(c,i);y===0?(c.next=null,s===null?qh=p:s.next=p,p===null&&(Dc=s)):(s=c,(t!==0||(y&3)!==0)&&(Uh=!0)),c=p}Xi!==0&&Xi!==5||Ru(t),Ko!==0&&(Ko=0)}function U1(t,i){for(var s=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var C=31-an(y),F=1<<C,oe=p[C];oe===-1?((F&s)===0||(F&c)!==0)&&(p[C]=Bi(F,i)):oe<=i&&(t.expiredLanes|=F),y&=~F}if(i=Vn,s=fn,s=ln(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===i&&(Rn===2||Rn===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&et(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Or(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(c!==null&&et(c),ii(s)){case 2:case 8:s=rn;break;case 32:s=Zt;break;case 268435456:s=It;break;default:s=Zt}return c=F1.bind(null,t),s=xt(s,c),t.callbackPriority=i,t.callbackNode=s,i}return c!==null&&c!==null&&et(c),t.callbackPriority=2,t.callbackNode=null,2}function F1(t,i){if(Xi!==0&&Xi!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Mh()&&t.callbackNode!==s)return null;var c=fn;return c=ln(t,t===Vn?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(_1(t,c,i),U1(t,Gt()),t.callbackNode!=null&&t.callbackNode===s?F1.bind(null,t):null)}function I1(t,i){if(Mh())return null;_1(t,i,!0)}function wv(){Ov(function(){(Tn&6)!==0?xt(Ft,bv):q1()})}function xd(){if(Ko===0){var t=f;t===0&&(t=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),Ko=t}return Ko}function z1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function H1(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function _v(t,i,s,c,p){if(i==="submit"&&s&&s.stateNode===p){var y=z1((p[Hn]||null).action),C=c.submitter;C&&(i=(i=C[Hn]||null)?z1(i.formAction):C.getAttribute("formAction"),i!==null&&(y=i,C=null));var F=new Hr("action","action",null,c,p);t.push({event:F,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ko!==0){var oe=C?H1(p,C):new FormData(p);zf(s,{pending:!0,data:oe,method:p.method,action:y},null,oe)}}else typeof y=="function"&&(F.preventDefault(),oe=C?H1(p,C):new FormData(p),zf(s,{pending:!0,data:oe,method:p.method,action:y},y,oe))},currentTarget:p}]})}}for(var Sd=0;Sd<Zs.length;Sd++){var Nd=Zs[Sd],xv=Nd.toLowerCase(),Sv=Nd[0].toUpperCase()+Nd.slice(1);Gr(xv,"on"+Sv)}Gr(Qs,"onAnimationEnd"),Gr(_l,"onAnimationIteration"),Gr(lu,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(uh,"onTransitionRun"),Gr(hh,"onTransitionStart"),Gr(fh,"onTransitionCancel"),Gr(cu,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function $1(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],p=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var C=c.length-1;0<=C;C--){var F=c[C],oe=F.instance,Ee=F.currentTarget;if(F=F.listener,oe!==y&&p.isPropagationStopped())break e;y=F,p.currentTarget=Ee;try{y(p)}catch(De){xl(De)}p.currentTarget=null,y=oe}else for(C=0;C<c.length;C++){if(F=c[C],oe=F.instance,Ee=F.currentTarget,F=F.listener,oe!==y&&p.isPropagationStopped())break e;y=F,p.currentTarget=Ee;try{y(p)}catch(De){xl(De)}p.currentTarget=null,y=oe}}}}function hn(t,i){var s=i[Zi];s===void 0&&(s=i[Zi]=new Set);var c=t+"__bubble";s.has(c)||(G1(i,t,2,!1),s.add(c))}function Ad(t,i,s){var c=0;i&&(c|=4),G1(s,t,c,i)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Fh]){t[Fh]=!0,pn.forEach(function(s){s!=="selectionchange"&&(Nv.has(s)||Ad(s,!1,t),Ad(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fh]||(i[Fh]=!0,Ad("selectionchange",!1,i))}}function G1(t,i,s,c){switch(w2(i)){case 2:var p=Qv;break;case 8:p=Zv;break;default:p=Id}s=p.bind(null,i,s,t),p=void 0,!ml||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(i,s,{capture:!0,passive:p}):t.addEventListener(i,s,!0):p!==void 0?t.addEventListener(i,s,{passive:p}):t.addEventListener(i,s,!1)}function Ed(t,i,s,c,p){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var F=c.stateNode.containerInfo;if(F===p)break;if(C===4)for(C=c.return;C!==null;){var oe=C.tag;if((oe===3||oe===4)&&C.stateNode.containerInfo===p)return;C=C.return}for(;F!==null;){if(C=ve(F),C===null)return;if(oe=C.tag,oe===5||oe===6||oe===26||oe===27){c=y=C;continue e}F=F.parentNode}}c=c.return}tc(function(){var Ee=y,De=Gs(s),Ue=[];e:{var Ce=uu.get(t);if(Ce!==void 0){var Te=Hr,ot=t;switch(t){case"keypress":if(zr(s)===0)break e;case"keydown":case"keyup":Te=gn;break;case"focusin":ot="focus",Te=Ja;break;case"focusout":ot="blur",Te=Ja;break;case"beforeblur":case"afterblur":Te=Ja;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Ci;break;case Qs:case _l:case lu:Te=_;break;case cu:Te=$i;break;case"scroll":case"scrollend":Te=Ao;break;case"wheel":Te=ha;break;case"copy":case"cut":case"paste":Te=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ci;break;case"toggle":case"beforetoggle":Te=yl}var Rt=(i&4)!==0,zn=!Rt&&(t==="scroll"||t==="scrollend"),be=Rt?Ce!==null?Ce+"Capture":null:Ce;Rt=[];for(var de=Ee,Ae;de!==null;){var qe=de;if(Ae=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Ae===null||be===null||(qe=Dr(de,be),qe!=null&&Rt.push(Bu(de,qe,Ae))),zn)break;de=de.return}0<Rt.length&&(Ce=new Te(Ce,ot,null,s,De),Ue.push({event:Ce,listeners:Rt}))}}if((i&7)===0){e:{if(Ce=t==="mouseover"||t==="pointerover",Te=t==="mouseout"||t==="pointerout",Ce&&s!==$a&&(ot=s.relatedTarget||s.fromElement)&&(ve(ot)||ot[Pi]))break e;if((Te||Ce)&&(Ce=De.window===De?De:(Ce=De.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Te?(ot=s.relatedTarget||s.toElement,Te=Ee,ot=ot?ve(ot):null,ot!==null&&(zn=l(ot),Rt=ot.tag,ot!==zn||Rt!==5&&Rt!==27&&Rt!==6)&&(ot=null)):(Te=null,ot=Ee),Te!==ot)){if(Rt=vl,qe="onMouseLeave",be="onMouseEnter",de="mouse",(t==="pointerout"||t==="pointerover")&&(Rt=ci,qe="onPointerLeave",be="onPointerEnter",de="pointer"),zn=Te==null?Ce:We(Te),Ae=ot==null?Ce:We(ot),Ce=new Rt(qe,de+"leave",Te,s,De),Ce.target=zn,Ce.relatedTarget=Ae,qe=null,ve(De)===Ee&&(Rt=new Rt(be,de+"enter",ot,s,De),Rt.target=Ae,Rt.relatedTarget=zn,qe=Rt),zn=qe,Te&&ot)t:{for(Rt=Av,be=Te,de=ot,Ae=0,qe=be;qe;qe=Rt(qe))Ae++;qe=0;for(var kt=de;kt;kt=Rt(kt))qe++;for(;0<Ae-qe;)be=Rt(be),Ae--;for(;0<qe-Ae;)de=Rt(de),qe--;for(;Ae--;){if(be===de||de!==null&&be===de.alternate){Rt=be;break t}be=Rt(be),de=Rt(de)}Rt=null}else Rt=null;Te!==null&&V1(Ue,Ce,Te,Rt,!1),ot!==null&&zn!==null&&V1(Ue,zn,ot,Rt,!0)}}e:{if(Ce=Ee?We(Ee):window,Te=Ce.nodeName&&Ce.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ce.type==="file")var An=js;else if(bl(Ce))if(Ar)An=Da;else{An=ui;var pt=To}else Te=Ce.nodeName,!Te||Te.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Ee&&dl(Ee.elementType)&&(An=js):An=ac;if(An&&(An=An(t,Ee))){Pr(Ue,An,s,De);break e}pt&&pt(t,Ce,Ee),t==="focusout"&&Ee&&Ce.type==="number"&&Ee.memoizedProps.value!=null&&ul(Ce,"number",Ce.value)}switch(pt=Ee?We(Ee):window,t){case"focusin":(bl(pt)||pt.contentEditable==="true")&&(Mr=pt,ss=Ee,er=null);break;case"focusout":er=ss=Mr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":$r=!1,Sn(Ue,s,De);break;case"selectionchange":if(Xs)break;case"keydown":case"keyup":Sn(Ue,s,De)}var nn;if(Ta)e:{switch(t){case"compositionstart":var dn="onCompositionStart";break e;case"compositionend":dn="onCompositionEnd";break e;case"compositionupdate":dn="onCompositionUpdate";break e}dn=void 0}else La?As(t,s)&&(dn="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(dn="onCompositionStart");dn&&(Za&&s.locale!=="ko"&&(La||dn!=="onCompositionStart"?dn==="onCompositionEnd"&&La&&(nn=nc()):(Br=De,Ys="value"in Br?Br.value:Br.textContent,La=!0)),pt=Ih(Ee,dn),0<pt.length&&(dn=new ye(dn,t,null,s,De),Ue.push({event:dn,listeners:pt}),nn?dn.data=nn:(nn=Eo(s),nn!==null&&(dn.data=nn)))),(nn=Js?pr(t,s):es(t,s))&&(dn=Ih(Ee,"onBeforeInput"),0<dn.length&&(pt=new ye("onBeforeInput","beforeinput",null,s,De),Ue.push({event:pt,listeners:dn}),pt.data=nn)),_v(Ue,t,Ee,s,De)}$1(Ue,i)})}function Bu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Ih(t,i){for(var s=i+"Capture",c=[];t!==null;){var p=t,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Dr(t,s),p!=null&&c.unshift(Bu(t,p,y)),p=Dr(t,i),p!=null&&c.push(Bu(t,p,y))),t.tag===3)return c;t=t.return}return[]}function Av(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V1(t,i,s,c,p){for(var y=i._reactName,C=[];s!==null&&s!==c;){var F=s,oe=F.alternate,Ee=F.stateNode;if(F=F.tag,oe!==null&&oe===c)break;F!==5&&F!==26&&F!==27||Ee===null||(oe=Ee,p?(Ee=Dr(s,y),Ee!=null&&C.unshift(Bu(s,Ee,oe))):p||(Ee=Dr(s,y),Ee!=null&&C.push(Bu(s,Ee,oe)))),s=s.return}C.length!==0&&t.push({event:i,listeners:C})}var jv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Y1(t){return(typeof t=="string"?t:""+t).replace(jv,`
`).replace(Ev,"")}function W1(t,i){return i=Y1(i),Y1(t)===i}function In(t,i,s,c,p,y){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ca(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ca(t,""+c);break;case"className":oa(t,"class",c);break;case"tabIndex":oa(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(t,s,c);break;case"style":Ql(t,c,y);break;case"data":if(i!=="object"){oa(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=Nr(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(s==="formAction"?(i!=="input"&&In(t,i,"name",p.name,p,null),In(t,i,"formEncType",p.formEncType,p,null),In(t,i,"formMethod",p.formMethod,p,null),In(t,i,"formTarget",p.formTarget,p,null)):(In(t,i,"encType",p.encType,p,null),In(t,i,"method",p.method,p,null),In(t,i,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=Nr(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=ua);break;case"onScroll":c!=null&&hn("scroll",t);break;case"onScrollEnd":c!=null&&hn("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=Nr(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":hn("beforetoggle",t),hn("toggle",t),Sr(t,"popover",c);break;case"xlinkActuate":la(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":la(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":la(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":la(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":la(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":la(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":la(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":la(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":la(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Sr(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pl.get(s)||s,Sr(t,s,c))}}function kd(t,i,s,c,p,y){switch(s){case"style":Ql(t,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof c=="string"?ca(t,c):(typeof c=="number"||typeof c=="bigint")&&ca(t,""+c);break;case"onScroll":c!=null&&hn("scroll",t);break;case"onScrollEnd":c!=null&&hn("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),i=s.slice(2,p?s.length-7:void 0),y=t[Hn]||null,y=y!=null?y[s]:null,typeof y=="function"&&t.removeEventListener(i,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,c,p);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):Sr(t,s,c)}}}function br(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",t),hn("load",t);var c=!1,p=!1,y;for(y in s)if(s.hasOwnProperty(y)){var C=s[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:In(t,i,y,C,s,null)}}p&&In(t,i,"srcSet",s.srcSet,s,null),c&&In(t,i,"src",s.src,s,null);return;case"input":hn("invalid",t);var F=y=C=p=null,oe=null,Ee=null;for(c in s)if(s.hasOwnProperty(c)){var De=s[c];if(De!=null)switch(c){case"name":p=De;break;case"type":C=De;break;case"checked":oe=De;break;case"defaultChecked":Ee=De;break;case"value":y=De;break;case"defaultValue":F=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(a(137,i));break;default:In(t,i,c,De,s,null)}}Jl(t,y,F,oe,Ee,C,p,!1);return;case"select":hn("invalid",t),c=C=y=null;for(p in s)if(s.hasOwnProperty(p)&&(F=s[p],F!=null))switch(p){case"value":y=F;break;case"defaultValue":C=F;break;case"multiple":c=F;default:In(t,i,p,F,s,null)}i=y,s=C,t.multiple=!!c,i!=null?dr(t,!!c,i,!1):s!=null&&dr(t,!!c,s,!0);return;case"textarea":hn("invalid",t),y=p=c=null;for(C in s)if(s.hasOwnProperty(C)&&(F=s[C],F!=null))switch(C){case"value":c=F;break;case"defaultValue":p=F;break;case"children":y=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(91));break;default:In(t,i,C,F,s,null)}fl(t,c,p,y);return;case"option":for(oe in s)if(s.hasOwnProperty(oe)&&(c=s[oe],c!=null))switch(oe){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:In(t,i,oe,c,s,null)}return;case"dialog":hn("beforetoggle",t),hn("toggle",t),hn("cancel",t),hn("close",t);break;case"iframe":case"object":hn("load",t);break;case"video":case"audio":for(c=0;c<Du.length;c++)hn(Du[c],t);break;case"image":hn("error",t),hn("load",t);break;case"details":hn("toggle",t);break;case"embed":case"source":case"link":hn("error",t),hn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in s)if(s.hasOwnProperty(Ee)&&(c=s[Ee],c!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:In(t,i,Ee,c,s,null)}return;default:if(dl(i)){for(De in s)s.hasOwnProperty(De)&&(c=s[De],c!==void 0&&kd(t,i,De,c,s,void 0));return}}for(F in s)s.hasOwnProperty(F)&&(c=s[F],c!=null&&In(t,i,F,c,s,null))}function kv(t,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,C=null,F=null,oe=null,Ee=null,De=null;for(Te in s){var Ue=s[Te];if(s.hasOwnProperty(Te)&&Ue!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":oe=Ue;default:c.hasOwnProperty(Te)||In(t,i,Te,null,c,Ue)}}for(var Ce in c){var Te=c[Ce];if(Ue=s[Ce],c.hasOwnProperty(Ce)&&(Te!=null||Ue!=null))switch(Ce){case"type":y=Te;break;case"name":p=Te;break;case"checked":Ee=Te;break;case"defaultChecked":De=Te;break;case"value":C=Te;break;case"defaultValue":F=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,i));break;default:Te!==Ue&&In(t,i,Ce,Te,c,Ue)}}xo(t,C,F,oe,Ee,De,y,p);return;case"select":Te=C=F=Ce=null;for(y in s)if(oe=s[y],s.hasOwnProperty(y)&&oe!=null)switch(y){case"value":break;case"multiple":Te=oe;default:c.hasOwnProperty(y)||In(t,i,y,null,c,oe)}for(p in c)if(y=c[p],oe=s[p],c.hasOwnProperty(p)&&(y!=null||oe!=null))switch(p){case"value":Ce=y;break;case"defaultValue":F=y;break;case"multiple":C=y;default:y!==oe&&In(t,i,p,y,c,oe)}i=F,s=C,c=Te,Ce!=null?dr(t,!!s,Ce,!1):!!c!=!!s&&(i!=null?dr(t,!!s,i,!0):dr(t,!!s,s?[]:"",!1));return;case"textarea":Te=Ce=null;for(F in s)if(p=s[F],s.hasOwnProperty(F)&&p!=null&&!c.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:In(t,i,F,null,c,p)}for(C in c)if(p=c[C],y=s[C],c.hasOwnProperty(C)&&(p!=null||y!=null))switch(C){case"value":Ce=p;break;case"defaultValue":Te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&In(t,i,C,p,c,y)}hl(t,Ce,Te);return;case"option":for(var ot in s)if(Ce=s[ot],s.hasOwnProperty(ot)&&Ce!=null&&!c.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:In(t,i,ot,null,c,Ce)}for(oe in c)if(Ce=c[oe],Te=s[oe],c.hasOwnProperty(oe)&&Ce!==Te&&(Ce!=null||Te!=null))switch(oe){case"selected":t.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:In(t,i,oe,Ce,c,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in s)Ce=s[Rt],s.hasOwnProperty(Rt)&&Ce!=null&&!c.hasOwnProperty(Rt)&&In(t,i,Rt,null,c,Ce);for(Ee in c)if(Ce=c[Ee],Te=s[Ee],c.hasOwnProperty(Ee)&&Ce!==Te&&(Ce!=null||Te!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:In(t,i,Ee,Ce,c,Te)}return;default:if(dl(i)){for(var zn in s)Ce=s[zn],s.hasOwnProperty(zn)&&Ce!==void 0&&!c.hasOwnProperty(zn)&&kd(t,i,zn,void 0,c,Ce);for(De in c)Ce=c[De],Te=s[De],!c.hasOwnProperty(De)||Ce===Te||Ce===void 0&&Te===void 0||kd(t,i,De,Ce,c,Te);return}}for(var be in s)Ce=s[be],s.hasOwnProperty(be)&&Ce!=null&&!c.hasOwnProperty(be)&&In(t,i,be,null,c,Ce);for(Ue in c)Ce=c[Ue],Te=s[Ue],!c.hasOwnProperty(Ue)||Ce===Te||Ce==null&&Te==null||In(t,i,Ue,Ce,c,Te)}function K1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var p=s[c],y=p.transferSize,C=p.initiatorType,F=p.duration;if(y&&F&&K1(C)){for(C=0,F=p.responseEnd,c+=1;c<s.length;c++){var oe=s[c],Ee=oe.startTime;if(Ee>F)break;var De=oe.transferSize,Ue=oe.initiatorType;De&&K1(Ue)&&(oe=oe.responseEnd,C+=De*(oe<F?1:(F-Ee)/(oe-Ee)))}if(--c,i+=8*(y+C)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cd=null,Td=null;function zh(t){return t.nodeType===9?t:t.ownerDocument}function J1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X1(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Od=null;function Tv(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var Q1=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(t){return Z1.resolve(null).then(t).catch(Rv)}:Q1;function Rv(t){setTimeout(function(){throw t})}function Jo(t){return t==="head"}function e2(t,i){var s=i,c=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(c===0){t.removeChild(p),qc(i);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")Pu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Pu(s);for(var y=s.firstChild;y;){var C=y.nextSibling,F=y.nodeName;y[Rr]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=C}}else s==="body"&&Pu(t.ownerDocument.body);s=p}while(s);qc(i)}function t2(t,i){var s=t;t=0;do{var c=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=c}while(s)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),se(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Dv(t,i,s,c){for(;t.nodeType===1;){var p=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Rr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=Ia(t.nextSibling),t===null)break}return null}function Bv(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ia(t.nextSibling),t===null))return null;return t}function n2(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ia(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pv(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ia(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Pd=null;function i2(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ia(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function r2(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function a2(t,i,s){switch(i=zh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);se(t)}var za=new Map,s2=new Set;function Hh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mo=X.d;X.d={f:Mv,r:qv,D:Uv,C:Fv,L:Iv,m:zv,X:$v,S:Hv,M:Gv};function Mv(){var t=mo.f(),i=Dh();return t||i}function qv(t){var i=He(t);i!==null&&i.tag===5&&i.type==="form"?Sp(i):mo.r(t)}var Bc=typeof document>"u"?null:document;function o2(t,i,s){var c=Bc;if(c&&typeof i=="string"&&i){var p=mi(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),s2.has(p)||(s2.add(p),t={rel:t,crossOrigin:s,href:i},c.querySelector(p)===null&&(i=c.createElement("link"),br(i,"link",t),tt(i),c.head.appendChild(i)))}}function Uv(t){mo.D(t),o2("dns-prefetch",t,null)}function Fv(t,i){mo.C(t,i),o2("preconnect",t,i)}function Iv(t,i,s){mo.L(t,i,s);var c=Bc;if(c&&t&&i){var p='link[rel="preload"][as="'+mi(i)+'"]';i==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+mi(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+mi(s.imageSizes)+'"]')):p+='[href="'+mi(t)+'"]';var y=p;switch(i){case"style":y=Pc(t);break;case"script":y=Mc(t)}za.has(y)||(t=A({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),za.set(y,t),c.querySelector(p)!==null||i==="style"&&c.querySelector(Mu(y))||i==="script"&&c.querySelector(qu(y))||(i=c.createElement("link"),br(i,"link",t),tt(i),c.head.appendChild(i)))}}function zv(t,i){mo.m(t,i);var s=Bc;if(s&&t){var c=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+mi(c)+'"][href="'+mi(t)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Mc(t)}if(!za.has(y)&&(t=A({rel:"modulepreload",href:t},i),za.set(y,t),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qu(y)))return}c=s.createElement("link"),br(c,"link",t),tt(c),s.head.appendChild(c)}}}function Hv(t,i,s){mo.S(t,i,s);var c=Bc;if(c&&t){var p=mt(c).hoistableStyles,y=Pc(t);i=i||"default";var C=p.get(y);if(!C){var F={loading:0,preload:null};if(C=c.querySelector(Mu(y)))F.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},s),(s=za.get(y))&&Md(t,s);var oe=C=c.createElement("link");tt(oe),br(oe,"link",t),oe._p=new Promise(function(Ee,De){oe.onload=Ee,oe.onerror=De}),oe.addEventListener("load",function(){F.loading|=1}),oe.addEventListener("error",function(){F.loading|=2}),F.loading|=4,$h(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:F},p.set(y,C)}}}function $v(t,i){mo.X(t,i);var s=Bc;if(s&&t){var c=mt(s).hoistableScripts,p=Mc(t),y=c.get(p);y||(y=s.querySelector(qu(p)),y||(t=A({src:t,async:!0},i),(i=za.get(p))&&qd(t,i),y=s.createElement("script"),tt(y),br(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Gv(t,i){mo.M(t,i);var s=Bc;if(s&&t){var c=mt(s).hoistableScripts,p=Mc(t),y=c.get(p);y||(y=s.querySelector(qu(p)),y||(t=A({src:t,async:!0,type:"module"},i),(i=za.get(p))&&qd(t,i),y=s.createElement("script"),tt(y),br(y,"link",t),s.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function l2(t,i,s,c){var p=(p=ue.current)?Hh(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Pc(s.href),s=mt(p).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Pc(s.href);var y=mt(p).hoistableStyles,C=y.get(t);if(C||(p=p.ownerDocument||p,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,C),(y=p.querySelector(Mu(t)))&&!y._p&&(C.instance=y,C.state.loading=5),za.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},za.set(t,s),y||Vv(p,t,s,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mc(s),s=mt(p).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Pc(t){return'href="'+mi(t)+'"'}function Mu(t){return'link[rel="stylesheet"]['+t+"]"}function c2(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Vv(t,i,s,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),br(i,"link",s),tt(i),t.head.appendChild(i))}function Mc(t){return'[src="'+mi(t)+'"]'}function qu(t){return"script[async]"+t}function u2(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+mi(s.href)+'"]');if(c)return i.instance=c,tt(c),c;var p=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),tt(c),br(c,"style",p),$h(c,s.precedence,t),i.instance=c;case"stylesheet":p=Pc(s.href);var y=t.querySelector(Mu(p));if(y)return i.state.loading|=4,i.instance=y,tt(y),y;c=c2(s),(p=za.get(p))&&Md(c,p),y=(t.ownerDocument||t).createElement("link"),tt(y);var C=y;return C._p=new Promise(function(F,oe){C.onload=F,C.onerror=oe}),br(y,"link",c),i.state.loading|=4,$h(y,s.precedence,t),i.instance=y;case"script":return y=Mc(s.src),(p=t.querySelector(qu(y)))?(i.instance=p,tt(p),p):(c=s,(p=za.get(y))&&(c=A({},s),qd(c,p)),t=t.ownerDocument||t,p=t.createElement("script"),tt(p),br(p,"link",c),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,$h(c,s.precedence,t));return i.instance}function $h(t,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,C=0;C<c.length;C++){var F=c[C];if(F.dataset.precedence===i)y=F;else if(y!==p)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gh=null;function h2(t,i,s){if(Gh===null){var c=new Map,p=Gh=new Map;p.set(s,c)}else p=Gh,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),p=0;p<s.length;p++){var y=s[p];if(!(y[Rr]||y[_n]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(i)||"";C=t+C;var F=c.get(C);F?F.push(y):c.set(C,[y])}}return c}function f2(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function Yv(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d2(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Wv(t,i,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Pc(c.href),y=i.querySelector(Mu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Vh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=y,tt(y);return}y=i.ownerDocument||i,c=c2(c),(p=za.get(p))&&Md(c,p),y=y.createElement("link"),tt(y);var C=y;C._p=new Promise(function(F,oe){C.onload=F,C.onerror=oe}),br(y,"link",c),s.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Vh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Ud=0;function Kv(t,i){return t.stylesheets&&t.count===0&&Wh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var c=setTimeout(function(){if(t.stylesheets&&Wh(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+i);0<t.imgBytes&&Ud===0&&(Ud=62500*Cv());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wh(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Ud?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yh=null;function Wh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yh=new Map,i.forEach(Jv,t),Yh=null,Vh.call(t))}function Jv(t,i){if(!(i.state.loading&4)){var s=Yh.get(t);if(s)var c=s.get(null);else{s=new Map,Yh.set(t,s);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var C=p[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(s.set(C.dataset.precedence,C),c=C)}c&&s.set(null,c)}p=i.instance,C=p.getAttribute("data-precedence"),y=s.get(C)||c,y===c&&s.set(null,p),s.set(C,p),this.count++,c=Vh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var Uu={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Xv(t,i,s,c,p,y,C,F,oe){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function p2(t,i,s,c,p,y,C,F,oe,Ee,De,Ue){return t=new Xv(t,i,s,C,oe,Ee,De,Ue,F),i=1,y===!0&&(i|=24),y=nr(3,null,null,i),t.current=y,y.stateNode=t,i=qo(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:s,cache:i},Je(y),t}function g2(t){return t?(t=Vi,t):Vi}function m2(t,i,s,c,p,y){p=g2(p),c.context===null?c.context=p:c.pendingContext=p,c=Ot(i),c.payload={element:s},y=y===void 0?null:y,y!==null&&(c.callback=y),s=en(t,c,i),s!==null&&(ra(s,t,i),kn(s,t,i))}function v2(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Fd(t,i){v2(t,i),(t=t.alternate)&&v2(t,i)}function y2(t){if(t.tag===13||t.tag===31){var i=os(t,67108864);i!==null&&ra(i,t,67108864),Fd(t,67108864)}}function b2(t){if(t.tag===13||t.tag===31){var i=ba();i=Pn(i);var s=os(t,i);s!==null&&ra(s,t,i),Fd(t,i)}}var Kh=!0;function Qv(t,i,s,c){var p=ee.T;ee.T=null;var y=X.p;try{X.p=2,Id(t,i,s,c)}finally{X.p=y,ee.T=p}}function Zv(t,i,s,c){var p=ee.T;ee.T=null;var y=X.p;try{X.p=8,Id(t,i,s,c)}finally{X.p=y,ee.T=p}}function Id(t,i,s,c){if(Kh){var p=zd(c);if(p===null)Ed(t,i,c,Jh,s),_2(t,c);else if(ty(p,t,i,s,c))c.stopPropagation();else if(_2(t,c),i&4&&-1<ey.indexOf(t)){for(;p!==null;){var y=He(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=gt(y.pendingLanes);if(C!==0){var F=y;for(F.pendingLanes|=2,F.entangledLanes|=2;C;){var oe=1<<31-an(C);F.entanglements[1]|=oe,C&=~oe}Us(y),(Tn&6)===0&&(Oh=Gt()+500,Ru(0))}}break;case 31:case 13:F=os(y,2),F!==null&&ra(F,y,2),Dh(),Fd(y,2)}if(y=zd(c),y===null&&Ed(t,i,c,Jh,s),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ed(t,i,c,null,s)}}function zd(t){return t=Gs(t),Hd(t)}var Jh=null;function Hd(t){if(Jh=null,t=ve(t),t!==null){var i=l(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=u(i),t!==null)return t;t=null}else if(s===31){if(t=h(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jh=t,null}function w2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Ft:return 2;case rn:return 8;case Zt:case ut:return 32;case It:return 268435456;default:return 32}default:return 32}}var $d=!1,Xo=null,Qo=null,Zo=null,Fu=new Map,Iu=new Map,el=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _2(t,i){switch(t){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(i.pointerId)}}function zu(t,i,s,c,p,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},i!==null&&(i=He(i),i!==null&&y2(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function ty(t,i,s,c,p){switch(i){case"focusin":return Xo=zu(Xo,t,i,s,c,p),!0;case"dragenter":return Qo=zu(Qo,t,i,s,c,p),!0;case"mouseover":return Zo=zu(Zo,t,i,s,c,p),!0;case"pointerover":var y=p.pointerId;return Fu.set(y,zu(Fu.get(y)||null,t,i,s,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Iu.set(y,zu(Iu.get(y)||null,t,i,s,c,p)),!0}return!1}function x2(t){var i=ve(t.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){t.blockedOn=i,Aa(t.priority,function(){b2(s)});return}}else if(i===31){if(i=h(s),i!==null){t.blockedOn=i,Aa(t.priority,function(){b2(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=zd(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);$a=c,s.target.dispatchEvent(c),$a=null}else return i=He(s),i!==null&&y2(i),t.blockedOn=s,!1;i.shift()}return!0}function S2(t,i,s){Xh(t)&&s.delete(i)}function ny(){$d=!1,Xo!==null&&Xh(Xo)&&(Xo=null),Qo!==null&&Xh(Qo)&&(Qo=null),Zo!==null&&Xh(Zo)&&(Zo=null),Fu.forEach(S2),Iu.forEach(S2)}function Qh(t,i){t.blockedOn===i&&(t.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ny)))}var Zh=null;function N2(t){Zh!==t&&(Zh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zh===t&&(Zh=null);for(var i=0;i<t.length;i+=3){var s=t[i],c=t[i+1],p=t[i+2];if(typeof c!="function"){if(Hd(c||s)===null)continue;break}var y=He(s);y!==null&&(t.splice(i,3),i-=3,zf(y,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function qc(t){function i(oe){return Qh(oe,t)}Xo!==null&&Qh(Xo,t),Qo!==null&&Qh(Qo,t),Zo!==null&&Qh(Zo,t),Fu.forEach(i),Iu.forEach(i);for(var s=0;s<el.length;s++){var c=el[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<el.length&&(s=el[0],s.blockedOn===null);)x2(s),s.blockedOn===null&&el.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],y=s[c+1],C=p[Hn]||null;if(typeof y=="function")C||N2(s);else if(C){var F=null;if(y&&y.hasAttribute("formAction")){if(p=y,C=y[Hn]||null)F=C.formAction;else if(Hd(p)!==null)continue}else F=C.action;typeof F=="function"?s[c+1]=F:(s.splice(c,3),c-=3),N2(s)}}}function A2(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(C){return p=C})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Gd(t){this._internalRoot=t}ef.prototype.render=Gd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,c=ba();m2(s,c,t,i,null,null)},ef.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;m2(t.current,2,null,t,null,null),Dh(),i[Pi]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var i=gi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<el.length&&i!==0&&i<el[s].priority;s++);el.splice(s,0,t),s===0&&x2(t)}};var j2=e.version;if(j2!=="19.2.1")throw Error(a(527,j2,"19.2.1"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var iy={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{tn=tf.inject(iy),jt=tf}catch{}}return $u.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,c="",p=Rp,y=Dp,C=Bp;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=p2(t,1,!1,null,null,s,c,null,p,y,C,A2),t[Pi]=i.current,jd(t),new Gd(i)},$u.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var c=!1,p="",y=Rp,C=Dp,F=Bp,oe=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(F=s.onRecoverableError),s.formState!==void 0&&(oe=s.formState)),i=p2(t,1,!0,i,s??null,c,p,oe,y,C,F,A2),i.context=g2(null),s=i.current,c=ba(),c=Pn(c),p=Ot(c),p.callback=null,en(s,p,c),s=c,i.current.lanes=s,bt(i,s),Us(i),t[Pi]=i.current,jd(t),new ef(i)},$u.version="19.2.1",$u}var P2;function dy(){if(P2)return Wd.exports;P2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=fy(),Wd.exports}var py=dy();const Pm=.125;function oh(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?null:n}function gy(r){const e=[];return r.forEach(n=>{const a=n.quantity||1;for(let o=0;o<a;o++)e.push({...n,instanceIndex:o,originalId:n.id,uniqueId:`${n.id}-${o}`})}),e}function my(r){const e=[];return r.forEach(n=>{const a=n.quantity||1;for(let o=0;o<a;o++)e.push({...n,instanceIndex:o,originalId:n.id,uniqueId:`${n.id}-${o}`})}),e}function vy(r,e,n){const a=new Set,o=[],l=[...e].sort((j,S)=>{const T=j.effectiveWidth*j.effectiveLength,N=S.effectiveWidth*S.effectiveLength;if(Math.abs(N-T)>.1)return N-T;const B=Math.max(j.effectiveWidth,j.effectiveLength);return Math.max(S.effectiveWidth,S.effectiveLength)-B});let u=[{x:0,y:0,width:r.length,height:r.width}];const h=(j,S,T="any")=>{let N=null,B=!1,D=1/0,U=1/0,le=1/0;const ce=T==="any"||T==="length",te=T==="any"||T==="width";for(const $ of u){const Y=$.x<.001,ge=$.y<.001,M=$.width-(Y?n:0),H=$.height-(ge?n:0),ae=$.y*1e3+$.x;if(ce&&j<=M+.001&&S<=H+.001){const re=M-j,we=H-S,ee=Math.min(re,we),X=Math.max(re,we);(ee<D||ee===D&&X<U||ee===D&&X===U&&ae<le)&&(D=ee,U=X,le=ae,N=$,B=!1)}if(te&&S<=M+.001&&j<=H+.001){const re=M-S,we=H-j,ee=Math.min(re,we),X=Math.max(re,we);(ee<D||ee===D&&X<U||ee===D&&X===U&&ae<le)&&(D=ee,U=X,le=ae,N=$,B=!0)}}return N?{rect:N,rotated:B}:null},d=()=>{u=u.filter((j,S)=>{for(let T=0;T<u.length;T++){if(S===T)continue;const N=u[T];if(j.x>=N.x-.01&&j.y>=N.y-.01&&j.x+j.width<=N.x+N.width+.01&&j.y+j.height<=N.y+N.height+.01&&(j.width<N.width-.01||j.height<N.height-.01))return!1}return!0})},m=()=>{let j=!0;for(;j;){j=!1;for(let S=0;S<u.length&&!j;S++)for(let T=S+1;T<u.length&&!j;T++){const N=u[S],B=u[T];Math.abs(N.y-B.y)<.01&&Math.abs(N.height-B.height)<.01&&(Math.abs(N.x+N.width-B.x)<.01?(N.width+=B.width,u.splice(T,1),j=!0):Math.abs(B.x+B.width-N.x)<.01&&(N.x=B.x,N.width+=B.width,u.splice(T,1),j=!0)),Math.abs(N.x-B.x)<.01&&Math.abs(N.width-B.width)<.01&&(Math.abs(N.y+N.height-B.y)<.01?(N.height+=B.height,u.splice(T,1),j=!0):Math.abs(B.y+B.height-N.y)<.01&&(N.y=B.y,N.height+=B.height,u.splice(T,1),j=!0))}}},b=(j,S,T,N)=>{const B=[];for(const D of u){const U=Math.max(D.x,j)<Math.min(D.x+D.width,j+T+n),le=Math.max(D.y,S)<Math.min(D.y+D.height,S+N+n);if(!U||!le){B.push(D);continue}if(D.x<j-.01){const $=j-D.x-n;$>1&&B.push({x:D.x,y:D.y,width:$,height:D.height})}const ce=j+T+n;if(D.x+D.width>ce+.01){const $=Math.max(D.x,ce),Y=D.x+D.width-$;Y>1&&B.push({x:$,y:D.y,width:Y,height:D.height})}if(D.y<S-.01){const $=S-D.y-n;$>1&&B.push({x:D.x,y:D.y,width:D.width,height:$})}const te=S+N+n;if(D.y+D.height>te+.01){const $=Math.max(D.y,te),Y=D.y+D.height-$;Y>1&&B.push({x:D.x,y:$,width:D.width,height:Y})}}u=B};for(const j of l){if(a.has(j.uniqueId))continue;const S=j.effectiveLength,T=j.effectiveWidth,N=j.grainDirection||"any",B=h(S,T,N);if(B){const{rect:D,rotated:U}=B,le=U?T:S,ce=U?S:T,te=D.x<.001,$=D.y<.001,Y=te?n:0,ge=$?n:0,M=D.x+Y,H=D.y+ge;o.push({...j,x:M,y:H,placedLength:le,placedWidth:ce,rotated:U}),a.add(j.uniqueId),b(M,H,le,ce),d(),m(),u.sort((ae,re)=>Math.abs(ae.y-re.y)>.01?ae.y-re.y:ae.x-re.x)}}const A=[],k=new Map;for(const j of o){const S=j.y.toFixed(3);k.has(S)||k.set(S,{y:j.y,width:j.placedWidth,length:r.length,pieces:[]});const T=k.get(S);T.width=Math.max(T.width,j.placedWidth),T.pieces.push(j)}for(const[,j]of k)A.push(j);A.sort((j,S)=>j.y-S.y);const w=l.filter(j=>!a.has(j.uniqueId));return{strips:A,unplacedPieces:w,placedPieceIds:a}}function yy(r){const e=[];for(const n of r)for(const a of n.pieces)e.push({cutPieceId:a.originalId,cutPieceName:a.name,cutPieceIndex:a.instanceIndex,species:a.species,x:a.x,y:a.y,length:a.placedLength,width:a.placedWidth,rotated:a.rotated||!1});return e}function xf(r,e){return`${r}|${e||"unspecified"}`}function Mm(r){const[e,n]=r.split("|");return{thickness:e,species:n==="unspecified"?null:n}}function su(r,e,n=Pm){const a=[],o=[],l={};gy(r).forEach(B=>{const D=xf(B.thickness,B.species);l[D]||(l[D]=[]),l[D].push({...B,used:!1})});const u=my(e),h={};u.forEach(B=>{const D=xf(B.thickness,B.species);h[D]||(h[D]=[]),h[D].push({...B,effectiveWidth:B.width,effectiveLength:B.length})});let d=[];for(const B in h){const{thickness:D,species:U}=Mm(B),le=h[B],ce=l[B]||[];if(ce.length===0){const $=U?` (${U})`:"";a.push(`No stock boards with thickness ${D}${$} available`),d=d.concat(le);continue}le.sort(($,Y)=>Y.length*Y.width-$.length*$.width);let te=[...le];for(const $ of ce){if(te.length===0)break;const{strips:Y,unplacedPieces:ge}=vy($,te,n);if(Y.length>0&&Y.some(M=>M.pieces.length>0)){$.used=!0;const M=yy(Y),H=$.length*$.width,ae=M.reduce((re,we)=>re+we.length*we.width,0);o.push({stockBoardId:$.originalId,stockBoardName:$.name,stockBoardIndex:$.instanceIndex,uniqueId:$.uniqueId,thickness:$.thickness,species:$.species,length:$.length,width:$.width,cuts:M,strips:Y,boardArea:H,cutsArea:ae}),te=ge}}if(te.length>0){const $=U?` (${U})`:"";te.forEach(Y=>{a.push(`Could not fit "${Y.name}" (${Y.length}"  ${Y.width}") on any ${D}${$} stock`)}),d=d.concat(te)}}let m=0,b=0;o.forEach(B=>{m+=B.boardArea,b+=B.cutsArea});const A=r.length>0&&oh(r[0].thickness)||1,k=m*A/144,w=b*A/144,j=k-w,S=m>0?b/m*100:0,T=o.length,N=Object.values(l).flat().length;return{assignments:o,waste:Math.max(0,j),efficiency:Math.min(100,S),warnings:a,unplacedPieces:d,boardsUsed:T,totalStockBoards:N,generatedAt:new Date().toISOString()}}function tp(r){return r.reduce((e,n)=>{const a=oh(n.thickness)||1,o=n.quantity||1;return e+n.length*n.width*a*o/144},0)}function by(r){const e=new Set(r.map(n=>n.thickness));return Array.from(e)}function wy(r){const e=new Set(r.map(n=>n.thickness));return Array.from(e)}function qm(r,e,n=Pm){if(!r||r.length===0)return{boardsNeeded:0,boards:[],cutPlan:null,boardsByTemplate:[]};const a=Array.isArray(e)?e:[e];if(a.length===0)return{boardsNeeded:0,boards:[],cutPlan:null,boardsByTemplate:[]};const o={};a.forEach(k=>{const w=xf(k.thickness||"4/4",k.species);o[w]||(o[w]=[]),o[w].push(k)});const l={};r.forEach(k=>{const w=xf(k.thickness||"4/4",k.species);l[w]||(l[w]=[]),l[w].push(k)});const u=[],h=[];let d=Date.now();for(const k in l){const{species:w}=Mm(k),j=l[k],S=o[k]||[];if(S.length===0)continue;let T;S.length===1?T=Um(j,S[0],n):T=_y(j,S,n),T&&T.boards&&(T.boards.forEach(N=>{N.id=d++,N.species=w,u.push(N)}),T.boardsByTemplate&&h.push(...T.boardsByTemplate))}const m=su(u,r,n),b=[],A=new Map;return u.forEach(k=>{const w=`${k.length}|${k.width}|${k.thickness}|${k.species||""}`;if(A.has(w))A.get(w).quantity+=1,A.get(w).boardFeet+=k.boardFeet;else{const j={...k,quantity:1,boardFeetPerPiece:k.boardFeet};A.set(w,j),b.push(j)}}),{boardsNeeded:b.reduce((k,w)=>k+w.quantity,0),boards:b,cutPlan:m,boardsByTemplate:h}}function _y(r,e,n){const a=oh(e[0].thickness)||1,o=tp(r),l=e.reduce((h,d)=>h+d.length*d.width*a/144,0)/e.length,u=Math.max(1,Math.ceil(o*1.3/l));for(let h=1;h<=u*3;h++){const d=xy(r,e,h,n);if(d)return d}return Um(r,e[0],n)}function xy(r,e,n,a){const o=Sy(e.length,n);let l=null,u=0;for(const h of o){const d=[],m=[];let b=Date.now();if(e.forEach((k,w)=>{const j=h[w];m.push({template:k,count:j});const S=oh(k.thickness)||1,T=k.length*k.width*S/144;for(let N=0;N<j;N++)d.push({id:b++,name:`${k.name||"Board"} ${N+1}`,length:k.length,width:k.width,thickness:k.thickness,thicknessInches:S,species:k.species,quantity:1,boardFeet:T,templateIndex:w})}),d.length===0)continue;const A=su(d,fittablePieces,a);A.unplacedPieces.length===0&&A.efficiency>u&&(u=A.efficiency,l={boardsNeeded:d.length,boards:d,cutPlan:A,boardsByTemplate:m.filter(k=>k.count>0)})}return l}function Sy(r,e){const n=[];function a(o,l,u){if(u===r-1){l[u]=o,n.push([...l]);return}for(let h=0;h<=o;h++)l[u]=h,a(o-h,l,u+1)}return a(e,new Array(r).fill(0),0),n}function Um(r,e,n){if(!r||r.length===0)return{boardsNeeded:0,boards:[],cutPlan:null};const a=e.length-n,o=e.width-n,l=r.filter(w=>{const j=w.length,S=w.width,T=j<=a+.001&&S<=o+.001,N=S<=a+.001&&j<=o+.001;return T||N});if(l.length===0)return{boardsNeeded:0,boards:[],cutPlan:null};const u=tp(l),h=oh(e.thickness)||1,d=e.length*e.width*h/144,m=Math.max(1,Math.ceil(u*1.2/d));let b=1,A=Math.max(m*2,10),k=null;for(;b<=A;){const w=Math.floor((b+A)/2),j=[];for(let T=0;T<w;T++)j.push({id:Date.now()+T,name:`${e.name||"Board"} ${T+1}`,length:e.length,width:e.width,thickness:e.thickness,thicknessInches:h,species:e.species,quantity:1,boardFeet:d});const S=su(j,l,n);S.unplacedPieces.length===0?(k={boardsNeeded:w,boards:j,cutPlan:S,boardsByTemplate:[{template:e,count:w}]},A=w-1):b=w+1}if(!k){const w=[];for(let S=0;S<A+1;S++)w.push({id:Date.now()+S,name:`${e.name||"Board"} ${S+1}`,length:e.length,width:e.width,thickness:e.thickness,thicknessInches:h,species:e.species,quantity:1,boardFeet:d});const j=su(w,l,n);k={boardsNeeded:A+1,boards:w,cutPlan:j,boardsByTemplate:[{template:e,count:A+1}]}}return k}const Ny="modulepreload",Ay=function(r){return"/"+r},M2={},Qd=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){let d=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");o=d(n.map(m=>{if(m=Ay(m),m in M2)return;M2[m]=!0;const b=m.endsWith(".css"),A=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${A}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":Ny,b||(k.as="script"),k.crossOrigin="",k.href=m,h&&k.setAttribute("nonce",h),document.head.appendChild(k),b)return new Promise((w,j)=>{k.addEventListener("load",w),k.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function Bn(r){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(r)}var bs=Uint8Array,Na=Uint16Array,np=Int32Array,ip=new bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rp=new bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q2=new bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fm=function(r,e){for(var n=new Na(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var o=new np(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)o[l]=l-n[a]<<5|a;return{b:n,r:o}},Im=Fm(ip,2),jy=Im.b,C0=Im.r;jy[28]=258,C0[258]=28;var Ey=Fm(rp,0),U2=Ey.r,T0=new Na(32768);for(var ni=0;ni<32768;++ni){var nl=(ni&43690)>>1|(ni&21845)<<1;nl=(nl&52428)>>2|(nl&13107)<<2,nl=(nl&61680)>>4|(nl&3855)<<4,T0[ni]=((nl&65280)>>8|(nl&255)<<8)>>1}var Ku=(function(r,e,n){for(var a=r.length,o=0,l=new Na(e);o<a;++o)r[o]&&++l[r[o]-1];var u=new Na(e);for(o=1;o<e;++o)u[o]=u[o-1]+l[o-1]<<1;var h;if(n){h=new Na(1<<e);var d=15-e;for(o=0;o<a;++o)if(r[o])for(var m=o<<4|r[o],b=e-r[o],A=u[r[o]-1]++<<b,k=A|(1<<b)-1;A<=k;++A)h[T0[A]>>d]=m}else for(h=new Na(a),o=0;o<a;++o)r[o]&&(h[o]=T0[u[r[o]-1]++]>>15-r[o]);return h}),Vl=new bs(288);for(var ni=0;ni<144;++ni)Vl[ni]=8;for(var ni=144;ni<256;++ni)Vl[ni]=9;for(var ni=256;ni<280;++ni)Vl[ni]=7;for(var ni=280;ni<288;++ni)Vl[ni]=8;var Sf=new bs(32);for(var ni=0;ni<32;++ni)Sf[ni]=5;var ky=Ku(Vl,9,0),Cy=Ku(Sf,5,0),zm=function(r){return(r+7)/8|0},Ty=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new bs(r.subarray(e,n))},vo=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},Gu=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},Zd=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var o=n.length,l=n.slice();if(!o)return{t:$m,l:0};if(o==1){var u=new bs(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(le,ce){return le.f-ce.f}),n.push({s:-1,f:25001});var h=n[0],d=n[1],m=0,b=1,A=2;for(n[0]={s:-1,f:h.f+d.f,l:h,r:d};b!=o-1;)h=n[n[m].f<n[A].f?m++:A++],d=n[m!=b&&n[m].f<n[A].f?m++:A++],n[b++]={s:-1,f:h.f+d.f,l:h,r:d};for(var k=l[0].s,a=1;a<o;++a)l[a].s>k&&(k=l[a].s);var w=new Na(k+1),j=L0(n[b-1],w,0);if(j>e){var a=0,S=0,T=j-e,N=1<<T;for(l.sort(function(ce,te){return w[te.s]-w[ce.s]||ce.f-te.f});a<o;++a){var B=l[a].s;if(w[B]>e)S+=N-(1<<j-w[B]),w[B]=e;else break}for(S>>=T;S>0;){var D=l[a].s;w[D]<e?S-=1<<e-w[D]++-1:++a}for(;a>=0&&S;--a){var U=l[a].s;w[U]==e&&(--w[U],++S)}j=e}return{t:new bs(w),l:j}},L0=function(r,e,n){return r.s==-1?Math.max(L0(r.l,e,n+1),L0(r.r,e,n+1)):e[r.s]=n},F2=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new Na(++e),a=0,o=r[0],l=1,u=function(d){n[a++]=d},h=1;h<=e;++h)if(r[h]==o&&h!=e)++l;else{if(!o&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(o),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(o);l=1,o=r[h]}return{c:n.subarray(0,a),n:e}},Vu=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Hm=function(r,e,n){var a=n.length,o=zm(e+2);r[o]=a&255,r[o+1]=a>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var l=0;l<a;++l)r[o+l+4]=n[l];return(o+4+a)*8},I2=function(r,e,n,a,o,l,u,h,d,m,b){vo(e,b++,n),++o[256];for(var A=Zd(o,15),k=A.t,w=A.l,j=Zd(l,15),S=j.t,T=j.l,N=F2(k),B=N.c,D=N.n,U=F2(S),le=U.c,ce=U.n,te=new Na(19),$=0;$<B.length;++$)++te[B[$]&31];for(var $=0;$<le.length;++$)++te[le[$]&31];for(var Y=Zd(te,7),ge=Y.t,M=Y.l,H=19;H>4&&!ge[q2[H-1]];--H);var ae=m+5<<3,re=Vu(o,Vl)+Vu(l,Sf)+u,we=Vu(o,k)+Vu(l,S)+u+14+3*H+Vu(te,ge)+2*te[16]+3*te[17]+7*te[18];if(d>=0&&ae<=re&&ae<=we)return Hm(e,b,r.subarray(d,d+m));var ee,X,ie,xe;if(vo(e,b,1+(we<re)),b+=2,we<re){ee=Ku(k,w,0),X=k,ie=Ku(S,T,0),xe=S;var Le=Ku(ge,M,0);vo(e,b,D-257),vo(e,b+5,ce-1),vo(e,b+10,H-4),b+=14;for(var $=0;$<H;++$)vo(e,b+3*$,ge[q2[$]]);b+=3*H;for(var G=[B,le],L=0;L<2;++L)for(var I=G[L],$=0;$<I.length;++$){var W=I[$]&31;vo(e,b,Le[W]),b+=ge[W],W>15&&(vo(e,b,I[$]>>5&127),b+=I[$]>>12)}}else ee=ky,X=Vl,ie=Cy,xe=Sf;for(var $=0;$<h;++$){var ne=a[$];if(ne>255){var W=ne>>18&31;Gu(e,b,ee[W+257]),b+=X[W+257],W>7&&(vo(e,b,ne>>23&31),b+=ip[W]);var ue=ne&31;Gu(e,b,ie[ue]),b+=xe[ue],ue>3&&(Gu(e,b,ne>>5&8191),b+=rp[ue])}else Gu(e,b,ee[ne]),b+=X[ne]}return Gu(e,b,ee[256]),b+X[256]},Ly=new np([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$m=new bs(0),Oy=function(r,e,n,a,o,l){var u=l.z||r.length,h=new bs(a+u+5*(1+Math.ceil(u/7e3))+o),d=h.subarray(a,h.length-o),m=l.l,b=(l.r||0)&7;if(e){b&&(d[0]=l.r>>3);for(var A=Ly[e-1],k=A>>13,w=A&8191,j=(1<<n)-1,S=l.p||new Na(32768),T=l.h||new Na(j+1),N=Math.ceil(n/3),B=2*N,D=function(rt){return(r[rt]^r[rt+1]<<N^r[rt+2]<<B)&j},U=new np(25e3),le=new Na(288),ce=new Na(32),te=0,$=0,Y=l.i||0,ge=0,M=l.w||0,H=0;Y+2<u;++Y){var ae=D(Y),re=Y&32767,we=T[ae];if(S[re]=we,T[ae]=re,M<=Y){var ee=u-Y;if((te>7e3||ge>24576)&&(ee>423||!m)){b=I2(r,d,0,U,le,ce,$,ge,H,Y-H,b),ge=te=$=0,H=Y;for(var X=0;X<286;++X)le[X]=0;for(var X=0;X<30;++X)ce[X]=0}var ie=2,xe=0,Le=w,G=re-we&32767;if(ee>2&&ae==D(Y-G))for(var L=Math.min(k,ee)-1,I=Math.min(32767,Y),W=Math.min(258,ee);G<=I&&--Le&&re!=we;){if(r[Y+ie]==r[Y+ie-G]){for(var ne=0;ne<W&&r[Y+ne]==r[Y+ne-G];++ne);if(ne>ie){if(ie=ne,xe=G,ne>L)break;for(var ue=Math.min(G,ne-2),pe=0,X=0;X<ue;++X){var ke=Y-G+X&32767,je=S[ke],Be=ke-je&32767;Be>pe&&(pe=Be,we=ke)}}}re=we,we=S[re],G+=re-we&32767}if(xe){U[ge++]=268435456|C0[ie]<<18|U2[xe];var Ge=C0[ie]&31,Qe=U2[xe]&31;$+=ip[Ge]+rp[Qe],++le[257+Ge],++ce[Qe],M=Y+ie,++te}else U[ge++]=r[Y],++le[r[Y]]}}for(Y=Math.max(Y,M);Y<u;++Y)U[ge++]=r[Y],++le[r[Y]];b=I2(r,d,m,U,le,ce,$,ge,H,Y-H,b),m||(l.r=b&7|d[b/8|0]<<3,b-=7,l.h=T,l.p=S,l.i=Y,l.w=M)}else{for(var Y=l.w||0;Y<u+m;Y+=65535){var Xe=Y+65535;Xe>=u&&(d[b/8|0]=m,Xe=u),b=Hm(d,b+1,r.subarray(Y,Xe))}l.i=u}return Ty(h,0,a+zm(b)+o)},Gm=function(){var r=1,e=0;return{p:function(n){for(var a=r,o=e,l=n.length|0,u=0;u!=l;){for(var h=Math.min(u+2655,l);u<h;++u)o+=a+=n[u];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}r=a,e=o},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Ry=function(r,e,n,a,o){if(!o&&(o={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),u=new bs(l.length+r.length);u.set(l),u.set(r,l.length),r=u,o.w=l.length}return Oy(r,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,o)},Vm=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},Dy=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var o=Gm();o.p(e.dictionary),Vm(r,2,o.d())}};function O0(r,e){e||(e={});var n=Gm();n.p(r);var a=Ry(r,e,e.dictionary?6:2,4);return Dy(a,e),Vm(a,a.length-4,n.d()),a}var By=typeof TextDecoder<"u"&&new TextDecoder,Py=0;try{By.decode($m,{stream:!0}),Py=1}catch{}function My(r){if(Array.isArray(r))return r}function qy(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,o,l,u,h=[],d=!0,m=!1;try{if(l=(n=n.call(r)).next,e!==0)for(;!(d=(a=l.call(n)).done)&&(h.push(a.value),h.length!==e);d=!0);}catch(b){m=!0,o=b}finally{try{if(!d&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(m)throw o}}return h}}function z2(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=Array(e);n<e;n++)a[n]=r[n];return a}function Uy(r,e){if(r){if(typeof r=="string")return z2(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z2(r,e):void 0}}function Fy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2(r,e){return My(r)||qy(r,e)||Uy(r,e)||Fy()}function $2(r,e="utf8"){return new TextDecoder(e).decode(r)}const Iy=new TextEncoder;function zy(r){return Iy.encode(r)}const Hy=1024*8,$y=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ap{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Hy,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const o=n.offset?n.offset>>>0:0,l=e.byteLength-o;let u=o;(ArrayBuffer.isView(e)||e instanceof ap)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+o),e=e.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,o=new Uint8Array(a);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=e0[n].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,l=this.buffer.slice(o,o+a);if(this.littleEndian===$y&&n!=="uint8"&&n!=="int8"){const h=new Uint8Array(this.buffer.slice(o,o+a));h.reverse();const d=new e0[n](h.buffer);return this.offset+=a,d.reverse(),d}const u=new e0[n](l);return this.offset+=a,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return $2(this.readBytes(e))}decodeText(e=1,n="utf8"){return $2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(zy(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ou(r){let e=r.length;for(;--e>=0;)r[e]=0}const Gy=3,Vy=258,Ym=29,Yy=256,Wy=Yy+1+Ym,Wm=30,Ky=512,Jy=new Array((Wy+2)*2);ou(Jy);const Xy=new Array(Wm*2);ou(Xy);const Qy=new Array(Ky);ou(Qy);const Zy=new Array(Vy-Gy+1);ou(Zy);const eb=new Array(Ym);ou(eb);const tb=new Array(Wm);ou(tb);const nb=(r,e,n,a)=>{let o=r&65535|0,l=r>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do o=o+e[a++]|0,l=l+o|0;while(--u);o%=65521,l%=65521}return o|l<<16|0};var R0=nb;const ib=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},rb=new Uint32Array(ib()),ab=(r,e,n,a)=>{const o=rb,l=a+n;r^=-1;for(let u=a;u<l;u++)r=r>>>8^o[(r^e[u])&255];return r^-1};var Fs=ab,D0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Km={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const sb=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var ob=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)sb(n,a)&&(r[a]=n[a])}}return r},lb=r=>{let e=0;for(let a=0,o=r.length;a<o;a++)e+=r[a].length;const n=new Uint8Array(e);for(let a=0,o=0,l=r.length;a<l;a++){let u=r[a];n.set(u,o),o+=u.length}return n},Jm={assign:ob,flattenChunks:lb};let Xm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xm=!1}const Zu=new Uint8Array(256);for(let r=0;r<256;r++)Zu[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Zu[254]=Zu[254]=1;var cb=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,a,o,l,u=r.length,h=0;for(o=0;o<u;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<u&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(h),l=0,o=0;l<h;o++)n=r.charCodeAt(o),(n&64512)===55296&&o+1<u&&(a=r.charCodeAt(o+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),o++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const ub=(r,e)=>{if(e<65534&&r.subarray&&Xm)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(r[a]);return n};var hb=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let a,o;const l=new Array(n*2);for(o=0,a=0;a<n;){let u=r[a++];if(u<128){l[o++]=u;continue}let h=Zu[u];if(h>4){l[o++]=65533,a+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&a<n;)u=u<<6|r[a++]&63,h--;if(h>1){l[o++]=65533;continue}u<65536?l[o++]=u:(u-=65536,l[o++]=55296|u>>10&1023,l[o++]=56320|u&1023)}return ub(l,o)},fb=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Zu[r[n]]>e?n:e},B0={string2buf:cb,buf2string:hb,utf8border:fb};function db(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pb=db;const nf=16209,gb=16191;var mb=function(e,n){let a,o,l,u,h,d,m,b,A,k,w,j,S,T,N,B,D,U,le,ce,te,$,Y,ge;const M=e.state;a=e.next_in,Y=e.input,o=a+(e.avail_in-5),l=e.next_out,ge=e.output,u=l-(n-e.avail_out),h=l+(e.avail_out-257),d=M.dmax,m=M.wsize,b=M.whave,A=M.wnext,k=M.window,w=M.hold,j=M.bits,S=M.lencode,T=M.distcode,N=(1<<M.lenbits)-1,B=(1<<M.distbits)-1;e:do{j<15&&(w+=Y[a++]<<j,j+=8,w+=Y[a++]<<j,j+=8),D=S[w&N];t:for(;;){if(U=D>>>24,w>>>=U,j-=U,U=D>>>16&255,U===0)ge[l++]=D&65535;else if(U&16){le=D&65535,U&=15,U&&(j<U&&(w+=Y[a++]<<j,j+=8),le+=w&(1<<U)-1,w>>>=U,j-=U),j<15&&(w+=Y[a++]<<j,j+=8,w+=Y[a++]<<j,j+=8),D=T[w&B];n:for(;;){if(U=D>>>24,w>>>=U,j-=U,U=D>>>16&255,U&16){if(ce=D&65535,U&=15,j<U&&(w+=Y[a++]<<j,j+=8,j<U&&(w+=Y[a++]<<j,j+=8)),ce+=w&(1<<U)-1,ce>d){e.msg="invalid distance too far back",M.mode=nf;break e}if(w>>>=U,j-=U,U=l-u,ce>U){if(U=ce-U,U>b&&M.sane){e.msg="invalid distance too far back",M.mode=nf;break e}if(te=0,$=k,A===0){if(te+=m-U,U<le){le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}}else if(A<U){if(te+=m+A-U,U-=A,U<le){le-=U;do ge[l++]=k[te++];while(--U);if(te=0,A<le){U=A,le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}}}else if(te+=A-U,U<le){le-=U;do ge[l++]=k[te++];while(--U);te=l-ce,$=ge}for(;le>2;)ge[l++]=$[te++],ge[l++]=$[te++],ge[l++]=$[te++],le-=3;le&&(ge[l++]=$[te++],le>1&&(ge[l++]=$[te++]))}else{te=l-ce;do ge[l++]=ge[te++],ge[l++]=ge[te++],ge[l++]=ge[te++],le-=3;while(le>2);le&&(ge[l++]=ge[te++],le>1&&(ge[l++]=ge[te++]))}}else if((U&64)===0){D=T[(D&65535)+(w&(1<<U)-1)];continue n}else{e.msg="invalid distance code",M.mode=nf;break e}break}}else if((U&64)===0){D=S[(D&65535)+(w&(1<<U)-1)];continue t}else if(U&32){M.mode=gb;break e}else{e.msg="invalid literal/length code",M.mode=nf;break e}break}}while(a<o&&l<h);le=j>>3,a-=le,j-=le<<3,w&=(1<<j)-1,e.next_in=a,e.next_out=l,e.avail_in=a<o?5+(o-a):5-(a-o),e.avail_out=l<h?257+(h-l):257-(l-h),M.hold=w,M.bits=j};const Uc=15,G2=852,V2=592,Y2=0,t0=1,W2=2,vb=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bb=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wb=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_b=(r,e,n,a,o,l,u,h)=>{const d=h.bits;let m=0,b=0,A=0,k=0,w=0,j=0,S=0,T=0,N=0,B=0,D,U,le,ce,te,$=null,Y;const ge=new Uint16Array(Uc+1),M=new Uint16Array(Uc+1);let H=null,ae,re,we;for(m=0;m<=Uc;m++)ge[m]=0;for(b=0;b<a;b++)ge[e[n+b]]++;for(w=d,k=Uc;k>=1&&ge[k]===0;k--);if(w>k&&(w=k),k===0)return o[l++]=1<<24|64<<16|0,o[l++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<k&&ge[A]===0;A++);for(w<A&&(w=A),T=1,m=1;m<=Uc;m++)if(T<<=1,T-=ge[m],T<0)return-1;if(T>0&&(r===Y2||k!==1))return-1;for(M[1]=0,m=1;m<Uc;m++)M[m+1]=M[m]+ge[m];for(b=0;b<a;b++)e[n+b]!==0&&(u[M[e[n+b]]++]=b);if(r===Y2?($=H=u,Y=20):r===t0?($=vb,H=yb,Y=257):($=bb,H=wb,Y=0),B=0,b=0,m=A,te=l,j=w,S=0,le=-1,N=1<<w,ce=N-1,r===t0&&N>G2||r===W2&&N>V2)return 1;for(;;){ae=m-S,u[b]+1<Y?(re=0,we=u[b]):u[b]>=Y?(re=H[u[b]-Y],we=$[u[b]-Y]):(re=96,we=0),D=1<<m-S,U=1<<j,A=U;do U-=D,o[te+(B>>S)+U]=ae<<24|re<<16|we|0;while(U!==0);for(D=1<<m-1;B&D;)D>>=1;if(D!==0?(B&=D-1,B+=D):B=0,b++,--ge[m]===0){if(m===k)break;m=e[n+u[b]]}if(m>w&&(B&ce)!==le){for(S===0&&(S=w),te+=A,j=m-S,T=1<<j;j+S<k&&(T-=ge[j+S],!(T<=0));)j++,T<<=1;if(N+=1<<j,r===t0&&N>G2||r===W2&&N>V2)return 1;le=B&ce,o[le]=w<<24|j<<16|te-l|0}}return B!==0&&(o[te+B]=m-S<<24|64<<16|0),h.bits=w,0};var Ju=_b;const xb=0,Qm=1,Zm=2,{Z_FINISH:K2,Z_BLOCK:Sb,Z_TREES:rf,Z_OK:Yl,Z_STREAM_END:Nb,Z_NEED_DICT:Ab,Z_STREAM_ERROR:Ha,Z_DATA_ERROR:e5,Z_MEM_ERROR:t5,Z_BUF_ERROR:jb,Z_DEFLATED:J2}=Km,Tf=16180,X2=16181,Q2=16182,Z2=16183,eg=16184,tg=16185,ng=16186,ig=16187,rg=16188,ag=16189,Nf=16190,yo=16191,n0=16192,sg=16193,i0=16194,og=16195,lg=16196,cg=16197,ug=16198,af=16199,sf=16200,hg=16201,fg=16202,dg=16203,pg=16204,gg=16205,r0=16206,mg=16207,vg=16208,li=16209,n5=16210,i5=16211,Eb=852,kb=592,Cb=15,Tb=Cb,yg=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Lb(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wl=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Tf||e.mode>i5?1:0},r5=r=>{if(Wl(r))return Ha;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Tf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Eb),e.distcode=e.distdyn=new Int32Array(kb),e.sane=1,e.back=-1,Yl},a5=r=>{if(Wl(r))return Ha;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,r5(r)},s5=(r,e)=>{let n;if(Wl(r))return Ha;const a=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ha:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,a5(r))},o5=(r,e)=>{if(!r)return Ha;const n=new Lb;r.state=n,n.strm=r,n.window=null,n.mode=Tf;const a=s5(r,e);return a!==Yl&&(r.state=null),a},Ob=r=>o5(r,Tb);let bg=!0,a0,s0;const Rb=r=>{if(bg){a0=new Int32Array(512),s0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Ju(Qm,r.lens,0,288,a0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Ju(Zm,r.lens,0,32,s0,0,r.work,{bits:5}),bg=!1}r.lencode=a0,r.lenbits=9,r.distcode=s0,r.distbits=5},l5=(r,e,n,a)=>{let o;const l=r.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>a&&(o=a),l.window.set(e.subarray(n-a,n-a+o),l.wnext),a-=o,a?(l.window.set(e.subarray(n-a,n),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0},Db=(r,e)=>{let n,a,o,l,u,h,d,m,b,A,k,w,j,S,T=0,N,B,D,U,le,ce,te,$;const Y=new Uint8Array(4);let ge,M;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wl(r)||!r.output||!r.input&&r.avail_in!==0)return Ha;n=r.state,n.mode===yo&&(n.mode=n0),u=r.next_out,o=r.output,d=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,m=n.hold,b=n.bits,A=h,k=d,$=Yl;e:for(;;)switch(n.mode){case Tf:if(n.wrap===0){n.mode=n0;break}for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&2&&m===35615){n.wbits===0&&(n.wbits=15),n.check=0,Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0),m=0,b=0,n.mode=X2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((m&255)<<8)+(m>>8))%31){r.msg="incorrect header check",n.mode=li;break}if((m&15)!==J2){r.msg="unknown compression method",n.mode=li;break}if(m>>>=4,b-=4,te=(m&15)+8,n.wbits===0&&(n.wbits=te),te>15||te>n.wbits){r.msg="invalid window size",n.mode=li;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=m&512?ag:yo,m=0,b=0;break;case X2:for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.flags=m,(n.flags&255)!==J2){r.msg="unknown compression method",n.mode=li;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=li;break}n.head&&(n.head.text=m>>8&1),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0,n.mode=Q2;case Q2:for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.head&&(n.head.time=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,Y[2]=m>>>16&255,Y[3]=m>>>24&255,n.check=Fs(n.check,Y,4,0)),m=0,b=0,n.mode=Z2;case Z2:for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.head&&(n.head.xflags=m&255,n.head.os=m>>8),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0,n.mode=eg;case eg:if(n.flags&1024){for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.length=m,n.head&&(n.head.extra_len=m),n.flags&512&&n.wrap&4&&(Y[0]=m&255,Y[1]=m>>>8&255,n.check=Fs(n.check,Y,2,0)),m=0,b=0}else n.head&&(n.head.extra=null);n.mode=tg;case tg:if(n.flags&1024&&(w=n.length,w>h&&(w=h),w&&(n.head&&(te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(l,l+w),te)),n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,n.length-=w),n.length))break e;n.length=0,n.mode=ng;case ng:if(n.flags&2048){if(h===0)break e;w=0;do te=a[l+w++],n.head&&te&&n.length<65536&&(n.head.name+=String.fromCharCode(te));while(te&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ig;case ig:if(n.flags&4096){if(h===0)break e;w=0;do te=a[l+w++],n.head&&te&&n.length<65536&&(n.head.comment+=String.fromCharCode(te));while(te&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=Fs(n.check,a,w,l)),h-=w,l+=w,te)break e}else n.head&&(n.head.comment=null);n.mode=rg;case rg:if(n.flags&512){for(;b<16;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&4&&m!==(n.check&65535)){r.msg="header crc mismatch",n.mode=li;break}m=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=yo;break;case ag:for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}r.adler=n.check=yg(m),m=0,b=0,n.mode=Nf;case Nf:if(n.havedict===0)return r.next_out=u,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,Ab;r.adler=n.check=1,n.mode=yo;case yo:if(e===Sb||e===rf)break e;case n0:if(n.last){m>>>=b&7,b-=b&7,n.mode=r0;break}for(;b<3;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}switch(n.last=m&1,m>>>=1,b-=1,m&3){case 0:n.mode=sg;break;case 1:if(Rb(n),n.mode=af,e===rf){m>>>=2,b-=2;break e}break;case 2:n.mode=lg;break;case 3:r.msg="invalid block type",n.mode=li}m>>>=2,b-=2;break;case sg:for(m>>>=b&7,b-=b&7;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if((m&65535)!==(m>>>16^65535)){r.msg="invalid stored block lengths",n.mode=li;break}if(n.length=m&65535,m=0,b=0,n.mode=i0,e===rf)break e;case i0:n.mode=og;case og:if(w=n.length,w){if(w>h&&(w=h),w>d&&(w=d),w===0)break e;o.set(a.subarray(l,l+w),u),h-=w,l+=w,d-=w,u+=w,n.length-=w;break}n.mode=yo;break;case lg:for(;b<14;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.nlen=(m&31)+257,m>>>=5,b-=5,n.ndist=(m&31)+1,m>>>=5,b-=5,n.ncode=(m&15)+4,m>>>=4,b-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=li;break}n.have=0,n.mode=cg;case cg:for(;n.have<n.ncode;){for(;b<3;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.lens[H[n.have++]]=m&7,m>>>=3,b-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ge={bits:n.lenbits},$=Ju(xb,n.lens,0,19,n.lencode,0,n.work,ge),n.lenbits=ge.bits,$){r.msg="invalid code lengths set",n.mode=li;break}n.have=0,n.mode=ug;case ug:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[m&(1<<n.lenbits)-1],N=T>>>24,B=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(D<16)m>>>=N,b-=N,n.lens[n.have++]=D;else{if(D===16){for(M=N+2;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(m>>>=N,b-=N,n.have===0){r.msg="invalid bit length repeat",n.mode=li;break}te=n.lens[n.have-1],w=3+(m&3),m>>>=2,b-=2}else if(D===17){for(M=N+3;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=N,b-=N,te=0,w=3+(m&7),m>>>=3,b-=3}else{for(M=N+7;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=N,b-=N,te=0,w=11+(m&127),m>>>=7,b-=7}if(n.have+w>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=li;break}for(;w--;)n.lens[n.have++]=te}}if(n.mode===li)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=li;break}if(n.lenbits=9,ge={bits:n.lenbits},$=Ju(Qm,n.lens,0,n.nlen,n.lencode,0,n.work,ge),n.lenbits=ge.bits,$){r.msg="invalid literal/lengths set",n.mode=li;break}if(n.distbits=6,n.distcode=n.distdyn,ge={bits:n.distbits},$=Ju(Zm,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ge),n.distbits=ge.bits,$){r.msg="invalid distances set",n.mode=li;break}if(n.mode=af,e===rf)break e;case af:n.mode=sf;case sf:if(h>=6&&d>=258){r.next_out=u,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,mb(r,k),u=r.next_out,o=r.output,d=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,m=n.hold,b=n.bits,n.mode===yo&&(n.back=-1);break}for(n.back=0;T=n.lencode[m&(1<<n.lenbits)-1],N=T>>>24,B=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(B&&(B&240)===0){for(U=N,le=B,ce=D;T=n.lencode[ce+((m&(1<<U+le)-1)>>U)],N=T>>>24,B=T>>>16&255,D=T&65535,!(U+N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=U,b-=U,n.back+=U}if(m>>>=N,b-=N,n.back+=N,n.length=D,B===0){n.mode=gg;break}if(B&32){n.back=-1,n.mode=yo;break}if(B&64){r.msg="invalid literal/length code",n.mode=li;break}n.extra=B&15,n.mode=hg;case hg:if(n.extra){for(M=n.extra;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=fg;case fg:for(;T=n.distcode[m&(1<<n.distbits)-1],N=T>>>24,B=T>>>16&255,D=T&65535,!(N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if((B&240)===0){for(U=N,le=B,ce=D;T=n.distcode[ce+((m&(1<<U+le)-1)>>U)],N=T>>>24,B=T>>>16&255,D=T&65535,!(U+N<=b);){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}m>>>=U,b-=U,n.back+=U}if(m>>>=N,b-=N,n.back+=N,B&64){r.msg="invalid distance code",n.mode=li;break}n.offset=D,n.extra=B&15,n.mode=dg;case dg:if(n.extra){for(M=n.extra;b<M;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=li;break}n.mode=pg;case pg:if(d===0)break e;if(w=k-d,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=li;break}w>n.wnext?(w-=n.wnext,j=n.wsize-w):j=n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=o,j=u-n.offset,w=n.length;w>d&&(w=d),d-=w,n.length-=w;do o[u++]=S[j++];while(--w);n.length===0&&(n.mode=sf);break;case gg:if(d===0)break e;o[u++]=n.length,d--,n.mode=sf;break;case r0:if(n.wrap){for(;b<32;){if(h===0)break e;h--,m|=a[l++]<<b,b+=8}if(k-=d,r.total_out+=k,n.total+=k,n.wrap&4&&k&&(r.adler=n.check=n.flags?Fs(n.check,o,k,u-k):R0(n.check,o,k,u-k)),k=d,n.wrap&4&&(n.flags?m:yg(m))!==n.check){r.msg="incorrect data check",n.mode=li;break}m=0,b=0}n.mode=mg;case mg:if(n.wrap&&n.flags){for(;b<32;){if(h===0)break e;h--,m+=a[l++]<<b,b+=8}if(n.wrap&4&&m!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=li;break}m=0,b=0}n.mode=vg;case vg:$=Nb;break e;case li:$=e5;break e;case n5:return t5;case i5:default:return Ha}return r.next_out=u,r.avail_out=d,r.next_in=l,r.avail_in=h,n.hold=m,n.bits=b,(n.wsize||k!==r.avail_out&&n.mode<li&&(n.mode<r0||e!==K2))&&l5(r,r.output,r.next_out,k-r.avail_out),A-=r.avail_in,k-=r.avail_out,r.total_in+=A,r.total_out+=k,n.total+=k,n.wrap&4&&k&&(r.adler=n.check=n.flags?Fs(n.check,o,k,r.next_out-k):R0(n.check,o,k,r.next_out-k)),r.data_type=n.bits+(n.last?64:0)+(n.mode===yo?128:0)+(n.mode===af||n.mode===i0?256:0),(A===0&&k===0||e===K2)&&$===Yl&&($=jb),$},Bb=r=>{if(Wl(r))return Ha;let e=r.state;return e.window&&(e.window=null),r.state=null,Yl},Pb=(r,e)=>{if(Wl(r))return Ha;const n=r.state;return(n.wrap&2)===0?Ha:(n.head=e,e.done=!1,Yl)},Mb=(r,e)=>{const n=e.length;let a,o,l;return Wl(r)||(a=r.state,a.wrap!==0&&a.mode!==Nf)?Ha:a.mode===Nf&&(o=1,o=R0(o,e,n,0),o!==a.check)?e5:(l=l5(r,e,n,n),l?(a.mode=n5,t5):(a.havedict=1,Yl))};var qb=a5,Ub=s5,Fb=r5,Ib=Ob,zb=o5,Hb=Db,$b=Bb,Gb=Pb,Vb=Mb,Yb="pako inflate (from Nodeca project)",wo={inflateReset:qb,inflateReset2:Ub,inflateResetKeep:Fb,inflateInit:Ib,inflateInit2:zb,inflate:Hb,inflateEnd:$b,inflateGetHeader:Gb,inflateSetDictionary:Vb,inflateInfo:Yb};function Wb(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Kb=Wb;const c5=Object.prototype.toString,{Z_NO_FLUSH:Jb,Z_FINISH:Xb,Z_OK:eh,Z_STREAM_END:o0,Z_NEED_DICT:l0,Z_STREAM_ERROR:Qb,Z_DATA_ERROR:wg,Z_MEM_ERROR:Zb}=Km;function lh(r){this.options=Jm.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pb,this.strm.avail_out=0;let n=wo.inflateInit2(this.strm,e.windowBits);if(n!==eh)throw new Error(D0[n]);if(this.header=new Kb,wo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=B0.string2buf(e.dictionary):c5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=wo.inflateSetDictionary(this.strm,e.dictionary),n!==eh)))throw new Error(D0[n])}lh.prototype.push=function(r,e){const n=this.strm,a=this.options.chunkSize,o=this.options.dictionary;let l,u,h;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?Xb:Jb,c5.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),l=wo.inflate(n,u),l===l0&&o&&(l=wo.inflateSetDictionary(n,o),l===eh?l=wo.inflate(n,u):l===wg&&(l=l0));n.avail_in>0&&l===o0&&n.state.wrap>0&&r[n.next_in]!==0;)wo.inflateReset(n),l=wo.inflate(n,u);switch(l){case Qb:case wg:case l0:case Zb:return this.onEnd(l),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||l===o0))if(this.options.to==="string"){let d=B0.utf8border(n.output,n.next_out),m=n.next_out-d,b=B0.buf2string(n.output,d);n.next_out=m,n.avail_out=a-m,m&&n.output.set(n.output.subarray(d,d+m),0),this.onData(b)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===eh&&h===0)){if(l===o0)return l=wo.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};lh.prototype.onData=function(r){this.chunks.push(r)};lh.prototype.onEnd=function(r){r===eh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jm.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function ew(r,e){const n=new lh(e);if(n.push(r),n.err)throw n.msg||D0[n.err];return n.result}var tw=lh,nw=ew,iw={Inflate:tw,inflate:nw};const{Inflate:rw,inflate:aw}=iw;var _g=rw,sw=aw;const u5=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;u5[r]=e}const xg=4294967295;function ow(r,e,n){let a=r;for(let o=0;o<n;o++)a=u5[(a^e[o])&255]^a>>>8;return a}function lw(r,e){return(ow(xg,r,e)^xg)>>>0}function Sg(r,e,n){const a=r.readUint32(),o=lw(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(o!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${o}`)}function h5(r,e,n){for(let a=0;a<n;a++)e[a]=r[a]}function f5(r,e,n,a){let o=0;for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-a]&255}function d5(r,e,n,a){let o=0;if(n.length===0)for(;o<a;o++)e[o]=r[o];else for(;o<a;o++)e[o]=r[o]+n[o]&255}function p5(r,e,n,a,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+(e[l-o]>>1)&255}else{for(;l<o;l++)e[l]=r[l]+(n[l]>>1)&255;for(;l<a;l++)e[l]=r[l]+(e[l-o]+n[l]>>1)&255}}function g5(r,e,n,a,o){let l=0;if(n.length===0){for(;l<o;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+e[l-o]&255}else{for(;l<o;l++)e[l]=r[l]+n[l]&255;for(;l<a;l++)e[l]=r[l]+cw(e[l-o],n[l],n[l-o])&255}}function cw(r,e,n){const a=r+e-n,o=Math.abs(a-r),l=Math.abs(a-e),u=Math.abs(a-n);return o<=l&&o<=u?r:l<=u?e:n}function uw(r,e,n,a,o,l){switch(r){case 0:h5(e,n,o);break;case 1:f5(e,n,o,l);break;case 2:d5(e,n,a,o);break;case 3:p5(e,n,a,o,l);break;case 4:g5(e,n,a,o,l);break;default:throw new Error(`Unsupported filter: ${r}`)}}const hw=new Uint16Array([255]),fw=new Uint8Array(hw.buffer),dw=fw[0]===255;function pw(r){const{data:e,width:n,height:a,channels:o,depth:l}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(l/8)*o,d=new Uint8Array(a*n*h);let m=0;for(let b=0;b<7;b++){const A=u[b],k=Math.ceil((n-A.x)/A.xStep),w=Math.ceil((a-A.y)/A.yStep);if(k<=0||w<=0)continue;const j=k*h,S=new Uint8Array(j);for(let T=0;T<w;T++){const N=e[m++],B=e.subarray(m,m+j);m+=j;const D=new Uint8Array(j);uw(N,B,D,S,j,h),S.set(D);for(let U=0;U<k;U++){const le=A.x+U*A.xStep,ce=A.y+T*A.yStep;if(!(le>=n||ce>=a))for(let te=0;te<h;te++)d[(ce*n+le)*h+te]=D[U*h+te]}}}if(l===16){const b=new Uint16Array(d.buffer);if(dw)for(let A=0;A<b.length;A++)b[A]=gw(b[A]);return b}else return d}function gw(r){return(r&255)<<8|r>>8&255}const mw=new Uint16Array([255]),vw=new Uint8Array(mw.buffer),yw=vw[0]===255,bw=new Uint8Array(0);function Ng(r){const{data:e,width:n,height:a,channels:o,depth:l}=r,u=Math.ceil(l/8)*o,h=Math.ceil(l/8*o*n),d=new Uint8Array(a*h);let m=bw,b=0,A,k;for(let w=0;w<a;w++){switch(A=e.subarray(b+1,b+1+h),k=d.subarray(w*h,(w+1)*h),e[b]){case 0:h5(A,k,h);break;case 1:f5(A,k,h,u);break;case 2:d5(A,k,m,h);break;case 3:p5(A,k,m,h,u);break;case 4:g5(A,k,m,h,u);break;default:throw new Error(`Unsupported filter: ${e[b]}`)}m=k,b+=h+1}if(l===16){const w=new Uint16Array(d.buffer);if(yw)for(let j=0;j<w.length;j++)w[j]=ww(w[j]);return w}else return d}function ww(r){return(r&255)<<8|r>>8&255}const mf=Uint8Array.of(137,80,78,71,13,10,26,10);function Ag(r){if(!_w(r.readBytes(mf.length)))throw new Error("wrong PNG signature")}function _w(r){if(r.length<mf.length)return!1;for(let e=0;e<mf.length;e++)if(r[e]!==mf[e])return!1;return!0}const xw="tEXt",Sw=0,m5=new TextDecoder("latin1");function Nw(r){if(jw(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const Aw=/^[\u0000-\u00FF]*$/;function jw(r){if(!Aw.test(r))throw new Error("invalid latin1 text")}function Ew(r,e,n){const a=v5(e);r[a]=kw(e,n-a.length-1)}function v5(r){for(r.mark();r.readByte()!==Sw;);const e=r.offset;r.reset();const n=m5.decode(r.readBytes(e-r.offset-1));return r.skip(1),Nw(n),n}function kw(r,e){return m5.decode(r.readBytes(e))}const wa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},c0={UNKNOWN:-1,DEFLATE:0},jg={UNKNOWN:-1,ADAPTIVE:0},u0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},of={NONE:0,BACKGROUND:1,PREVIOUS:2},h0={SOURCE:0,OVER:1};class Cw extends ap{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new _g,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=c0.UNKNOWN,this._filterMethod=jg.UNKNOWN,this._interlaceMethod=u0.UNKNOWN,this._colorType=wa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ag(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Ag(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case xw:Ew(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Sg(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Sg(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Tw(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case wa.GREYSCALE:a=1;break;case wa.TRUECOLOUR:a=3;break;case wa.INDEXED_COLOUR:a=1;break;case wa.GREYSCALE_ALPHA:a=2;break;case wa.TRUECOLOUR_ALPHA:a=4;break;case wa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==c0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case wa.GREYSCALE:case wa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case wa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wa.UNKNOWN:case wa.GREYSCALE_ALPHA:case wa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=v5(this),a=this.readUint8();if(a!==c0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:sw(o)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Ng({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case of.NONE:break;case of.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const u=(o*e.width+l)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[u+h]=0}break;case of.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,o=(l,u)=>{const h=((l+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,d=(l*n.width+u)*this._png.channels;return{index:h,frameIndex:d}};switch(n.blendOp){case h0.SOURCE:for(let l=0;l<n.height;l++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:d}=o(l,u);for(let m=0;m<this._png.channels;m++)e.data[h+m]=n.data[d+m]}break;case h0.OVER:for(let l=0;l<n.height;l++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:d}=o(l,u);for(let m=0;m<this._png.channels;m++){const b=n.data[d+this._png.channels-1]/a,A=m%(this._png.channels-1)===0?1:n.data[d+m],k=Math.floor(b*A+(1-b)*e.data[h+m]);e.data[h+m]+=k}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==jg.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===u0.NO_INTERLACE)this._png.data=Ng({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===u0.ADAM7)this._png.data=pw({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:of.NONE,blendOp:h0.SOURCE,data:e}),this._inflator=new _g,this._writingDataChunks=!1}}function Tw(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Eg;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Eg||(Eg={}));function Lw(r,e){return new Cw(r,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f0(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var Yn={log:f0,warn:function(r){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):f0.call(null,arguments))},error:function(r){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):f0(r))}};function d0(r,e,n){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){ql(a.response,e,n)},a.onerror=function(){Yn.error("could not download file")},a.send()}function kg(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var ql=$t.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var a=$t.URL||$t.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?kg(o.href)?d0(r,e,n):lf(o,o.target="_blank"):lf(o)):(o.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){lf(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(kg(r))d0(r,e,n);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){lf(a)})}else navigator.msSaveOrOpenBlob((function(o,l){return l===void 0?l={autoBom:!1}:Bn(l)!=="object"&&(Yn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(r,n),e)}:function(r,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return d0(r,e,n);var o=r.type==="application/octet-stream",l=/constructor/i.test($t.HTMLElement)||$t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=u?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=b:location=b,a=null},h.readAsDataURL(r)}else{var d=$t.URL||$t.webkitURL,m=d.createObjectURL(r);a?a.location=m:location.href=m,a=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function y5(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,l=n[a].process,u=o.exec(r);u&&(e=l(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+h+d+m}}var vf=$t.atob.bind($t),Cg=$t.btoa.bind($t);function p0(r,e){var n=r[0],a=r[1],o=r[2],l=r[3];n=kr(n,a,o,l,e[0],7,-680876936),l=kr(l,n,a,o,e[1],12,-389564586),o=kr(o,l,n,a,e[2],17,606105819),a=kr(a,o,l,n,e[3],22,-1044525330),n=kr(n,a,o,l,e[4],7,-176418897),l=kr(l,n,a,o,e[5],12,1200080426),o=kr(o,l,n,a,e[6],17,-1473231341),a=kr(a,o,l,n,e[7],22,-45705983),n=kr(n,a,o,l,e[8],7,1770035416),l=kr(l,n,a,o,e[9],12,-1958414417),o=kr(o,l,n,a,e[10],17,-42063),a=kr(a,o,l,n,e[11],22,-1990404162),n=kr(n,a,o,l,e[12],7,1804603682),l=kr(l,n,a,o,e[13],12,-40341101),o=kr(o,l,n,a,e[14],17,-1502002290),n=Cr(n,a=kr(a,o,l,n,e[15],22,1236535329),o,l,e[1],5,-165796510),l=Cr(l,n,a,o,e[6],9,-1069501632),o=Cr(o,l,n,a,e[11],14,643717713),a=Cr(a,o,l,n,e[0],20,-373897302),n=Cr(n,a,o,l,e[5],5,-701558691),l=Cr(l,n,a,o,e[10],9,38016083),o=Cr(o,l,n,a,e[15],14,-660478335),a=Cr(a,o,l,n,e[4],20,-405537848),n=Cr(n,a,o,l,e[9],5,568446438),l=Cr(l,n,a,o,e[14],9,-1019803690),o=Cr(o,l,n,a,e[3],14,-187363961),a=Cr(a,o,l,n,e[8],20,1163531501),n=Cr(n,a,o,l,e[13],5,-1444681467),l=Cr(l,n,a,o,e[2],9,-51403784),o=Cr(o,l,n,a,e[7],14,1735328473),n=Tr(n,a=Cr(a,o,l,n,e[12],20,-1926607734),o,l,e[5],4,-378558),l=Tr(l,n,a,o,e[8],11,-2022574463),o=Tr(o,l,n,a,e[11],16,1839030562),a=Tr(a,o,l,n,e[14],23,-35309556),n=Tr(n,a,o,l,e[1],4,-1530992060),l=Tr(l,n,a,o,e[4],11,1272893353),o=Tr(o,l,n,a,e[7],16,-155497632),a=Tr(a,o,l,n,e[10],23,-1094730640),n=Tr(n,a,o,l,e[13],4,681279174),l=Tr(l,n,a,o,e[0],11,-358537222),o=Tr(o,l,n,a,e[3],16,-722521979),a=Tr(a,o,l,n,e[6],23,76029189),n=Tr(n,a,o,l,e[9],4,-640364487),l=Tr(l,n,a,o,e[12],11,-421815835),o=Tr(o,l,n,a,e[15],16,530742520),n=Lr(n,a=Tr(a,o,l,n,e[2],23,-995338651),o,l,e[0],6,-198630844),l=Lr(l,n,a,o,e[7],10,1126891415),o=Lr(o,l,n,a,e[14],15,-1416354905),a=Lr(a,o,l,n,e[5],21,-57434055),n=Lr(n,a,o,l,e[12],6,1700485571),l=Lr(l,n,a,o,e[3],10,-1894986606),o=Lr(o,l,n,a,e[10],15,-1051523),a=Lr(a,o,l,n,e[1],21,-2054922799),n=Lr(n,a,o,l,e[8],6,1873313359),l=Lr(l,n,a,o,e[15],10,-30611744),o=Lr(o,l,n,a,e[6],15,-1560198380),a=Lr(a,o,l,n,e[13],21,1309151649),n=Lr(n,a,o,l,e[4],6,-145523070),l=Lr(l,n,a,o,e[11],10,-1120210379),o=Lr(o,l,n,a,e[2],15,718787259),a=Lr(a,o,l,n,e[9],21,-343485551),r[0]=sl(n,r[0]),r[1]=sl(a,r[1]),r[2]=sl(o,r[2]),r[3]=sl(l,r[3])}function Lf(r,e,n,a,o,l){return e=sl(sl(e,r),sl(a,l)),sl(e<<o|e>>>32-o,n)}function kr(r,e,n,a,o,l,u){return Lf(e&n|~e&a,r,e,o,l,u)}function Cr(r,e,n,a,o,l,u){return Lf(e&a|n&~a,r,e,o,l,u)}function Tr(r,e,n,a,o,l,u){return Lf(e^n^a,r,e,o,l,u)}function Lr(r,e,n,a,o,l,u){return Lf(n^(e|~a),r,e,o,l,u)}function b5(r){var e,n=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)p0(a,Ow(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(p0(a,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,p0(a,o),a}function Ow(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var Tg="0123456789abcdef".split("");function Rw(r){for(var e="",n=0;n<4;n++)e+=Tg[r>>8*n+4&15]+Tg[r>>8*n&15];return e}function Dw(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function P0(r){return b5(r).map(Dw).join("")}var Bw=(function(r){for(var e=0;e<r.length;e++)r[e]=Rw(r[e]);return r.join("")})(b5("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(r,e){if(Bw){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}function M0(r,e){var n,a,o,l;if(r!==n){for(var u=(o=r,l=1+(256/r.length|0),new Array(l+1).join(o)),h=[],d=0;d<256;d++)h[d]=d;var m=0;for(d=0;d<256;d++){var b=h[d];m=(m+b+u.charCodeAt(d))%256,h[d]=h[m],h[m]=b}n=r,a=h}else h=a;var A=e.length,k=0,w=0,j="";for(d=0;d<A;d++)w=(w+(b=h[k=(k+1)%256]))%256,h[k]=h[w],h[w]=b,u=h[(h[k]+h[w])%256],j+=String.fromCharCode(e.charCodeAt(d)^u);return j}var Lg={print:4,modify:8,copy:16,"annot-forms":32};function Wc(r,e,n,a){this.v=1,this.r=2;var o=192;r.forEach(function(h){if(Lg.perm!==void 0)throw new Error("Invalid permission: "+h);o+=Lg[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,u),this.P=-(1+(255^o)),this.encryptionKey=P0(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=M0(this.encryptionKey,this.padding)}function Kc(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,a=0;a<n;a++){var o=r.charCodeAt(a);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):r[a]}return e}function Og(r){if(Bn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,o){if(o=o||!1,typeof n!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var l=Math.random().toString(35);return e[n][l]=[a,!!o],l},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var l in e[n]){var u=e[n][l];try{u[0].apply(r,a)}catch(h){$t.console&&Yn.error("jsPDF PubSub Error",h.message,h)}u[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Af(r){if(!(this instanceof Af))return new Af(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function w5(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Fl(r,e,n,a,o){if(!(this instanceof Fl))return new Fl(r,e,n,a,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,w5.call(this,a,o)}function Zc(r,e,n,a,o){if(!(this instanceof Zc))return new Zc(r,e,n,a,o);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,w5.call(this,a,o)}function _t(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],l=arguments[3],u=[],h=1,d=16,m="S",b=null;Bn(r=r||{})==="object"&&(n=r.orientation,a=r.unit||a,o=r.format||o,l=r.compress||r.compressPdf||l,(b=r.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),m=r.defaultPathOperation||"S"),u=r.filters||(l===!0?["FlateEncode"]:u),a=a||"mm",n=(""+(n||"P")).toLowerCase();var A=r.putOnlyUsedFonts||!1,k={},w={internal:{},__private__:{}};w.__private__.PubSub=Og;var j="1.3",S=w.__private__.getPdfVersion=function(){return j};w.__private__.setPdfVersion=function(_){j=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var N=w.__private__.getPageFormat=function(_){return T[_]};o=o||"a4";var B="compat",D="advanced",U=B;function le(){this.saveGraphicsState(),K(new bt(It,0,0,-It,0,Ja()*It).toString()+" cm"),this.setFontSize(this.getFontSize()/It),m="n",U=D}function ce(){this.restoreGraphicsState(),m="S",U=B}var te=w.__private__.combineFontStyleAndFontWeight=function(_,O){if(_=="bold"&&O=="normal"||_=="bold"&&O==400||_=="normal"&&O=="italic"||_=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(_=O==400||O==="normal"?_==="italic"?"italic":"normal":O!=700&&O!=="bold"||_!=="normal"?(O==700?"bold":O)+""+_:"bold"),_};w.advancedAPI=function(_){var O=U===B;return O&&le.call(this),typeof _!="function"||(_(this),O&&ce.call(this)),this},w.compatAPI=function(_){var O=U===D;return O&&ce.call(this),typeof _!="function"||(_(this),O&&le.call(this)),this},w.isAdvancedAPI=function(){return U===D};var $,Y=function(_){if(U!==D)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ge=w.roundToPrecision=w.__private__.roundToPrecision=function(_,O){var Z=e||O;if(isNaN(_)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(Z).replace(/0+$/,"")};$=w.hpf=w.__private__.hpf=typeof d=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,d)}:d==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ge(_,16)};var M=w.f2=w.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ge(_,2)},H=w.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ge(_,3)},ae=w.scale=w.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return U===B?_*It:U===D?_:void 0},re=function(_){return ae((function(O){return U===B?Ja()-O:U===D?O:void 0})(_))};w.__private__.setPrecision=w.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var we,ee="00000000000000000000000000000000",X=w.__private__.getFileId=function(){return ee},ie=w.__private__.setFileId=function(_){return ee=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(ki=new Wc(b.userPermissions,b.userPassword,b.ownerPassword,ee)),ee};w.setFileId=function(_){return ie(_),this},w.getFileId=function(){return X()};var xe=w.__private__.convertDateToPDFDate=function(_){var O=_.getTimezoneOffset(),Z=O<0?"+":"-",he=Math.floor(Math.abs(O/60)),ye=Math.abs(O%60),Pe=[Z,W(he),"'",W(ye),"'"].join("");return["D:",_.getFullYear(),W(_.getMonth()+1),W(_.getDate()),W(_.getHours()),W(_.getMinutes()),W(_.getSeconds()),Pe].join("")},Le=w.__private__.convertPDFDateToDate=function(_){var O=parseInt(_.substr(2,4),10),Z=parseInt(_.substr(6,2),10)-1,he=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),Pe=parseInt(_.substr(12,2),10),$e=parseInt(_.substr(14,2),10);return new Date(O,Z,he,ye,Pe,$e,0)},G=w.__private__.setCreationDate=function(_){var O;if(_===void 0&&(_=new Date),_ instanceof Date)O=xe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=_}return we=O},L=w.__private__.getCreationDate=function(_){var O=we;return _==="jsDate"&&(O=Le(we)),O};w.setCreationDate=function(_){return G(_),this},w.getCreationDate=function(_){return L(_)};var I,W=w.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ne=w.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ue=0,pe=[],ke=[],je=0,Be=[],Ge=[],Qe=!1,Xe=ke;w.__private__.setCustomOutputDestination=function(_){Qe=!0,Xe=_};var rt=function(_){Qe||(Xe=_)};w.__private__.resetCustomOutputDestination=function(){Qe=!1,Xe=ke};var K=w.__private__.out=function(_){return _=_.toString(),je+=_.length+1,Xe.push(_),Xe},Ke=w.__private__.write=function(_){return K(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Vt=w.__private__.getArrayBuffer=function(_){for(var O=_.length,Z=new ArrayBuffer(O),he=new Uint8Array(Z);O--;)he[O]=_.charCodeAt(O);return Z},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return vt};var ze=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(_){return ze=U===D?_/It:_,this};var xt,et=w.__private__.getFontSize=w.getFontSize=function(){return U===B?ze:ze*It},Nt=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(_){return Nt=_,this},w.__private__.getR2L=w.getR2L=function(){return Nt};var yt,Gt=w.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))xt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');xt=_}else xt=parseInt(_,10)};w.__private__.getZoomMode=function(){return xt};var Ut,Ft=w.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');yt=_};w.__private__.getPageMode=function(){return yt};var rn=w.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ut=_};w.__private__.getLayoutMode=function(){return Ut},w.__private__.setDisplayMode=w.setDisplayMode=function(_,O,Z){return Gt(_),rn(O),Ft(Z),this};var Zt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(_){if(Object.keys(Zt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zt[_]},w.__private__.getDocumentProperties=function(){return Zt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(_){for(var O in Zt)Zt.hasOwnProperty(O)&&_[O]&&(Zt[O]=_[O]);return this},w.__private__.setDocumentProperty=function(_,O){if(Object.keys(Zt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zt[_]=O};var ut,It,ft,Kn,tn,jt={},Dt={},an=[],St={},Ln={},Tt={},Bt={},En=null,Yt=0,gt=[],ln=new Og(w),Or=r.hotfixes||[],Bi={},Fr={},xr=[],bt=function _(O,Z,he,ye,Pe,$e){if(!(this instanceof _))return new _(O,Z,he,ye,Pe,$e);isNaN(O)&&(O=1),isNaN(Z)&&(Z=0),isNaN(he)&&(he=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN($e)&&($e=0),this._matrix=[O,Z,he,ye,Pe,$e]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(_)},bt.prototype.multiply=function(_){var O=_.sx*this.sx+_.shy*this.shx,Z=_.sx*this.shy+_.shy*this.sy,he=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,Pe=_.tx*this.sx+_.ty*this.shx+this.tx,$e=_.tx*this.shy+_.ty*this.sy+this.ty;return new bt(O,Z,he,ye,Pe,$e)},bt.prototype.decompose=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Pe=this.ty,$e=Math.sqrt(_*_+O*O),st=(_/=$e)*Z+(O/=$e)*he;Z-=_*st,he-=O*st;var dt=Math.sqrt(Z*Z+he*he);return st/=dt,_*(he/=dt)<O*(Z/=dt)&&(_=-_,O=-O,st=-st,$e=-$e),{scale:new bt($e,0,0,dt,0,0),translate:new bt(1,0,0,1,ye,Pe),rotate:new bt(_,O,-O,_,0,0),skew:new bt(1,0,st,1,0,0)}},bt.prototype.toString=function(_){return this.join(" ")},bt.prototype.inversed=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Pe=this.ty,$e=1/(_*he-O*Z),st=he*$e,dt=-O*$e,Pt=-Z*$e,Kt=_*$e;return new bt(st,dt,Pt,Kt,-st*ye-Pt*Pe,-dt*ye-Kt*Pe)},bt.prototype.applyToPoint=function(_){var O=_.x*this.sx+_.y*this.shx+this.tx,Z=_.x*this.shy+_.y*this.sy+this.ty;return new Hr(O,Z)},bt.prototype.applyToRectangle=function(_){var O=this.applyToPoint(_),Z=this.applyToPoint(new Hr(_.x+_.w,_.y+_.h));return new Ga(O.x,O.y,Z.x-O.x,Z.y-O.y)},bt.prototype.clone=function(){var _=this.sx,O=this.shy,Z=this.shx,he=this.sy,ye=this.tx,Pe=this.ty;return new bt(_,O,Z,he,ye,Pe)},w.Matrix=bt;var sa=w.matrixMult=function(_,O){return O.multiply(_)},Ir=new bt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Ir;var or=function(_,O){if(!Ln[_]){var Z=(O instanceof Fl?"Sh":"P")+(Object.keys(St).length+1).toString(10);O.id=Z,Ln[_]=Z,St[Z]=O,ln.publish("addPattern",O)}};w.ShadingPattern=Fl,w.TilingPattern=Zc,w.addShadingPattern=function(_,O){return Y("addShadingPattern()"),or(_,O),this},w.beginTilingPattern=function(_){Y("beginTilingPattern()"),Ws(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},w.endTilingPattern=function(_,O){Y("endTilingPattern()"),O.stream=Ge[I].join(`
`),or(_,O),ln.publish("endTilingPattern",O),xr.pop().restore()};var lr,Pn=w.__private__.newObject=function(){var _=ii();return gi(_,!0),_},ii=w.__private__.newObjectDeferred=function(){return ue++,pe[ue]=function(){return je},ue},gi=function(_,O){return O=typeof O=="boolean"&&O,pe[_]=je,O&&K(_+" 0 obj"),_},Aa=w.__private__.newAdditionalObject=function(){var _={objId:ii(),content:""};return Be.push(_),_},ji=ii(),_n=ii(),Hn=w.__private__.decodeColorString=function(_){var O=_.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var Z=parseFloat(O[0]);O=[Z,Z,Z,"r"]}for(var he="#",ye=0;ye<3;ye++)he+=("0"+Math.floor(255*parseFloat(O[ye])).toString(16)).slice(-2);return he},Pi=w.__private__.encodeColorString=function(_){var O;typeof _=="string"&&(_={ch1:_});var Z=_.ch1,he=_.ch2,ye=_.ch3,Pe=_.ch4,$e=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var st=new y5(Z);if(st.ok)Z=st.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var dt=parseInt(Z.substr(1),16);Z=dt>>16&255,he=dt>>8&255,ye=255&dt}if(he===void 0||Pe===void 0&&Z===he&&he===ye)O=typeof Z=="string"?Z+" "+$e[0]:_.precision===2?M(Z/255)+" "+$e[0]:H(Z/255)+" "+$e[0];else if(Pe===void 0||Bn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",$e[1]].join(" ");O=typeof Z=="string"?[Z,he,ye,$e[1]].join(" "):_.precision===2?[M(Z/255),M(he/255),M(ye/255),$e[1]].join(" "):[H(Z/255),H(he/255),H(ye/255),$e[1]].join(" ")}else O=typeof Z=="string"?[Z,he,ye,Pe,$e[2]].join(" "):_.precision===2?[M(Z),M(he),M(ye),M(Pe),$e[2]].join(" "):[H(Z),H(he),H(ye),H(Pe),$e[2]].join(" ");return O},Zi=w.__private__.getFilters=function(){return u},cr=w.__private__.putStream=function(_){var O=(_=_||{}).data||"",Z=_.filters||Zi(),he=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,Pe=O.length,$e=_.objectId,st=function(Ci){return Ci};if(b!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(st=ki.encryptor($e,0));var dt={};Z===!0&&(Z=["FlateEncode"]);var Pt=_.additionalKeyValues||[],Kt=(dt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(O,Z):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if(dt.data.length!==0&&(Pt.push({key:"Length",value:dt.data.length}),ye===!0&&Pt.push({key:"Length1",value:Pe})),Kt.length!=0)if(Kt.split("/").length-1==1)Pt.push({key:"Filter",value:Kt});else{Pt.push({key:"Filter",value:"["+Kt+"]"});for(var gn=0;gn<Pt.length;gn+=1)if(Pt[gn].key==="DecodeParms"){for(var Xn=[],ci=0;ci<dt.reverseChain.split("/").length-1;ci+=1)Xn.push("null");Xn.push(Pt[gn].value),Pt[gn].value="["+Xn.join(" ")+"]"}}K("<<");for(var Mn=0;Mn<Pt.length;Mn++)K("/"+Pt[Mn].key+" "+Pt[Mn].value);K(">>"),dt.data.length!==0&&(K("stream"),K(st(dt.data)),K("endstream"))},Jn=w.__private__.putPage=function(_){var O=_.number,Z=_.data,he=_.objId,ye=_.contentsObjId;gi(he,!0),K("<</Type /Page"),K("/Parent "+_.rootDictionaryObjId+" 0 R"),K("/Resources "+_.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat($(_.mediaBox.bottomLeftX))+" "+parseFloat($(_.mediaBox.bottomLeftY))+" "+$(_.mediaBox.topRightX)+" "+$(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&K("/CropBox ["+$(_.cropBox.bottomLeftX)+" "+$(_.cropBox.bottomLeftY)+" "+$(_.cropBox.topRightX)+" "+$(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&K("/BleedBox ["+$(_.bleedBox.bottomLeftX)+" "+$(_.bleedBox.bottomLeftY)+" "+$(_.bleedBox.topRightX)+" "+$(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&K("/TrimBox ["+$(_.trimBox.bottomLeftX)+" "+$(_.trimBox.bottomLeftY)+" "+$(_.trimBox.topRightX)+" "+$(_.trimBox.topRightY)+"]"),_.artBox!==null&&K("/ArtBox ["+$(_.artBox.bottomLeftX)+" "+$(_.artBox.bottomLeftY)+" "+$(_.artBox.topRightX)+" "+$(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&K("/UserUnit "+_.userUnit),ln.publish("putPage",{objId:he,pageContext:gt[O],pageNumber:O,page:Z}),K("/Contents "+ye+" 0 R"),K(">>"),K("endobj");var Pe=Z.join(`
`);return U===D&&(Pe+=`
Q`),gi(ye,!0),cr({data:Pe,filters:Zi(),objectId:ye}),K("endobj"),he},ur=w.__private__.putPages=function(){var _,O,Z=[];for(_=1;_<=Yt;_++)gt[_].objId=ii(),gt[_].contentsObjId=ii();for(_=1;_<=Yt;_++)Z.push(Jn({number:_,data:Ge[_],objId:gt[_].objId,contentsObjId:gt[_].contentsObjId,mediaBox:gt[_].mediaBox,cropBox:gt[_].cropBox,bleedBox:gt[_].bleedBox,trimBox:gt[_].trimBox,artBox:gt[_].artBox,userUnit:gt[_].userUnit,rootDictionaryObjId:ji,resourceDictionaryObjId:_n}));gi(ji,!0),K("<</Type /Pages");var he="/Kids [";for(O=0;O<Yt;O++)he+=Z[O]+" 0 R ";K(he+"]"),K("/Count "+Yt),K(">>"),K("endobj"),ln.publish("postPutPages")},Rr=function(_){ln.publish("putFont",{font:_,out:K,newObject:Pn,putStream:cr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Pn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Kc(_.postScriptName)),K("/Subtype /Type1"),typeof _.encoding=="string"&&K("/Encoding /"+_.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},se=function(_){_.objectNumber=Pn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[$(_.x),$(_.y),$(_.x+_.width),$(_.y+_.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var Z=_.pages[1].join(`
`);cr({data:Z,additionalKeyValues:O,objectId:_.objectNumber}),K("endobj")},ve=function(_,O){O||(O=21);var Z=Pn(),he=(function($e,st){var dt,Pt=[],Kt=1/(st-1);for(dt=0;dt<1;dt+=Kt)Pt.push(dt);if(Pt.push(1),$e[0].offset!=0){var gn={offset:0,color:$e[0].color};$e.unshift(gn)}if($e[$e.length-1].offset!=1){var Xn={offset:1,color:$e[$e.length-1].color};$e.push(Xn)}for(var ci="",Mn=0,Ci=0;Ci<Pt.length;Ci++){for(dt=Pt[Ci];dt>$e[Mn+1].offset;)Mn++;var vi=$e[Mn].offset,$i=(dt-vi)/($e[Mn+1].offset-vi),Xa=$e[Mn].color,ha=$e[Mn+1].color;ci+=ne(Math.round((1-$i)*Xa[0]+$i*ha[0]).toString(16))+ne(Math.round((1-$i)*Xa[1]+$i*ha[1]).toString(16))+ne(Math.round((1-$i)*Xa[2]+$i*ha[2]).toString(16))}return ci.trim()})(_.colors,O),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+O+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cr({data:he,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),K("endobj"),_.objectNumber=Pn(),K("<< /ShadingType "+_.type),K("/ColorSpace /DeviceRGB");var Pe="/Coords ["+$(parseFloat(_.coords[0]))+" "+$(parseFloat(_.coords[1]))+" ";_.type===2?Pe+=$(parseFloat(_.coords[2]))+" "+$(parseFloat(_.coords[3])):Pe+=$(parseFloat(_.coords[2]))+" "+$(parseFloat(_.coords[3]))+" "+$(parseFloat(_.coords[4]))+" "+$(parseFloat(_.coords[5])),K(Pe+="]"),_.matrix&&K("/Matrix ["+_.matrix.toString()+"]"),K("/Function "+Z+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},He=function(_,O){var Z=ii(),he=Pn();O.push({resourcesOid:Z,objectOid:he}),_.objectNumber=he;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map($).join(" ")+"]"}),ye.push({key:"XStep",value:$(_.xStep)}),ye.push({key:"YStep",value:$(_.yStep)}),ye.push({key:"Resources",value:Z+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),cr({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),K("endobj")},We=function(_){for(var O in _.objectNumber=Pn(),K("<<"),_)switch(O){case"opacity":K("/ca "+M(_[O]));break;case"stroke-opacity":K("/CA "+M(_[O]))}K(">>"),K("endobj")},mt=function(_){gi(_.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in K("/Font <<"),jt)jt.hasOwnProperty(O)&&(A===!1||A===!0&&k.hasOwnProperty(O))&&K("/"+O+" "+jt[O].objectNumber+" 0 R");K(">>")})(),(function(){if(Object.keys(St).length>0){for(var O in K("/Shading <<"),St)St.hasOwnProperty(O)&&St[O]instanceof Fl&&St[O].objectNumber>=0&&K("/"+O+" "+St[O].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),K(">>")}})(),(function(O){if(Object.keys(St).length>0){for(var Z in K("/Pattern <<"),St)St.hasOwnProperty(Z)&&St[Z]instanceof w.TilingPattern&&St[Z].objectNumber>=0&&St[Z].objectNumber<O&&K("/"+Z+" "+St[Z].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),K(">>")}})(_.objectOid),(function(){if(Object.keys(Tt).length>0){var O;for(O in K("/ExtGState <<"),Tt)Tt.hasOwnProperty(O)&&Tt[O].objectNumber>=0&&K("/"+O+" "+Tt[O].objectNumber+" 0 R");ln.publish("putGStateDict"),K(">>")}})(),(function(){for(var O in K("/XObject <<"),Bi)Bi.hasOwnProperty(O)&&Bi[O].objectNumber>=0&&K("/"+O+" "+Bi[O].objectNumber+" 0 R");ln.publish("putXobjectDict"),K(">>")})(),K(">>"),K("endobj")},tt=function(_){Dt[_.fontName]=Dt[_.fontName]||{},Dt[_.fontName][_.fontStyle]=_.id},pn=function(_,O,Z,he,ye){var Pe={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:_,fontName:O,fontStyle:Z,encoding:he,isStandardFont:ye||!1,metadata:{}};return ln.publish("addFont",{font:Pe,instance:this}),jt[Pe.id]=Pe,tt(Pe),Pe.id},ht=w.__private__.pdfEscape=w.pdfEscape=function(_,O){return(function(Z,he){var ye,Pe,$e,st,dt,Pt,Kt,gn,Xn;if($e=(he=he||{}).sourceEncoding||"Unicode",dt=he.outputEncoding,(he.autoencode||dt)&&jt[ut].metadata&&jt[ut].metadata[$e]&&jt[ut].metadata[$e].encoding&&(st=jt[ut].metadata[$e].encoding,!dt&&jt[ut].encoding&&(dt=jt[ut].encoding),!dt&&st.codePages&&(dt=st.codePages[0]),typeof dt=="string"&&(dt=st[dt]),dt)){for(Kt=!1,Pt=[],ye=0,Pe=Z.length;ye<Pe;ye++)(gn=dt[Z.charCodeAt(ye)])?Pt.push(String.fromCharCode(gn)):Pt.push(Z[ye]),Pt[ye].charCodeAt(0)>>8&&(Kt=!0);Z=Pt.join("")}for(ye=Z.length;Kt===void 0&&ye!==0;)Z.charCodeAt(ye-1)>>8&&(Kt=!0),ye--;if(!Kt)return Z;for(Pt=he.noBOM?[]:[254,255],ye=0,Pe=Z.length;ye<Pe;ye++){if((Xn=(gn=Z.charCodeAt(ye))>>8)>>8)throw new Error("Character at position "+ye+" of string '"+Z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(Xn),Pt.push(gn-(Xn<<8))}return String.fromCharCode.apply(void 0,Pt)})(_,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ie=w.__private__.beginPage=function(_){Ge[++Yt]=[],gt[Yt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ei(Yt),rt(Ge[I])},Ze=function(_,O){var Z,he,ye;switch(n=O||n,typeof _=="string"&&(Z=N(_.toLowerCase()),Array.isArray(Z)&&(he=Z[0],ye=Z[1])),Array.isArray(_)&&(he=_[0]*It,ye=_[1]*It),isNaN(he)&&(he=o[0],ye=o[1]),(he>14400||ye>14400)&&(Yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),ye=Math.min(14400,ye)),o=[he,ye],n.substr(0,1)){case"l":ye>he&&(o=[ye,he]);break;case"p":he>ye&&(o=[ye,he])}Ie(o),Lt(Gs),K(Br),No!==0&&K(No+" J"),Mi!==0&&K(Mi+" j"),ln.publish("addPage",{pageNumber:Yt})},hr=function(_){_>0&&_<=Yt&&(Ge.splice(_,1),gt.splice(_,1),Yt--,I>Yt&&(I=Yt),this.setPage(I))},Ei=function(_){_>0&&_<=Yt&&(I=_)},Wt=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Ge.length-1},ja=function(_,O,Z){var he,ye=void 0;return Z=Z||{},_=_!==void 0?_:jt[ut].fontName,O=O!==void 0?O:jt[ut].fontStyle,he=_.toLowerCase(),Dt[he]!==void 0&&Dt[he][O]!==void 0?ye=Dt[he][O]:Dt[_]!==void 0&&Dt[_][O]!==void 0?ye=Dt[_][O]:Z.disableWarning===!1&&Yn.warn("Unable to look up font label for font '"+_+"', '"+O+"'. Refer to getFontList() for available fonts."),ye||Z.noFallback||(ye=Dt.times[O])==null&&(ye=Dt.times.normal),ye},Sr=w.__private__.putInfo=function(){var _=Pn(),O=function(he){return he};for(var Z in b!==null&&(O=ki.encryptor(_,0)),K("<<"),K("/Producer ("+ht(O("jsPDF "+_t.version))+")"),Zt)Zt.hasOwnProperty(Z)&&Zt[Z]&&K("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+ht(O(Zt[Z]))+")");K("/CreationDate ("+ht(O(we))+")"),K(">>"),K("endobj")},oa=w.__private__.putCatalog=function(_){var O=(_=_||{}).rootDictionaryObjId||ji;switch(Pn(),K("<<"),K("/Type /Catalog"),K("/Pages "+O+" 0 R"),xt||(xt="fullwidth"),xt){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+xt;Z.substr(Z.length-1)==="%"&&(xt=parseInt(xt)/100),typeof xt=="number"&&K("/OpenAction [3 0 R /XYZ null null "+M(xt)+"]")}switch(Ut||(Ut="continuous"),Ut){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}yt&&K("/PageMode /"+yt),ln.publish("putCatalog"),K(">>"),K("endobj")},la=w.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(ue+1)),K("/Root "+ue+" 0 R"),K("/Info "+(ue-1)+" 0 R"),b!==null&&K("/Encrypt "+ki.oid+" 0 R"),K("/ID [ <"+ee+"> <"+ee+"> ]"),K(">>")},xn=w.__private__.putHeader=function(){K("%PDF-"+j),K("%")},ll=w.__private__.putXRef=function(){var _="0000000000";K("xref"),K("0 "+(ue+1)),K("0000000000 65535 f ");for(var O=1;O<=ue;O++)typeof pe[O]=="function"?K((_+pe[O]()).slice(-10)+" 00000 n "):pe[O]!==void 0?K((_+pe[O]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ea=w.__private__.buildDocument=function(){var _;ue=0,je=0,ke=[],pe=[],Be=[],ji=ii(),_n=ii(),rt(ke),ln.publish("buildDocument"),xn(),ur(),(function(){ln.publish("putAdditionalObjects");for(var Z=0;Z<Be.length;Z++){var he=Be[Z];gi(he.objId,!0),K(he.content),K("endobj")}ln.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var Z in jt)jt.hasOwnProperty(Z)&&(A===!1||A===!0&&k.hasOwnProperty(Z))&&Rr(jt[Z])})(),(function(){var Z;for(Z in Tt)Tt.hasOwnProperty(Z)&&We(Tt[Z])})(),(function(){for(var Z in Bi)Bi.hasOwnProperty(Z)&&se(Bi[Z])})(),(function(Z){var he;for(he in St)St.hasOwnProperty(he)&&(St[he]instanceof Fl?ve(St[he]):St[he]instanceof Zc&&He(St[he],Z))})(_),ln.publish("putResources"),_.forEach(mt),mt({resourcesOid:_n,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),b!==null&&(ki.oid=Pn(),K("<<"),K("/Filter /Standard"),K("/V "+ki.v),K("/R "+ki.r),K("/U <"+ki.toHexString(ki.U)+">"),K("/O <"+ki.toHexString(ki.O)+">"),K("/P "+ki.P),K(">>"),K("endobj")),Sr(),oa();var O=je;return ll(),la(),K("startxref"),K(""+O),K("%%EOF"),rt(Ge[I]),ke.join(`
`)},xs=w.__private__.getBlob=function(_){return new Blob([Vt(_)],{type:"application/pdf"})},cl=w.output=w.__private__.output=(lr=function(_,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",_){case void 0:return Ea();case"save":w.save(O.filename);break;case"arraybuffer":return Vt(Ea());case"blob":return xs(Ea());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(xs(Ea()))||void 0;Yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",he=Ea();try{Z=Cg(he)}catch{Z=Cg(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+O.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ye=O.pdfObjectUrl,Pe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",st=$t.open();return st!==null&&st.document.write($e),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Pt=$t.open();if(Pt!==null){Pt.document.write(dt);var Kt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=O.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Kt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Xn=$t.open();if(Xn!==null&&(Xn.document.write(gn),Xn.document.title=O.filename),Xn||typeof safari>"u")return Xn;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",O);default:return null}},lr.foo=function(){try{return lr.apply(this,arguments)}catch(Z){var _=Z.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var O="Error in function "+_.split(`
`)[0].split("<")[0]+": "+Z.message;if(!$t.console)throw new Error(O);$t.console.error(O,Z),$t.alert&&alert(O)}},lr.foo.bar=lr,lr.foo),fr=function(_){return Array.isArray(Or)===!0&&Or.indexOf(_)>-1};switch(a){case"pt":It=1;break;case"mm":It=72/25.4;break;case"cm":It=72/2.54;break;case"in":It=72;break;case"px":It=fr("px_scaling")==1?.75:96/72;break;case"pc":case"em":It=12;break;case"ex":It=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);It=a}var ki=null;G(),ie();var mi=w.__private__.getPageInfo=w.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[_].objId,pageNumber:_,pageContext:gt[_]}},xo=w.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in gt)if(gt[O].objId===_)break;return mi(O)},Jl=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:gt[I].objId,pageNumber:I,pageContext:gt[I]}};w.addPage=function(){return Ze.apply(this,arguments),this},w.setPage=function(){return Ei.apply(this,arguments),rt.call(this,Ge[I]),this},w.insertPage=function(_){return this.addPage(),this.movePage(I,_),this},w.movePage=function(_,O){var Z,he;if(_>O){Z=Ge[_],he=gt[_];for(var ye=_;ye>O;ye--)Ge[ye]=Ge[ye-1],gt[ye]=gt[ye-1];Ge[O]=Z,gt[O]=he,this.setPage(O)}else if(_<O){Z=Ge[_],he=gt[_];for(var Pe=_;Pe<O;Pe++)Ge[Pe]=Ge[Pe+1],gt[Pe]=gt[Pe+1];Ge[O]=Z,gt[O]=he,this.setPage(O)}return this},w.deletePage=function(){return hr.apply(this,arguments),this},w.__private__.text=w.text=function(_,O,Z,he,ye){var Pe,$e,st,dt,Pt,Kt,gn,Xn,ci,Mn=(he=he||{}).scope||this;if(typeof _=="number"&&typeof O=="number"&&(typeof Z=="string"||Array.isArray(Z))){var Ci=Z;Z=O,O=_,_=Ci}if(arguments[3]instanceof bt==0?(st=arguments[4],dt=arguments[5],Bn(gn=arguments[3])==="object"&&gn!==null||(typeof st=="string"&&(dt=st,st=null),typeof gn=="string"&&(dt=gn,gn=null),typeof gn=="number"&&(st=gn,gn=null),he={flags:gn,angle:st,align:dt})):(Y("The transform parameter of text() with a Matrix value"),ci=ye),isNaN(O)||isNaN(Z)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Mn;var vi,$i="",Xa=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:$a,ha=Mn.internal.scaleFactor;function Qa(Sn){return Sn=Sn.split("	").join(Array(he.TabLen||9).join(" ")),ht(Sn,gn)}function yl(Sn){for(var mn,qn=Sn.concat(),hi=[],Ma=qn.length;Ma--;)typeof(mn=qn.shift())=="string"?hi.push(mn):Array.isArray(Sn)&&(mn.length===1||mn[1]===void 0&&mn[2]===void 0)?hi.push(mn[0]):hi.push([mn[0],mn[1],mn[2]]);return hi}function jo(Sn,mn){var qn;if(typeof Sn=="string")qn=mn(Sn)[0];else if(Array.isArray(Sn)){for(var hi,Ma,ga=Sn.concat(),Qs=[],_l=ga.length;_l--;)typeof(hi=ga.shift())=="string"?Qs.push(mn(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Ma=mn(hi[0],hi[1],hi[2]),Qs.push([Ma[0],Ma[1],Ma[2]]));qn=Qs}return qn}var Ta=!1,fa=!0;if(typeof _=="string")Ta=!0;else if(Array.isArray(_)){var Js=_.concat();$e=[];for(var Za,qi=Js.length;qi--;)(typeof(Za=Js.shift())!="string"||Array.isArray(Za)&&typeof Za[0]!="string")&&(fa=!1);Ta=fa}if(Ta===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Ns=ze/Mn.internal.scaleFactor,As=Ns*(Xa-1);switch(he.baseline){case"bottom":Z-=As;break;case"top":Z+=Ns-As;break;case"hanging":Z+=Ns-2*As;break;case"middle":Z+=Ns/2-As}if((Kt=he.maxWidth||0)>0&&(typeof _=="string"?_=Mn.splitTextToSize(_,Kt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Sn,mn){return Sn.concat(Mn.splitTextToSize(mn,Kt))},[]))),Pe={text:_,x:O,y:Z,options:he,mutex:{pdfEscape:ht,activeFontKey:ut,fonts:jt,activeFontSize:ze}},ln.publish("preProcessText",Pe),_=Pe.text,st=(he=Pe.options).angle,ci instanceof bt==0&&st&&typeof st=="number"){st*=Math.PI/180,he.rotationDirection===0&&(st=-st),U===D&&(st=-st);var Eo=Math.cos(st),La=Math.sin(st);ci=new bt(Eo,La,-La,Eo,0,0)}else st&&st instanceof bt&&(ci=st);U!==D||ci||(ci=Ir),(Pt=he.charSpace||zr)!==void 0&&($i+=$(ae(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xn=he.horizontalScale)!==void 0&&($i+=$(100*Xn)+` Tz
`),he.lang;var pr=-1,es=he.renderingMode!==void 0?he.renderingMode:he.stroke,ko=Mn.internal.getCurrentPageInfo().pageContext;switch(es){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var bl=ko.usedRenderingMode!==void 0?ko.usedRenderingMode:-1;pr!==-1?$i+=pr+` Tr
`:bl!==-1&&($i+=`0 Tr
`),pr!==-1&&(ko.usedRenderingMode=pr),dt=he.align||"left";var Pr,da=ze*Xa,ts=Mn.internal.pageSize.getWidth(),wl=jt[ut];Pt=he.charSpace||zr,Kt=he.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},he.flags);var pa=[],js=function(Sn){return Mn.getStringUnitWidth(Sn,{font:wl,charSpace:Pt,fontSize:ze,doKerning:!1})*ze/ha};if(Object.prototype.toString.call(_)==="[object Array]"){var Ar;$e=yl(_),dt!=="left"&&(Pr=$e.map(js));var gr,Oa=0;if(dt==="right"){O-=Pr[0],_=[],qi=$e.length;for(var Ra=0;Ra<qi;Ra++)Ra===0?(gr=Dr(O),Ar=Hi(Z)):(gr=ae(Oa-Pr[Ra]),Ar=-da),_.push([$e[Ra],gr,Ar]),Oa=Pr[Ra]}else if(dt==="center"){O-=Pr[0]/2,_=[],qi=$e.length;for(var ns=0;ns<qi;ns++)ns===0?(gr=Dr(O),Ar=Hi(Z)):(gr=ae((Oa-Pr[ns])/2),Ar=-da),_.push([$e[ns],gr,Ar]),Oa=Pr[ns]}else if(dt==="left"){_=[],qi=$e.length;for(var Co=0;Co<qi;Co++)_.push($e[Co])}else if(dt==="justify"&&wl.encoding==="Identity-H"){_=[],qi=$e.length,Kt=Kt!==0?Kt:ts;for(var To=0,ui=0;ui<qi;ui++)if(Ar=ui===0?Hi(Z):-da,gr=ui===0?Dr(O):To,ui<qi-1){var ac=ae((Kt-Pr[ui])/($e[ui].split(" ").length-1)),Da=$e[ui].split(" ");_.push([Da[0]+" ",gr,Ar]),To=0;for(var Ba=1;Ba<Da.length;Ba++){var Gi=(js(Da[Ba-1]+" "+Da[Ba])-js(Da[Ba]))*ha+ac;Ba==Da.length-1?_.push([Da[Ba],Gi,0]):_.push([Da[Ba]+" ",Gi,0]),To-=Gi}}else _.push([$e[ui],gr,Ar]);_.push(["",To,0])}else{if(dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],qi=$e.length,Kt=Kt!==0?Kt:ts,ui=0;ui<qi;ui++){Ar=ui===0?Hi(Z):-da,gr=ui===0?Dr(O):0;var is=$e[ui].split(" ").length-1,Lo=is>0?(Kt-Pr[ui])/is:0;ui<qi-1?pa.push($(ae(Lo))):pa.push(0),_.push([$e[ui],gr,Ar])}}}(typeof he.R2L=="boolean"?he.R2L:Nt)===!0&&(_=jo(_,function(Sn,mn,qn){return[Sn.split("").reverse().join(""),mn,qn]})),Pe={text:_,x:O,y:Z,options:he,mutex:{pdfEscape:ht,activeFontKey:ut,fonts:jt,activeFontSize:ze}},ln.publish("postProcessText",Pe),_=Pe.text,vi=Pe.mutex.isHex||!1;var Oo=jt[ut].encoding;Oo!=="WinAnsiEncoding"&&Oo!=="StandardEncoding"||(_=jo(_,function(Sn,mn,qn){return[Qa(Sn),mn,qn]})),$e=yl(_),_=[];for(var rs,as,Pa,Xs=Array.isArray($e[0])?1:0,Mr="",ss=function(Sn,mn,qn){var hi="";return qn instanceof bt?(qn=typeof he.angle=="number"?sa(qn,new bt(1,0,0,1,Sn,mn)):sa(new bt(1,0,0,1,Sn,mn),qn),U===D&&(qn=sa(new bt(1,0,0,-1,0,0),qn)),hi=qn.join(" ")+` Tm
`):hi=$(Sn)+" "+$(mn)+` Td
`,hi},er=0;er<$e.length;er++){switch(Mr="",Xs){case 1:Pa=(vi?"<":"(")+$e[er][0]+(vi?">":")"),rs=parseFloat($e[er][1]),as=parseFloat($e[er][2]);break;case 0:Pa=(vi?"<":"(")+$e[er]+(vi?">":")"),rs=Dr(O),as=Hi(Z)}pa!==void 0&&pa[er]!==void 0&&(Mr=pa[er]+` Tw
`),er===0?_.push(Mr+ss(rs,as,ci)+Pa):Xs===0?_.push(Mr+Pa):Xs===1&&_.push(Mr+ss(rs,as,ci)+Pa)}_=Xs===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var $r=`BT
/`;return $r+=ut+" "+ze+` Tf
`,$r+=$(ze*Xa)+` TL
`,$r+=ka+`
`,$r+=$i,$r+=_,K($r+="ET"),k[ut]=!0,Mn};var ul=w.__private__.clip=w.clip=function(_){return K(_==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return ul("evenodd")},w.__private__.discardPath=w.discardPath=function(){return K("n"),this};var dr=w.__private__.isValidStyle=function(_){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(O=!0),O};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(_){return dr(_)&&(m=_),this};var hl=w.__private__.getStyle=w.getStyle=function(_){var O=m;switch(_){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=_}return O},fl=w.close=function(){return K("h"),this};w.stroke=function(){return K("S"),this},w.fill=function(_){return ca("f",_),this},w.fillEvenOdd=function(_){return ca("f*",_),this},w.fillStroke=function(_){return ca("B",_),this},w.fillStrokeEvenOdd=function(_){return ca("B*",_),this};var ca=function(_,O){Bn(O)==="object"?Ql(O,_):K(_)},$s=function(_){_===null||U===D&&_===void 0||(_=hl(_),K(_))};function Xl(_,O,Z,he,ye){var Pe=new Zc(O||this.boundingBox,Z||this.xStep,he||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var $e=_+"$$"+this.cloneIndex+++"$$";return or($e,Pe),Pe}var Ql=function(_,O){var Z=Ln[_.key],he=St[Z];if(he instanceof Fl)K("q"),K(dl(O)),he.gState&&w.setGState(he.gState),K(_.matrix.toString()+" cm"),K("/"+Z+" sh"),K("Q");else if(he instanceof Zc){var ye=new bt(1,0,0,-1,0,Ja());_.matrix&&(ye=ye.multiply(_.matrix||Ir),Z=Xl.call(he,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),K("q"),K("/Pattern cs"),K("/"+Z+" scn"),he.gState&&w.setGState(he.gState),K(O),K("Q")}},dl=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pl=w.moveTo=function(_,O){return K($(ae(_))+" "+$(re(O))+" m"),this},Zl=w.lineTo=function(_,O){return K($(ae(_))+" "+$(re(O))+" l"),this},Nr=w.curveTo=function(_,O,Z,he,ye,Pe){return K([$(ae(_)),$(re(O)),$(ae(Z)),$(re(he)),$(ae(ye)),$(re(Pe)),"c"].join(" ")),this};w.__private__.line=w.line=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!dr(ye))throw new Error("Invalid arguments passed to jsPDF.line");return U===B?this.lines([[Z-_,he-O]],_,O,[1,1],ye||"S"):this.lines([[Z-_,he-O]],_,O,[1,1]).stroke()},w.__private__.lines=w.lines=function(_,O,Z,he,ye,Pe){var $e,st,dt,Pt,Kt,gn,Xn,ci,Mn,Ci,vi,$i;if(typeof _=="number"&&($i=Z,Z=O,O=_,_=$i),he=he||[1,1],Pe=Pe||!1,isNaN(O)||isNaN(Z)||!Array.isArray(_)||!Array.isArray(he)||!dr(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pl(O,Z),$e=he[0],st=he[1],Pt=_.length,Ci=O,vi=Z,dt=0;dt<Pt;dt++)(Kt=_[dt]).length===2?(Ci=Kt[0]*$e+Ci,vi=Kt[1]*st+vi,Zl(Ci,vi)):(gn=Kt[0]*$e+Ci,Xn=Kt[1]*st+vi,ci=Kt[2]*$e+Ci,Mn=Kt[3]*st+vi,Ci=Kt[4]*$e+Ci,vi=Kt[5]*st+vi,Nr(gn,Xn,ci,Mn,Ci,vi));return Pe&&fl(),$s(ye),this},w.path=function(_){for(var O=0;O<_.length;O++){var Z=_[O],he=Z.c;switch(Z.op){case"m":pl(he[0],he[1]);break;case"l":Zl(he[0],he[1]);break;case"c":Nr.apply(this,he);break;case"h":fl()}}return this},w.__private__.rect=w.rect=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!dr(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return U===B&&(he=-he),K([$(ae(_)),$(re(O)),$(ae(Z)),$(ae(he)),"re"].join(" ")),$s(ye),this},w.__private__.triangle=w.triangle=function(_,O,Z,he,ye,Pe,$e){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||isNaN(ye)||isNaN(Pe)||!dr($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-_,he-O],[ye-Z,Pe-he],[_-ye,O-Pe]],_,O,[1,1],$e,!0),this},w.__private__.roundedRect=w.roundedRect=function(_,O,Z,he,ye,Pe,$e){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||isNaN(ye)||isNaN(Pe)||!dr($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*Z),Pe=Math.min(Pe,.5*he),this.lines([[Z-2*ye,0],[ye*st,0,ye,Pe-Pe*st,ye,Pe],[0,he-2*Pe],[0,Pe*st,-ye*st,Pe,-ye,Pe],[2*ye-Z,0],[-ye*st,0,-ye,-Pe*st,-ye,-Pe],[0,2*Pe-he],[0,-Pe*st,ye*st,-Pe,ye,-Pe]],_+ye,O,[1,1],$e,!0),this},w.__private__.ellipse=w.ellipse=function(_,O,Z,he,ye){if(isNaN(_)||isNaN(O)||isNaN(Z)||isNaN(he)||!dr(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*Z,$e=4/3*(Math.SQRT2-1)*he;return pl(_+Z,O),Nr(_+Z,O-$e,_+Pe,O-he,_,O-he),Nr(_-Pe,O-he,_-Z,O-$e,_-Z,O),Nr(_-Z,O+$e,_-Pe,O+he,_,O+he),Nr(_+Pe,O+he,_+Z,O+$e,_+Z,O),$s(ye),this},w.__private__.circle=w.circle=function(_,O,Z,he){if(isNaN(_)||isNaN(O)||isNaN(Z)||!dr(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,O,Z,Z,he)},w.setFont=function(_,O,Z){return Z&&(O=te(O,Z)),ut=ja(_,O,{disableWarning:!1}),this};var ua=w.__private__.getFont=w.getFont=function(){return jt[ja.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var _,O,Z={};for(_ in Dt)if(Dt.hasOwnProperty(_))for(O in Z[_]=[],Dt[_])Dt[_].hasOwnProperty(O)&&Z[_].push(O);return Z},w.addFont=function(_,O,Z,he,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(Z=te(Z,he)),pn.call(this,_,O,Z,ye=ye||"Identity-H")};var $a,Gs=r.lineWidth||.200025,Ss=w.__private__.getLineWidth=w.getLineWidth=function(){return Gs},Lt=w.__private__.setLineWidth=w.setLineWidth=function(_){return Gs=_,K($(ae(_))+" w"),this};w.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(_,O){if(_=_||[],O=O||0,isNaN(O)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(Z){return $(ae(Z))}).join(" "),O=$(ae(O)),K("["+_+"] "+O+" d"),this};var ec=w.__private__.getLineHeight=w.getLineHeight=function(){return ze*$a};w.__private__.getLineHeight=w.getLineHeight=function(){return ze*$a};var gl=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&($a=_),this},tc=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return $a};gl(r.lineHeight);var Dr=w.__private__.getHorizontalCoordinate=function(_){return ae(_)},Hi=w.__private__.getVerticalCoordinate=function(_){return U===D?_:gt[I].mediaBox.topRightY-gt[I].mediaBox.bottomLeftY-ae(_)},ml=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(_){return $(Dr(_))},Vs=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(_){return $(Hi(_))},Br=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return Hn(Br)},w.__private__.setStrokeColor=w.setDrawColor=function(_,O,Z,he){return Br=Pi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"draw",precision:2}),K(Br),this};var Ys=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return Hn(Ys)},w.__private__.setFillColor=w.setFillColor=function(_,O,Z,he){return Ys=Pi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"fill",precision:2}),K(Ys),this};var ka=r.textColor||"0 g",nc=w.__private__.getTextColor=w.getTextColor=function(){return Hn(ka)};w.__private__.setTextColor=w.setTextColor=function(_,O,Z,he){return ka=Pi({ch1:_,ch2:O,ch3:Z,ch4:he,pdfColorType:"text",precision:3}),this};var zr=r.charSpace,So=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(zr||0)};w.__private__.setCharSpace=w.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zr=_,this};var No=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(_){var O=w.CapJoinStyles[_];if(O===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return No=O,K(O+" J"),this};var Mi=0;w.__private__.setLineJoin=w.setLineJoin=function(_){var O=w.CapJoinStyles[_];if(O===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mi=O,K(O+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K($(ae(_))+" M"),this},w.GState=Af,w.setGState=function(_){(_=typeof _=="string"?Tt[Bt[_]]:Ca(null,_)).equals(En)||(K("/"+_.id+" gs"),En=_)};var Ca=function(_,O){if(!_||!Bt[_]){var Z=!1;for(var he in Tt)if(Tt.hasOwnProperty(he)&&Tt[he].equals(O)){Z=!0;break}if(Z)O=Tt[he];else{var ye="GS"+(Object.keys(Tt).length+1).toString(10);Tt[ye]=O,O.id=ye}return _&&(Bt[_]=O.id),ln.publish("addGState",O),O}};w.addGState=function(_,O){return Ca(_,O),this},w.saveGraphicsState=function(){return K("q"),an.push({key:ut,size:ze,color:ka}),this},w.restoreGraphicsState=function(){K("Q");var _=an.pop();return ut=_.key,ze=_.size,ka=_.color,En=null,this},w.setCurrentTransformationMatrix=function(_){return K(_.toString()+" cm"),this},w.comment=function(_){return K("#"+_),this};var Hr=function(_,O){var Z=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Pe){isNaN(Pe)||(Z=parseFloat(Pe))}});var he=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Pe){isNaN(Pe)||(he=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},Ga=function(_,O,Z,he){Hr.call(this,_,O),this.type="rect";var ye=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var Pe=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function($e){isNaN($e)||(Pe=parseFloat($e))}}),this},Ao=function(){this.page=Yt,this.currentPage=I,this.pages=Ge.slice(0),this.pagesContext=gt.slice(0),this.x=ft,this.y=Kn,this.matrix=tn,this.width=Ya(I),this.height=vl(I),this.outputDestination=Xe,this.id="",this.objectNumber=-1};Ao.prototype.restore=function(){Yt=this.page,I=this.currentPage,gt=this.pagesContext,Ge=this.pages,ft=this.x,Kn=this.y,tn=this.matrix,Ks(I,this.width),Wa(I,this.height),Xe=this.outputDestination};var Ws=function(_,O,Z,he,ye){xr.push(new Ao),Yt=I=0,Ge=[],ft=_,Kn=O,tn=ye,Ie([Z,he])};for(var Va in w.beginFormObject=function(_,O,Z,he,ye){return Ws(_,O,Z,he,ye),this},w.endFormObject=function(_){return(function(O){if(Fr[O])xr.pop().restore();else{var Z=new Ao,he="Xo"+(Object.keys(Bi).length+1).toString(10);Z.id=he,Fr[O]=he,Bi[he]=Z,ln.publish("addFormObject",Z),xr.pop().restore()}})(_),this},w.doFormObject=function(_,O){var Z=Bi[Fr[_]];return K("q"),K(O.toString()+" cm"),K("/"+Z.id+" Do"),K("Q"),this},w.getFormObject=function(_){var O=Bi[Fr[_]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},w.save=function(_,O){return _=_||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(ql(xs(Ea()),_),typeof ql.unload=="function"&&$t.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(Z,he){try{var ye=ql(xs(Ea()),_);typeof ql.unload=="function"&&$t.setTimeout&&setTimeout(ql.unload,911),Z(ye)}catch(Pe){he(Pe.message)}})},_t.API)_t.API.hasOwnProperty(Va)&&(Va==="events"&&_t.API.events.length?(function(_,O){var Z,he,ye;for(ye=O.length-1;ye!==-1;ye--)Z=O[ye][0],he=O[ye][1],_.subscribe.apply(_,[Z].concat(typeof he=="function"?[he]:he))})(ln,_t.API.events):w[Va]=_t.API[Va]);function Ya(_){return gt[_].mediaBox.topRightX-gt[_].mediaBox.bottomLeftX}function Ks(_,O){gt[_].mediaBox.topRightX=O+gt[_].mediaBox.bottomLeftX}function vl(_){return gt[_].mediaBox.topRightY-gt[_].mediaBox.bottomLeftY}function Wa(_,O){gt[_].mediaBox.topRightY=O+gt[_].mediaBox.bottomLeftY}var Ka=w.getPageWidth=function(_){return Ya(_=_||I)/It},ic=w.setPageWidth=function(_,O){Ks(_,O*It)},Ja=w.getPageHeight=function(_){return vl(_=_||I)/It},rc=w.setPageHeight=function(_,O){Wa(_,O*It)};return w.internal={pdfEscape:ht,getStyle:hl,getFont:ua,getFontSize:et,getCharSpace:So,getTextColor:nc,getLineHeight:ec,getLineHeightFactor:tc,getLineWidth:Ss,write:Ke,getHorizontalCoordinate:Dr,getVerticalCoordinate:Hi,getCoordinateString:ml,getVerticalCoordinateString:Vs,collections:{},newObject:Pn,newAdditionalObject:Aa,newObjectDeferred:ii,newObjectDeferredBegin:gi,getFilters:Zi,putStream:cr,events:ln,scaleFactor:It,pageSize:{getWidth:function(){return Ka(I)},setWidth:function(_){ic(I,_)},getHeight:function(){return Ja(I)},setHeight:function(_){rc(I,_)}},encryptionOptions:b,encryption:ki,getEncryptor:function(_){return b!==null?ki.encryptor(_,0):function(O){return O}},output:cl,getNumberOfPages:Wt,get pages(){return Ge},out:K,f2:M,f3:H,getPageInfo:mi,getPageInfoByObjId:xo,getCurrentPageInfo:Jl,getPDFVersion:S,Point:Hr,Rectangle:Ga,Matrix:bt,hasHotfix:fr},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Ka(I)},set:function(_){ic(I,_)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ja(I)},set:function(_){rc(I,_)},enumerable:!0,configurable:!0}),(function(_){for(var O=0,Z=vt.length;O<Z;O++){var he=pn.call(this,_[O][0],_[O][1],_[O][2],vt[O][3],!0);A===!1&&(k[he]=!0);var ye=_[O][0].split("-");tt({id:he,fontName:ye[0],fontStyle:ye[1]||""})}ln.publish("addFonts",{fonts:jt,dictionary:Dt})}).call(w,vt),ut="F1",Ze(o,n),ln.publish("initialized"),w}Wc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Wc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wc.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},Wc.prototype.processOwnerPassword=function(r,e){return M0(P0(e).substr(0,5),r)},Wc.prototype.encryptor=function(r,e){var n=P0(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return M0(n,a)}},Af.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||Bn(r)!==Bn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;a++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},_t.API={events:[]},_t.version="3.0.4";var Ni=_t.API,sp=1,Kl=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(r){return r.toFixed(2)},il=function(r){return r.toFixed(5)};Ni.__acroform__={};var aa=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Rg=function(r){return r*sp},Is=function(r){var e=new x5,n=ct.internal.getHeight(r)||0,a=ct.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Qt(a)),Number(Qt(n))],e},Pw=Ni.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},Mw=Ni.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},qw=Ni.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Oi=Ni.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qw(r,e-1)},Ri=Ni.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Pw(r,e-1)},Di=Ni.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Mw(r,e-1)},Uw=Ni.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,o=r[0],l=r[1],u=r[2],h=r[3],d={};return d.lowerLeft_X=n(o)||0,d.lowerLeft_Y=a(l+h)||0,d.upperRight_X=n(o+u)||0,d.upperRight_Y=a(l)||0,[Number(Qt(d.lowerLeft_X)),Number(Qt(d.lowerLeft_Y)),Number(Qt(d.upperRight_X)),Number(Qt(d.upperRight_Y))]},Fw=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,a=q0(r,n),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+Qt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Is(r);return l.scope=r.scope,l.stream=e.join(`
`),l}},q0=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(M){return M.split(`
`)}):o.map(function(M){return[M]});var l=n,u=ct.internal.getHeight(r)||0;u=u<0?-u:u;var h=ct.internal.getWidth(r)||0;h=h<0?-h:h;var d=function(M,H,ae){if(M+1<o.length){var re=H+" "+o[M+1][0];return cf(re,r,ae).width<=h-4}return!1};l++;e:for(;l>0;){e="",l--;var m,b,A=cf("3",r,l).height,k=r.multiline?u-l:(u-A)/2,w=k+=2,j=0,S=0,T=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+cf(e,r,l=12).width+", FieldWidth:"+h+`
`;break}for(var N="",B=0,D=0;D<o.length;D++)if(o.hasOwnProperty(D)){var U=!1;if(o[D].length!==1&&T!==o[D].length-1){if((A+2)*(B+2)+2>u)continue e;N+=o[D][T],U=!0,S=D,D--}else{N=(N+=o[D][T]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var le=parseInt(D),ce=d(le,N,l),te=D>=o.length-1;if(ce&&!te){N+=" ",T=0;continue}if(ce||te){if(te)S=le;else if(r.multiline&&(A+2)*(B+2)+2>u)continue e}else{if(!r.multiline||(A+2)*(B+2)+2>u)continue e;S=le}}for(var $="",Y=j;Y<=S;Y++){var ge=o[Y];if(r.multiline){if(Y===S){$+=ge[T]+" ",T=(T+1)%ge.length;continue}if(Y===j){$+=ge[ge.length-1]+" ";continue}}$+=ge[0]+" "}switch($=$.substr($.length-1)==" "?$.substr(0,$.length-1):$,b=cf($,r,l).width,r.textAlign){case"right":m=h-b-2;break;case"center":m=(h-b)/2;break;default:m=2}e+=Qt(m)+" "+Qt(w)+` Td
`,e+="("+Kl($)+`) Tj
`,e+=-Qt(m)+` 0 Td
`,w=-(l+2),b=0,j=U?S:S+1,B++,N=""}break}return a.text=e,a.fontSize=l,a},cf=function(r,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},Iw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zw=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},Hw=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ws.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Iw)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sp=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new S5,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];l.objId=void 0,l.hasAnnotation&&zw(l,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(a,o){var l=!a;for(var u in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(u)){var h=a[u],d=[],m=h.Rect;if(h.Rect&&(h.Rect=Uw(h.Rect,o)),o.internal.newObjectDeferredBegin(h.objId,!0),h.DA=ct.createDefaultAppearanceStream(h),Bn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(d=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=Fw(h);d.push({key:"AP",value:"<</N "+b+">>"}),o.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var A="";for(var k in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(k)){var w=h.appearanceStreamContent[k];if(A+="/"+k+" ",A+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var j=w[u];typeof j=="function"&&(j=j.call(o,h)),A+="/"+u+" "+j+" ",o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j)}}else typeof(j=w)=="function"&&(j=j.call(o,h)),A+="/"+u+" "+j,o.internal.acroformPlugin.xForms.indexOf(j)>=0||o.internal.acroformPlugin.xForms.push(j);A+=">>"}d.push({key:"AP",value:`<<
`+A+">>"})}o.internal.putStream({additionalKeyValues:d,objectId:h.objId}),o.internal.out("endobj")}l&&(function(S,T){for(var N in S)if(S.hasOwnProperty(N)){var B=N,D=S[N];T.internal.newObjectDeferredBegin(D.objId,!0),Bn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete S[B]}})(o.internal.acroformPlugin.xForms,o)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},_5=Ni.__acroform__.arrayToPdfArray=function(r,e,n){var a=function(u){return u};if(Array.isArray(r)){for(var o="[",l=0;l<r.length;l++)switch(l!==0&&(o+=" "),Bn(r[l])){case"boolean":case"number":case"object":o+=r[l].toString();break;case"string":r[l].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),o+="("+Kl(a(r[l].toString()))+")"):o+=r[l].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g0=function(r,e,n){var a=function(o){return o};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+Kl(a(r))+")"},zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zs.prototype.toString=function(){return this.objId+" 0 R"},zs.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},zs.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],o=this[a];o&&(Array.isArray(o)?r.push({key:a,value:_5(o,this.objId,this.scope)}):o instanceof zs?(o.scope=this.scope,r.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:a,value:o}))}return r};var x5=function(){zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};aa(x5,zs);var S5=function(){zs.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Kl(n(r))+")"}},set:function(n){r=n}})};aa(S5,zs);var ws=function r(){zs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oi(e,3)},set:function(N){N?this.F=Ri(e,3):this.F=Di(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof jf)return;l="FieldObject"+r.FieldNum++}var N=function(B){return B};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Kl(N(l))+")"},set:function(N){l=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(N){l=N}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/sp:m},set:function(N){m=N}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){b=N}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof jf||this instanceof $l))return g0(A,this.objId,this.scope)},set:function(N){N=N.toString(),A=N}});var k=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof sr==0?g0(k,this.objId,this.scope):k},set:function(N){N=N.toString(),k=this instanceof sr==0?N.substr(0,1)==="("?Fc(N.substr(1,N.length-2)):Fc(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr==1?Fc(k.substr(1,k.length-1)):k},set:function(N){N=N.toString(),k=this instanceof sr==1?"/"+N:N}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof sr==0?g0(w,this.objId,this.scope):w},set:function(N){N=N.toString(),w=this instanceof sr==0?N.substr(0,1)==="("?Fc(N.substr(1,N.length-2)):Fc(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr==1?Fc(w.substr(1,w.length-1)):w},set:function(N){N=N.toString(),w=this instanceof sr==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(N){N=!!N,S=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(N){j=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,1)},set:function(N){N?this.Ff=Ri(this.Ff,1):this.Ff=Di(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,2)},set:function(N){N?this.Ff=Ri(this.Ff,2):this.Ff=Di(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,3)},set:function(N){N?this.Ff=Ri(this.Ff,3):this.Ff=Di(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');T=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(T){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};aa(ws,zs);var tu=function(){ws.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _5(e,this.objId,this.scope)},set:function(n){var a,o;o=[],typeof(a=n)=="string"&&(o=(function(l,u,h){h||(h=1);for(var d,m=[];d=u.exec(l);)m.push(d[h]);return m})(a,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,18)},set:function(n){n?this.Ff=Ri(this.Ff,18):this.Ff=Di(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ri(this.Ff,19):this.Ff=Di(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,20)},set:function(n){n?(this.Ff=Ri(this.Ff,20),e.sort()):this.Ff=Di(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,22)},set:function(n){n?this.Ff=Ri(this.Ff,22):this.Ff=Di(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(n){n?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,27)},set:function(n){n?this.Ff=Ri(this.Ff,27):this.Ff=Di(this.Ff,27)}}),this.hasAppearanceStream=!1};aa(tu,ws);var nu=function(){tu.call(this),this.fontName="helvetica",this.combo=!1};aa(nu,tu);var iu=function(){nu.call(this),this.combo=!0};aa(iu,nu);var yf=function(){iu.call(this),this.edit=!0};aa(yf,iu);var sr=function(){ws.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,15)},set:function(n){n?this.Ff=Ri(this.Ff,15):this.Ff=Di(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,16)},set:function(n){n?this.Ff=Ri(this.Ff,16):this.Ff=Di(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,17)},set:function(n){n?this.Ff=Ri(this.Ff,17):this.Ff=Di(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(n){n?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,o=[];for(a in o.push("<<"),e)o.push("/"+a+" ("+Kl(n(e[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Bn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};aa(sr,ws);var bf=function(){sr.call(this),this.pushButton=!0};aa(bf,sr);var ru=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};aa(ru,sr);var jf=function(){var r,e;ws.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(h){return h};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,u=[];for(l in u.push("<<"),a)u.push("/"+l+" ("+Kl(o(a[l]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Bn(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};aa(jf,ws),ru.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},ru.prototype.createOption=function(r){var e=new jf;return e.Parent=this,e.optionName=r,this.Kids.push(e),$w.call(this.scope,e),e};var wf=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};aa(wf,sr);var $l=function(){ws.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,13)},set:function(e){e?this.Ff=Ri(this.Ff,13):this.Ff=Di(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,21)},set:function(e){e?this.Ff=Ri(this.Ff,21):this.Ff=Di(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,23)},set:function(e){e?this.Ff=Ri(this.Ff,23):this.Ff=Di(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,24)},set:function(e){e?this.Ff=Ri(this.Ff,24):this.Ff=Di(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,25)},set:function(e){e?this.Ff=Ri(this.Ff,25):this.Ff=Di(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,26)},set:function(e){e?this.Ff=Ri(this.Ff,26):this.Ff=Di(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};aa($l,ws);var _f=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oi(this.Ff,14)},set:function(r){r?this.Ff=Ri(this.Ff,14):this.Ff=Di(this.Ff,14)}}),this.password=!0};aa(_f,$l);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),l=q0(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+Qt(ct.internal.getWidth(r))+" "+Qt(ct.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Qt(l.fontSize)+" Tf "+o),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=[],l=ct.internal.getHeight(r),u=ct.internal.getWidth(r),h=q0(r,r.caption);return o.push("1 g"),o.push("0 0 "+Qt(u)+" "+Qt(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Qt(u-1)+" "+Qt(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Qt(h.fontSize)+" Tf "+a),o.push(h.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(ct.internal.getWidth(r))+" "+Qt(ct.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=ct.RadioButton.Circle.YesNormal,e.D[r]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=ct.internal.Bezier_C,l=Number((a*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+il(ct.internal.getWidth(r)/2)+" "+il(ct.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*ct.internal.Bezier_C).toFixed(5)),u=Number((a*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+il(ct.internal.getWidth(r)/2)+" "+il(ct.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+il(ct.internal.getWidth(r)/2)+" "+il(ct.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+u+" "+u+" "+a+" 0 "+a+" c"),n.push("-"+u+" "+a+" -"+a+" "+u+" -"+a+" 0 c"),n.push("-"+a+" -"+u+" -"+u+" -"+a+" 0 -"+a+" c"),n.push(u+" -"+a+" "+a+" -"+u+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ct.internal.getWidth(r)<=ct.internal.getHeight(r)?ct.internal.getWidth(r)/4:ct.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+il(ct.internal.getWidth(r)/2)+" "+il(ct.internal.getHeight(r)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=ct.RadioButton.Cross.YesNormal,e.D[r]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Is(r);e.scope=r.scope;var n=[],a=ct.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+Qt(ct.internal.getWidth(r)-2)+" "+Qt(ct.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(a.x1.x)+" "+Qt(a.x1.y)+" m"),n.push(Qt(a.x2.x)+" "+Qt(a.x2.y)+" l"),n.push(Qt(a.x4.x)+" "+Qt(a.x4.y)+" m"),n.push(Qt(a.x3.x)+" "+Qt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=ct.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+Qt(ct.internal.getWidth(r))+" "+Qt(ct.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Qt(ct.internal.getWidth(r)-2)+" "+Qt(ct.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),a.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),a.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),a.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Is(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(ct.internal.getWidth(r))+" "+Qt(ct.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};ct.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=ct.internal.getWidth(r),n=ct.internal.getHeight(r),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},ct.internal.getWidth=function(r){var e=0;return Bn(r)==="object"&&(e=Rg(r.Rect[2])),e},ct.internal.getHeight=function(r){var e=0;return Bn(r)==="object"&&(e=Rg(r.Rect[3])),e};var $w=Ni.addField=function(r){if(Hw(this,r),!(r instanceof ws))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=tu,Ni.AcroFormListBox=nu,Ni.AcroFormComboBox=iu,Ni.AcroFormEditBox=yf,Ni.AcroFormButton=sr,Ni.AcroFormPushButton=bf,Ni.AcroFormRadioButton=ru,Ni.AcroFormCheckBox=wf,Ni.AcroFormTextField=$l,Ni.AcroFormPasswordField=_f,Ni.AcroFormAppearance=ct,Ni.AcroForm={ChoiceField:tu,ListBox:nu,ComboBox:iu,EditBox:yf,Button:sr,PushButton:bf,RadioButton:ru,CheckBox:wf,TextField:$l,PasswordField:_f,Appearance:ct},_t.AcroForm={ChoiceField:tu,ListBox:nu,ComboBox:iu,EditBox:yf,Button:sr,PushButton:bf,RadioButton:ru,CheckBox:wf,TextField:$l,PasswordField:_f,Appearance:ct};_t.AcroForm;function N5(r){return r.reduce(function(e,n,a){return e[n]=a,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=r.__addimage__.getImageFileTypeByImageData=function(M,H){var ae,re,we,ee,X,ie=n;if((H=H||n)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(ce(M))for(X in a)for(we=a[X],ae=0;ae<we.length;ae+=1){for(ee=!0,re=0;re<we[ae].length;re+=1)if(we[ae][re]!==void 0&&we[ae][re]!==M[re]){ee=!1;break}if(ee===!0){ie=X;break}}else for(X in a)for(we=a[X],ae=0;ae<we.length;ae+=1){for(ee=!0,re=0;re<we[ae].length;re+=1)if(we[ae][re]!==void 0&&we[ae][re]!==M.charCodeAt(re)){ee=!1;break}if(ee===!0){ie=X;break}}return ie===n&&H!==n&&(ie=H),ie},l=function M(H){for(var ae=this.internal.write,re=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:H.width}),ee.push({key:"Height",value:H.height}),H.colorSpace===N.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===N.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var X="",ie=0,xe=H.transparency.length;ie<xe;ie++)X+=H.transparency[ie]+" "+H.transparency[ie]+" ";ee.push({key:"Mask",value:"["+X+"]"})}H.sMask!==void 0&&ee.push({key:"SMask",value:H.objectId+1+" 0 R"});var Le=H.filter!==void 0?["/"+H.filter]:void 0;if(re({data:H.data,additionalKeyValues:ee,alreadyAppliedFilters:Le,objectId:H.objectId}),ae("endobj"),"sMask"in H&&H.sMask!==void 0){var G,L=(G=H.sMaskBitsPerComponent)!==null&&G!==void 0?G:H.bitsPerComponent,I={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:H.sMask};"filter"in H&&(I.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(H.width),I.filter=H.filter),M.call(this,I)}if(H.colorSpace===N.INDEXED){var W=this.internal.newObject();re({data:$(new Uint8Array(H.palette)),objectId:W}),ae("endobj")}},u=function(){var M=this.internal.collections[e+"images"];for(var H in M)l.call(this,M[H])},h=function(){var M,H=this.internal.collections[e+"images"],ae=this.internal.write;for(var re in H)ae("/I"+(M=H[re]).index,M.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var M=this.internal.collections[e+"images"];return d.call(this),M},b=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(M){return typeof r["process"+M.toUpperCase()]=="function"},k=function(M){return Bn(M)==="object"&&M.nodeType===1},w=function(M,H){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var ae=""+M.getAttribute("src");if(ae.indexOf("data:image/")===0)return vf(unescape(ae).split("base64,").pop());var re=r.loadFile(ae,!0);if(re!==void 0)return re}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var we;switch(H){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return vf(M.toDataURL(we,1).split("base64,").pop())}},j=function(M){var H=this.internal.collections[e+"images"];if(H){for(var ae in H)if(M===H[ae].alias)return H[ae]}},S=function(M,H,ae){return M||H||(M=-96,H=-96),M<0&&(M=-1*ae.width*72/M/this.internal.scaleFactor),H<0&&(H=-1*ae.height*72/H/this.internal.scaleFactor),M===0&&(M=H*ae.width/ae.height),H===0&&(H=M*ae.height/ae.width),[M,H]},T=function(M,H,ae,re,we,ee){var X=S.call(this,ae,re,we),ie=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Le=m.call(this);if(ae=X[0],re=X[1],Le[we.index]=we,ee){ee*=Math.PI/180;var G=Math.cos(ee),L=Math.sin(ee),I=function(ne){return ne.toFixed(4)},W=[I(G),I(L),I(-1*L),I(G),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,ie(M),xe(H+re),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([ie(ae),"0","0",ie(re),"0","0","cm"].join(" "))):this.internal.write([ie(ae),"0","0",ie(re),ie(M),xe(H+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},N=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(M){var H,ae,re=0;if(typeof M=="string")for(ae=M.length,H=0;H<ae;H++)re=(re<<5)-re+M.charCodeAt(H),re|=0;else if(ce(M))for(ae=M.byteLength/2,H=0;H<ae;H++)re=(re<<5)-re+M[H],re|=0;return re},U=r.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var H=!0;return M.length===0&&(H=!1),M.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(H=!1),H},le=r.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var H=M.indexOf(",");return H<0?null:M.substring(0,H).trim().endsWith("base64")?M.substring(H+1):null};r.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var ce=r.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},te=r.__addimage__.binaryStringToUint8Array=function(M){for(var H=M.length,ae=new Uint8Array(H),re=0;re<H;re++)ae[re]=M.charCodeAt(re);return ae},$=r.__addimage__.arrayBufferToBinaryString=function(M){for(var H="",ae=ce(M)?M:new Uint8Array(M),re=0;re<ae.length;re+=8192)H+=String.fromCharCode.apply(null,ae.subarray(re,re+8192));return H};r.addImage=function(){var M,H,ae,re,we,ee,X,ie,xe;if(typeof arguments[1]=="number"?(H=n,ae=arguments[1],re=arguments[2],we=arguments[3],ee=arguments[4],X=arguments[5],ie=arguments[6],xe=arguments[7]):(H=arguments[1],ae=arguments[2],re=arguments[3],we=arguments[4],ee=arguments[5],X=arguments[6],ie=arguments[7],xe=arguments[8]),Bn(M=arguments[0])==="object"&&!k(M)&&"imageData"in M){var Le=M;M=Le.imageData,H=Le.format||H||n,ae=Le.x||ae||0,re=Le.y||re||0,we=Le.w||Le.width||we,ee=Le.h||Le.height||ee,X=Le.alias||X,ie=Le.compression||ie,xe=Le.rotation||Le.angle||xe}var G=this.internal.getFilters();if(ie===void 0&&G.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(ae)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var L=Y.call(this,M,H,X,ie);return T.call(this,ae,re,we,ee,L,xe),this};var Y=function(M,H,ae,re){var we,ee,X;if(typeof M=="string"&&o(M)===n){M=unescape(M);var ie=ge(M,!1);(ie!==""||(ie=r.loadFile(M,!0))!==void 0)&&(M=ie)}if(k(M)&&(M=w(M,H)),H=o(M,H),!A(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((X=ae)==null||X.length===0)&&(ae=(function(xe){return typeof xe=="string"||ce(xe)?D(xe):ce(xe.data)?D(xe.data):null})(M)),(we=j.call(this,ae))||(M instanceof Uint8Array||H==="RGBA"||(ee=M,M=te(M)),we=this["process"+H.toUpperCase()](M,b.call(this),ae,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in r.image_compression?xe:B.NONE})(re),ee)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},ge=r.__addimage__.convertBase64ToBinaryString=function(M,H){H=typeof H!="boolean"||H;var ae,re="";if(typeof M=="string"){var we;ae=(we=le(M))!==null&&we!==void 0?we:M;try{re=vf(ae)}catch(ee){if(H)throw U(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};r.getImageProperties=function(M){var H,ae,re="";if(k(M)&&(M=w(M)),typeof M=="string"&&o(M)===n&&((re=ge(M,!1))===""&&(re=r.loadFile(M)||""),M=re),ae=o(M),!A(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(M instanceof Uint8Array||(M=te(M)),!(H=this["process"+ae.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ae,H}})(_t.API),(function(r){var e=function(n){if(n!==void 0&&n!="")return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var a,o,l,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),m=n.pageContext.annotations,b=!1,A=0;A<m.length&&!b;A++)switch((a=m[A]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var k=0;k<m.length;k++){a=m[k];var w=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(S.objId),B=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(a.bounds.x)+" "+h(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y)+"] ")+"/Contents ("+w(N(a.contents))+")",l+=" /Popup "+T.objId+" 0 R",l+=" /P "+d.objId+" 0 R",l+=" /T ("+w(N(B))+") >>",S.content=l;var D=S.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(a.bounds.x+30)+" "+h(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w+30)+" "+h(a.bounds.y)+"] ")+" /Parent "+D,a.open&&(l+=" /Open true"),l+=" >>",T.content=l,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":o="/Rect ["+u(a.bounds.x)+" "+h(a.bounds.y)+" "+u(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y+a.bounds.h)+"] ";var U=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+w(j(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+U+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var le=this.annotations._nameMap[a.options.name];a.options.pageNumber=le.page,a.options.top=le.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+w(j(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ce=h(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ce+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},r.link=function(n,a,o,l,u){var h=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:d(n),y:m(a),w:d(n+o),h:m(a+l)},options:u,type:"link"})},r.textWithLink=function(n,a,o,l){var u,h,d=this.getTextWidth(n),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var b=this.splitTextToSize(n,h).length;u=Math.ceil(m*b)}else h=d,u=m;return this.text(n,a,o,l),o+=.2*m,l.align==="center"&&(a-=d/2),l.align==="right"&&(a-=d),this.link(a,o-m,h,u,l),d},r.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(_t.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var l=r.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},h=r.__arabicParser__.isArabicEndLetter=function(S){return u(S)&&l(S)&&e[S.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(S){return u(S)&&o.indexOf(S.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return u(S)&&l(S)&&e[S.charCodeAt(0)].length>=1};var m=r.__arabicParser__.arabicLetterHasFinalForm=function(S){return u(S)&&l(S)&&e[S.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(S){return u(S)&&l(S)&&e[S.charCodeAt(0)].length>=3};var b=r.__arabicParser__.arabicLetterHasMedialForm=function(S){return u(S)&&l(S)&&e[S.charCodeAt(0)].length==4},A=r.__arabicParser__.resolveLigatures=function(S){var T=0,N=n,B="",D=0;for(T=0;T<S.length;T+=1)N[S.charCodeAt(T)]!==void 0?(D++,typeof(N=N[S.charCodeAt(T)])=="number"&&(B+=String.fromCharCode(N),N=n,D=0),T===S.length-1&&(N=n,B+=S.charAt(T-(D-1)),T-=D-1,D=0)):(N=n,B+=S.charAt(T-D),T-=D,D=0);return B};r.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&a[S.charCodeAt(0)]!==void 0};var k=r.__arabicParser__.getCorrectForm=function(S,T,N){return u(S)?l(S)===!1?-1:!m(S)||!u(T)&&!u(N)||!u(N)&&h(T)||h(S)&&!u(T)||h(S)&&d(T)||h(S)&&h(T)?0:b(S)&&u(T)&&!h(T)&&u(N)&&m(N)?3:h(S)||!u(N)?1:2:-1},w=function(S){var T=0,N=0,B=0,D="",U="",le="",ce=(S=S||"").split("\\s+"),te=[];for(T=0;T<ce.length;T+=1){for(te.push(""),N=0;N<ce[T].length;N+=1)D=ce[T][N],U=ce[T][N-1],le=ce[T][N+1],u(D)?(B=k(D,U,le),te[T]+=B!==-1?String.fromCharCode(e[D.charCodeAt(0)][B]):D):te[T]+=D;te[T]=A(te[T])}return te.join(" ")},j=r.__arabicParser__.processArabic=r.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(T)){var B=0;for(N=[],B=0;B<T.length;B+=1)Array.isArray(T[B])?N.push([w(T[B][0]),T[B][1],T[B][2]]):N.push([w(T[B])]);S=N}else S=w(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};r.events.push(["preProcessText",j])})(_t.API),_t.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var o;if((n=n||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(_t.API),(function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(S){A=S}});var k=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return k},set:function(S){k=S}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(S){w=S}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(S){j=S}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return a.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,m){a.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),A=m.font||this.getFont(),k=m.scaleFactor||this.internal.scaleFactor,w=0,j=0,S=0,T=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var N=m.maxWidth;N>0?typeof d=="string"?d=this.splitTextToSize(d,N):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(D,U){return D.concat(T.splitTextToSize(U,N))},[])):d=Array.isArray(d)?d:[d];for(var B=0;B<d.length;B++)w<(S=this.getStringUnitWidth(d[B],{font:A})*b)&&(w=S);return w!==0&&(j=d.length),{w:w/=k,h:Math.max((j*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/k,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var d;d=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,k=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=A.top,w&&k&&(this.printHeaderRow(d.lineNumber,!0),d.y+=k[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};r.table=function(d,m,b,A,k){if(a.call(this),!b)throw new Error("No data for PDF table.");var w,j,S,T,N=[],B=[],D=[],U={},le={},ce=[],te=[],$=(k=k||{}).autoSize||!1,Y=k.printHeaders!==!1,ge=k.css&&k.css["font-size"]!==void 0?16*k.css["font-size"]:k.fontSize||12,M=k.margins||Object.assign({width:this.getPageWidth()},e),H=typeof k.padding=="number"?k.padding:3,ae=k.headerBackgroundColor||"#c8c8c8",re=k.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=re,this.setFontSize(ge),A==null)B=N=Object.keys(b[0]),D=N.map(function(){return"left"});else if(Array.isArray(A)&&Bn(A[0])==="object")for(N=A.map(function(Le){return Le.name}),B=A.map(function(Le){return Le.prompt||Le.name||""}),D=A.map(function(Le){return Le.align||"left"}),w=0;w<A.length;w+=1)le[A[w].name]=.7499990551181103*A[w].width;else Array.isArray(A)&&typeof A[0]=="string"&&(B=N=A,D=N.map(function(){return"left"}));if($||Array.isArray(A)&&typeof A[0]=="string")for(w=0;w<N.length;w+=1){for(U[T=N[w]]=b.map(function(Le){return Le[T]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(B[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=U[T],this.setFont(void 0,"normal"),S=0;S<j.length;S+=1)ce.push(this.getTextDimensions(j[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[T]=Math.max.apply(null,ce)+H+H,ce=[]}if(Y){var we={};for(w=0;w<N.length;w+=1)we[N[w]]={},we[N[w]].text=B[w],we[N[w]].align=D[w];var ee=h.call(this,we,le);te=N.map(function(Le){return new l(d,m,le[Le],ee,we[Le].text,void 0,we[Le].align)}),this.setTableHeaderRow(te),this.printHeaderRow(1,!1)}var X=A.reduce(function(Le,G){return Le[G.name]=G.align,Le},{});for(w=0;w<b.length;w+=1){"rowStart"in k&&k.rowStart instanceof Function&&k.rowStart({row:w,data:b[w]},this);var ie=h.call(this,b[w],le);for(S=0;S<N.length;S+=1){var xe=b[w][N[S]];"cellStart"in k&&k.cellStart instanceof Function&&k.cellStart({row:w,col:S,data:xe},this),u.call(this,new l(d,m,le[N[S]],ie,xe,w+2,X[N[S]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var h=function(d,m){var b=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,k=this.internal.scaleFactor;return Object.keys(d).map(function(w){var j=d[w];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,m[w]-b-b)},this).map(function(w){return this.getLineHeightFactor()*w.length*A/k+b+b},this).reduce(function(w,j){return Math.max(w,j)},0)};r.setTableHeaderRow=function(d){a.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,m){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var k=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){b=this.internal.__cell__.tableHeaderRow[w].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,k.push(b)),b.lineNumber=d;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,b),this.setTextColor(j)}k.length>0&&this.setTableHeaderRow(k),this.setFont(void 0,"normal"),n=!1}})(_t.API);var A5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},j5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U0=N5(j5),E5=[100,200,300,400,500,600,700,800,900],Gw=N5(E5);function m0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return A5[l=l||"normal"]?l:"normal"})(r.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(r.weight),o=(function(l){return typeof U0[l=l||"normal"]=="number"?l:"normal"})(r.stretch);return{family:e,style:n,weight:a,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,n,a].join(" ")}}}function Dg(r,e,n,a){var o;for(o=n;o>=0&&o<e.length;o+=a)if(r[e[o]])return r[e[o]];for(o=n;o>=0&&o<e.length;o-=a)if(r[e[o]])return r[e[o]]}var Vw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Bg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Pg(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Mg(r){return r.trimLeft()}function Yw(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function Ww(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var uf,qg,Ug,Ic,hf,Fg,Ig,zg,v0=["times"];function Hg(r,e,n,a,o){var l=4,u=Gg;switch(o){case _t.API.image_compression.FAST:l=1,u=$g;break;case _t.API.image_compression.MEDIUM:l=6,u=Vg;break;case _t.API.image_compression.SLOW:l=9,u=Yg}r=(function(d,m,b,A){for(var k,w=d.length/m,j=new Uint8Array(d.length+w),S=[Kw,$g,Gg,Vg,Yg],T=0;T<w;T+=1){var N=T*m,B=d.subarray(N,N+m);if(A)j.set(A(B,b,k),N+T);else{for(var D=S.length,U=[],le=0;le<D;le+=1)U[le]=S[le](B,b,k);var ce=Xw(U.concat());j.set(U[ce],N+T)}k=B}return j})(r,e,Math.ceil(n*a/8),u);var h=O0(r,{level:l});return _t.API.__addimage__.arrayBufferToBinaryString(h)}function Kw(r){var e=Array.apply([],r);return e.unshift(0),e}function $g(r,e){var n=r.length,a=[];a[0]=1;for(var o=0;o<n;o+=1){var l=r[o-e]||0;a[o+1]=r[o]-l+256&255}return a}function Gg(r,e,n){var a=r.length,o=[];o[0]=2;for(var l=0;l<a;l+=1){var u=n&&n[l]||0;o[l+1]=r[l]-u+256&255}return o}function Vg(r,e,n){var a=r.length,o=[];o[0]=3;for(var l=0;l<a;l+=1){var u=r[l-e]||0,h=n&&n[l]||0;o[l+1]=r[l]+256-(u+h>>>1)&255}return o}function Yg(r,e,n){var a=r.length,o=[];o[0]=4;for(var l=0;l<a;l+=1){var u=Jw(r[l-e]||0,n&&n[l]||0,n&&n[l-e]||0);o[l+1]=r[l]-u+256&255}return o}function Jw(r,e,n){if(r===e&&e===n)return r;var a=Math.abs(e-n),o=Math.abs(r-n),l=Math.abs(r+e-n-n);return a<=o&&a<=l?r:o<=l?e:n}function Xw(r){var e=r.map(function(n){return n.reduce(function(a,o){return a+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function y0(r,e,n){var a=e*n,o=Math.floor(a/8),l=16-(a-8*o+n),u=(1<<n)-1;return k5(r,o)>>l&u}function Wg(r,e,n,a){var o=n*a,l=Math.floor(o/8),u=16-(o-8*l+a),h=(1<<a)-1,d=(e&h)<<u;(function(m,b,A){if(b+1<m.byteLength)m.setUint16(b,A,!1);else{var k=A>>8&255;m.setUint8(b,k)}})(r,l,k5(r,l)&~(h<<u)&65535|d)}function k5(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function Qw(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,a=r[e++]|r[e++]<<8,o=r[e++],l=o>>7,u=1<<1+(7&o);r[e++],r[e++];var h=null,d=null;l&&(h=e,d=u,e+=3*u);var m=!0,b=[],A=0,k=null,w=0,j=null;for(this.width=n,this.height=a;m&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,j=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=r[e++];A=r[e++]|r[e++]<<8,k=r[e++],1&S||(k=null),w=S>>2&7,e++;break;case 254:for(;;){if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,B=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,U=r[e++],le=U>>6&1,ce=1<<1+(7&U),te=h,$=d,Y=!1;U>>7&&(Y=!0,te=e,$=ce,e+=3*ce);var ge=e;for(e++;;){var M;if(!((M=r[e++])>=0))throw Error("Invalid block size");if(M===0)break;e+=M}b.push({x:T,y:N,width:B,height:D,has_local_palette:Y,palette_offset:te,palette_size:$,data_offset:ge,data_length:e-ge,transparent_index:k,interlaced:!!le,delay:A,disposal:w});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return j},this.frameInfo=function(H){if(H<0||H>=b.length)throw new Error("Frame index out of range.");return b[H]},this.decodeAndBlitFrameBGRA=function(H,ae){var re=this.frameInfo(H),we=re.width*re.height,ee=new Uint8Array(we);Kg(r,re.data_offset,ee,we);var X=re.palette_offset,ie=re.transparent_index;ie===null&&(ie=256);var xe=re.width,Le=n-xe,G=xe,L=4*(re.y*n+re.x),I=4*((re.y+re.height)*n+re.x),W=L,ne=4*Le;re.interlaced===!0&&(ne+=4*n*7);for(var ue=8,pe=0,ke=ee.length;pe<ke;++pe){var je=ee[pe];if(G===0&&(G=xe,(W+=ne)>=I&&(ne=4*Le+4*n*(ue-1),W=L+(xe+Le)*(ue<<1),ue>>=1)),je===ie)W+=4;else{var Be=r[X+3*je],Ge=r[X+3*je+1],Qe=r[X+3*je+2];ae[W++]=Qe,ae[W++]=Ge,ae[W++]=Be,ae[W++]=255}--G}},this.decodeAndBlitFrameRGBA=function(H,ae){var re=this.frameInfo(H),we=re.width*re.height,ee=new Uint8Array(we);Kg(r,re.data_offset,ee,we);var X=re.palette_offset,ie=re.transparent_index;ie===null&&(ie=256);var xe=re.width,Le=n-xe,G=xe,L=4*(re.y*n+re.x),I=4*((re.y+re.height)*n+re.x),W=L,ne=4*Le;re.interlaced===!0&&(ne+=4*n*7);for(var ue=8,pe=0,ke=ee.length;pe<ke;++pe){var je=ee[pe];if(G===0&&(G=xe,(W+=ne)>=I&&(ne=4*Le+4*n*(ue-1),W=L+(xe+Le)*(ue<<1),ue>>=1)),je===ie)W+=4;else{var Be=r[X+3*je],Ge=r[X+3*je+1],Qe=r[X+3*je+2];ae[W++]=Be,ae[W++]=Ge,ae[W++]=Qe,ae[W++]=255}--G}}}function Kg(r,e,n,a){for(var o=r[e++],l=1<<o,u=l+1,h=u+1,d=o+1,m=(1<<d)-1,b=0,A=0,k=0,w=r[e++],j=new Int32Array(4096),S=null;;){for(;b<16&&w!==0;)A|=r[e++]<<b,b+=8,w===1?w=r[e++]:--w;if(b<d)break;var T=A&m;if(A>>=d,b-=d,T!==l){if(T===u)break;for(var N=T<h?T:S,B=0,D=N;D>l;)D=j[D]>>8,++B;var U=D;if(k+B+(N!==T?1:0)>a)return void Yn.log("Warning, gif stream longer than expected.");n[k++]=U;var le=k+=B;for(N!==T&&(n[k++]=U),D=N;B--;)D=j[D],n[--le]=255&D,D>>=8;S!==null&&h<4096&&(j[h++]=S<<8|U,h>=m+1&&d<12&&(++d,m=m<<1|1)),S=T}else h=u+1,m=(1<<(d=o+1))-1,S=null}return k!==a&&Yn.log("Warning, gif stream shorter than expected."),n}function b0(r){var e,n,a,o,l,u=Math.floor,h=new Array(64),d=new Array(64),m=new Array(64),b=new Array(64),A=new Array(65535),k=new Array(65535),w=new Array(64),j=new Array(64),S=[],T=0,N=7,B=new Array(64),D=new Array(64),U=new Array(64),le=new Array(256),ce=new Array(2048),te=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(L,I){for(var W=0,ne=0,ue=new Array,pe=1;pe<=16;pe++){for(var ke=1;ke<=L[pe];ke++)ue[I[ne]]=[],ue[I[ne]][0]=W,ue[I[ne]][1]=pe,ne++,W++;W*=2}return ue}function X(L){for(var I=L[0],W=L[1]-1;W>=0;)I&1<<W&&(T|=1<<N),W--,--N<0&&(T==255?(ie(255),ie(0)):ie(T),N=7,T=0)}function ie(L){S.push(L)}function xe(L){ie(L>>8&255),ie(255&L)}function Le(L,I,W,ne,ue){for(var pe,ke=ue[0],je=ue[240],Be=(function(ze,xt){var et,Nt,yt,Gt,Ut,Ft,rn,Zt,ut,It,ft=0;for(ut=0;ut<8;++ut){et=ze[ft],Nt=ze[ft+1],yt=ze[ft+2],Gt=ze[ft+3],Ut=ze[ft+4],Ft=ze[ft+5],rn=ze[ft+6];var Kn=et+(Zt=ze[ft+7]),tn=et-Zt,jt=Nt+rn,Dt=Nt-rn,an=yt+Ft,St=yt-Ft,Ln=Gt+Ut,Tt=Gt-Ut,Bt=Kn+Ln,En=Kn-Ln,Yt=jt+an,gt=jt-an;ze[ft]=Bt+Yt,ze[ft+4]=Bt-Yt;var ln=.707106781*(gt+En);ze[ft+2]=En+ln,ze[ft+6]=En-ln;var Or=.382683433*((Bt=Tt+St)-(gt=Dt+tn)),Bi=.5411961*Bt+Or,Fr=1.306562965*gt+Or,xr=.707106781*(Yt=St+Dt),bt=tn+xr,sa=tn-xr;ze[ft+5]=sa+Bi,ze[ft+3]=sa-Bi,ze[ft+1]=bt+Fr,ze[ft+7]=bt-Fr,ft+=8}for(ft=0,ut=0;ut<8;++ut){et=ze[ft],Nt=ze[ft+8],yt=ze[ft+16],Gt=ze[ft+24],Ut=ze[ft+32],Ft=ze[ft+40],rn=ze[ft+48];var Ir=et+(Zt=ze[ft+56]),or=et-Zt,lr=Nt+rn,Pn=Nt-rn,ii=yt+Ft,gi=yt-Ft,Aa=Gt+Ut,ji=Gt-Ut,_n=Ir+Aa,Hn=Ir-Aa,Pi=lr+ii,Zi=lr-ii;ze[ft]=_n+Pi,ze[ft+32]=_n-Pi;var cr=.707106781*(Zi+Hn);ze[ft+16]=Hn+cr,ze[ft+48]=Hn-cr;var Jn=.382683433*((_n=ji+gi)-(Zi=Pn+or)),ur=.5411961*_n+Jn,Rr=1.306562965*Zi+Jn,se=.707106781*(Pi=gi+Pn),ve=or+se,He=or-se;ze[ft+40]=He+ur,ze[ft+24]=He-ur,ze[ft+8]=ve+Rr,ze[ft+56]=ve-Rr,ft++}for(ut=0;ut<64;++ut)It=ze[ut]*xt[ut],w[ut]=It>0?It+.5|0:It-.5|0;return w})(L,I),Ge=0;Ge<64;++Ge)j[te[Ge]]=Be[Ge];var Qe=j[0]-W;W=j[0],Qe==0?X(ne[0]):(X(ne[k[pe=32767+Qe]]),X(A[pe]));for(var Xe=63;Xe>0&&j[Xe]==0;)Xe--;if(Xe==0)return X(ke),W;for(var rt,K=1;K<=Xe;){for(var Ke=K;j[K]==0&&K<=Xe;)++K;var Vt=K-Ke;if(Vt>=16){rt=Vt>>4;for(var vt=1;vt<=rt;++vt)X(je);Vt&=15}pe=32767+j[K],X(ue[(Vt<<4)+k[pe]]),X(A[pe]),K++}return Xe!=63&&X(ke),W}function G(L){L=Math.min(Math.max(L,1),100),l!=L&&((function(I){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ue=u((W[ne]*I+50)/100);ue=Math.min(Math.max(ue,1),255),h[te[ne]]=ue}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var je=u((pe[ke]*I+50)/100);je=Math.min(Math.max(je,1),255),d[te[ke]]=je}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Qe=0;Qe<8;Qe++)for(var Xe=0;Xe<8;Xe++)m[Ge]=1/(h[te[Ge]]*Be[Qe]*Be[Xe]*8),b[Ge]=1/(d[te[Ge]]*Be[Qe]*Be[Xe]*8),Ge++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),l=L)}this.encode=function(L,I){I&&G(I),S=new Array,T=0,N=7,xe(65496),xe(65504),xe(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),xe(1),xe(1),ie(0),ie(0),(function(){xe(65499),xe(132),ie(0);for(var Nt=0;Nt<64;Nt++)ie(h[Nt]);ie(1);for(var yt=0;yt<64;yt++)ie(d[yt])})(),(function(Nt,yt){xe(65472),xe(17),ie(8),xe(yt),xe(Nt),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(L.width,L.height),(function(){xe(65476),xe(418),ie(0);for(var Nt=0;Nt<16;Nt++)ie($[Nt+1]);for(var yt=0;yt<=11;yt++)ie(Y[yt]);ie(16);for(var Gt=0;Gt<16;Gt++)ie(ge[Gt+1]);for(var Ut=0;Ut<=161;Ut++)ie(M[Ut]);ie(1);for(var Ft=0;Ft<16;Ft++)ie(H[Ft+1]);for(var rn=0;rn<=11;rn++)ie(ae[rn]);ie(17);for(var Zt=0;Zt<16;Zt++)ie(re[Zt+1]);for(var ut=0;ut<=161;ut++)ie(we[ut])})(),xe(65498),xe(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var W=0,ne=0,ue=0;T=0,N=7,this.encode.displayName="_encode_";for(var pe,ke,je,Be,Ge,Qe,Xe,rt,K,Ke=L.data,Vt=L.width,vt=L.height,ze=4*Vt,xt=0;xt<vt;){for(pe=0;pe<ze;){for(Ge=ze*xt+pe,Xe=-1,rt=0,K=0;K<64;K++)Qe=Ge+(rt=K>>3)*ze+(Xe=4*(7&K)),xt+rt>=vt&&(Qe-=ze*(xt+1+rt-vt)),pe+Xe>=ze&&(Qe-=pe+Xe-ze+4),ke=Ke[Qe++],je=Ke[Qe++],Be=Ke[Qe++],B[K]=(ce[ke]+ce[je+256|0]+ce[Be+512|0]>>16)-128,D[K]=(ce[ke+768|0]+ce[je+1024|0]+ce[Be+1280|0]>>16)-128,U[K]=(ce[ke+1280|0]+ce[je+1536|0]+ce[Be+1792|0]>>16)-128;W=Le(B,m,W,e,a),ne=Le(D,b,ne,n,o),ue=Le(U,b,ue,n,o),pe+=32}xt+=8}if(N>=0){var et=[];et[1]=N+1,et[0]=(1<<N+1)-1,X(et)}return xe(65497),new Uint8Array(S)},r=r||50,(function(){for(var L=String.fromCharCode,I=0;I<256;I++)le[I]=L(I)})(),e=ee($,Y),n=ee(H,ae),a=ee(ge,M),o=ee(re,we),(function(){for(var L=1,I=2,W=1;W<=15;W++){for(var ne=L;ne<I;ne++)k[32767+ne]=W,A[32767+ne]=[],A[32767+ne][1]=W,A[32767+ne][0]=ne;for(var ue=-(I-1);ue<=-L;ue++)k[32767+ue]=W,A[32767+ue]=[],A[32767+ue][1]=W,A[32767+ue][0]=I-1+ue;L<<=1,I<<=1}})(),(function(){for(var L=0;L<256;L++)ce[L]=19595*L,ce[L+256|0]=38470*L,ce[L+512|0]=7471*L+32768,ce[L+768|0]=-11059*L,ce[L+1024|0]=-21709*L,ce[L+1280|0]=32768*L+8421375,ce[L+1536|0]=-27439*L,ce[L+1792|0]=-5329*L})(),G(r)}function gs(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jg(r){function e(Y){if(!Y)throw Error("assert :P")}function n(Y,ge,M){for(var H=0;4>H;H++)if(Y[ge+H]!=M.charCodeAt(H))return!0;return!1}function a(Y,ge,M,H,ae){for(var re=0;re<ae;re++)Y[ge+re]=M[H+re]}function o(Y,ge,M,H){for(var ae=0;ae<H;ae++)Y[ge+ae]=M}function l(Y){return new Int32Array(Y)}function u(Y,ge){for(var M=[],H=0;H<Y;H++)M.push(new ge);return M}function h(Y,ge){var M=[];return(function H(ae,re,we){for(var ee=we[re],X=0;X<ee&&(ae.push(we.length>re+1?[]:new ge),!(we.length<re+1));X++)H(ae[X],re+1,we)})(M,0,Y),M}var d=function(){var Y=this;function ge(f,v){for(var x=1<<v-1>>>0;f&x;)x>>>=1;return x?(f&x-1)+x:f}function M(f,v,x,E,R){e(!(E%x));do f[v+(E-=x)]=R;while(0<E)}function H(f,v,x,E,R){if(e(2328>=R),512>=R)var P=l(512);else if((P=l(R))==null)return 0;return(function(q,z,V,Q,fe,Ne){var J,me,_e=z,Re=1<<V,Se=l(16),Oe=l(16);for(e(fe!=0),e(Q!=null),e(q!=null),e(0<V),me=0;me<fe;++me){if(15<Q[me])return 0;++Se[Q[me]]}if(Se[0]==fe)return 0;for(Oe[1]=0,J=1;15>J;++J){if(Se[J]>1<<J)return 0;Oe[J+1]=Oe[J]+Se[J]}for(me=0;me<fe;++me)J=Q[me],0<Q[me]&&(Ne[Oe[J]++]=me);if(Oe[15]==1)return(Q=new ae).g=0,Q.value=Ne[0],M(q,_e,1,Re,Q),Re;var Me,Ve=-1,Fe=Re-1,lt=0,nt=1,zt=1,at=1<<V;for(me=0,J=1,fe=2;J<=V;++J,fe<<=1){if(nt+=zt<<=1,0>(zt-=Se[J]))return 0;for(;0<Se[J];--Se[J])(Q=new ae).g=J,Q.value=Ne[me++],M(q,_e+lt,fe,at,Q),lt=ge(lt,J)}for(J=V+1,fe=2;15>=J;++J,fe<<=1){if(nt+=zt<<=1,0>(zt-=Se[J]))return 0;for(;0<Se[J];--Se[J]){if(Q=new ae,(lt&Fe)!=Ve){for(_e+=at,Me=1<<(Ve=J)-V;15>Ve&&!(0>=(Me-=Se[Ve]));)++Ve,Me<<=1;Re+=at=1<<(Me=Ve-V),q[z+(Ve=lt&Fe)].g=Me+V,q[z+Ve].value=_e-z-Ve}Q.g=J-V,Q.value=Ne[me++],M(q,_e+(lt>>V),fe,at,Q),lt=ge(lt,J)}}return nt!=2*Oe[15]-1?0:Re})(f,v,x,E,R,P)}function ae(){this.value=this.g=0}function re(){this.value=this.g=0}function we(){this.G=u(5,ae),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(js,re)}function ee(f,v,x,E){e(f!=null),e(v!=null),e(2147483648>E),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=x,f.Jd=v,f.Yc=x+E,f.Zc=4<=E?x+E-4+1:x,ke(f)}function X(f,v){for(var x=0;0<v--;)x|=Be(f,128)<<v;return x}function ie(f,v){var x=X(f,v);return je(f)?-x:x}function xe(f,v,x,E){var R,P=0;for(e(f!=null),e(v!=null),e(4294967288>E),f.Sb=E,f.Ra=0,f.u=0,f.h=0,4<E&&(E=4),R=0;R<E;++R)P+=v[x+R]<<8*R;f.Ra=P,f.bb=E,f.oa=v,f.pa=x}function Le(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Oa-8>>>0,++f.bb,f.u-=8;ne(f)&&(f.h=1,f.u=0)}function G(f,v){if(e(0<=v),!f.h&&v<=gr){var x=W(f)&Ar[v];return f.u+=v,Le(f),x}return f.h=1,f.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(f){return f.Ra>>>(f.u&Oa-1)>>>0}function ne(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Oa}function ue(f,v){f.u=v,f.h=ne(f)}function pe(f){f.u>=Ra&&(e(f.u>=Ra),Le(f))}function ke(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function je(f){return X(f,1)}function Be(f,v){var x=f.Ca;0>f.b&&ke(f);var E=f.b,R=x*v>>>8,P=(f.I>>>E>R)+0;for(P?(x-=R,f.I-=R+1<<E>>>0):x=R+1,E=x,R=0;256<=E;)R+=8,E>>=8;return E=7^R+ns[E],f.b-=E,f.Ca=(x<<E)-1,P}function Ge(f,v,x){f[v+0]=x>>24&255,f[v+1]=x>>16&255,f[v+2]=x>>8&255,f[v+3]=255&x}function Qe(f,v){return f[v+0]|f[v+1]<<8}function Xe(f,v){return Qe(f,v)|f[v+2]<<16}function rt(f,v){return Qe(f,v)|Qe(f,v+2)<<16}function K(f,v){var x=1<<v;return e(f!=null),e(0<v),f.X=l(x),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function Ke(f,v){e(f!=null),e(v!=null),e(f.Xa==v.Xa),a(v.X,0,f.X,0,1<<v.Xa)}function Vt(){this.X=[],this.Xa=this.Mb=0}function vt(f,v,x,E){e(x!=null),e(E!=null);var R=x[0],P=E[0];return R==0&&(R=(f*P+v/2)/v),P==0&&(P=(v*R+f/2)/f),0>=R||0>=P?0:(x[0]=R,E[0]=P,1)}function ze(f,v){return f+(1<<v)-1>>>v}function xt(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function et(f,v){Y[v]=function(x,E,R,P,q,z,V){var Q;for(Q=0;Q<q;++Q){var fe=Y[f](z[V+Q-1],R,P+Q);z[V+Q]=xt(x[E+Q],fe)}}}function Nt(){this.ud=this.hd=this.jd=0}function yt(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function Gt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Ut(f,v){return Gt(f+(f-v+.5>>1))}function Ft(f,v,x){return Math.abs(v-x)-Math.abs(f-x)}function rn(f,v,x,E,R,P,q){for(E=P[q-1],x=0;x<R;++x)P[q+x]=E=xt(f[v+x],E)}function Zt(f,v,x,E,R){var P;for(P=0;P<x;++P){var q=f[v+P],z=q>>8&255,V=16711935&(V=(V=16711935&q)+((z<<16)+z));E[R+P]=(4278255360&q)+V>>>0}}function ut(f,v){v.jd=255&f,v.hd=f>>8&255,v.ud=f>>16&255}function It(f,v,x,E,R,P){var q;for(q=0;q<E;++q){var z=v[x+q],V=z>>>8,Q=z,fe=255&(fe=(fe=z>>>16)+((f.jd<<24>>24)*(V<<24>>24)>>>5));Q=255&(Q=(Q+=(f.hd<<24>>24)*(V<<24>>24)>>>5)+((f.ud<<24>>24)*(fe<<24>>24)>>>5)),R[P+q]=(4278255360&z)+(fe<<16)+Q}}function ft(f,v,x,E,R){Y[v]=function(P,q,z,V,Q,fe,Ne,J,me){for(V=Ne;V<J;++V)for(Ne=0;Ne<me;++Ne)Q[fe++]=R(z[E(P[q++])])},Y[f]=function(P,q,z,V,Q,fe,Ne){var J=8>>P.b,me=P.Ea,_e=P.K[0],Re=P.w;if(8>J)for(P=(1<<P.b)-1,Re=(1<<J)-1;q<z;++q){var Se,Oe=0;for(Se=0;Se<me;++Se)Se&P||(Oe=E(V[Q++])),fe[Ne++]=R(_e[Oe&Re]),Oe>>=J}else Y["VP8LMapColor"+x](V,Q,_e,Re,fe,Ne,q,z,me)}}function Kn(f,v,x,E,R){for(x=v+x;v<x;){var P=f[v++];E[R++]=P>>16&255,E[R++]=P>>8&255,E[R++]=255&P}}function tn(f,v,x,E,R){for(x=v+x;v<x;){var P=f[v++];E[R++]=P>>16&255,E[R++]=P>>8&255,E[R++]=255&P,E[R++]=P>>24&255}}function jt(f,v,x,E,R){for(x=v+x;v<x;){var P=(q=f[v++])>>16&240|q>>12&15,q=240&q|q>>28&15;E[R++]=P,E[R++]=q}}function Dt(f,v,x,E,R){for(x=v+x;v<x;){var P=(q=f[v++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;E[R++]=P,E[R++]=q}}function an(f,v,x,E,R){for(x=v+x;v<x;){var P=f[v++];E[R++]=255&P,E[R++]=P>>8&255,E[R++]=P>>16&255}}function St(f,v,x,E,R,P){if(P==0)for(x=v+x;v<x;)Ge(E,((P=f[v++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),R+=32;else a(E,R,f,v,x)}function Ln(f,v){Y[v][0]=Y[f+"0"],Y[v][1]=Y[f+"1"],Y[v][2]=Y[f+"2"],Y[v][3]=Y[f+"3"],Y[v][4]=Y[f+"4"],Y[v][5]=Y[f+"5"],Y[v][6]=Y[f+"6"],Y[v][7]=Y[f+"7"],Y[v][8]=Y[f+"8"],Y[v][9]=Y[f+"9"],Y[v][10]=Y[f+"10"],Y[v][11]=Y[f+"11"],Y[v][12]=Y[f+"12"],Y[v][13]=Y[f+"13"],Y[v][14]=Y[f+"0"],Y[v][15]=Y[f+"0"]}function Tt(f){return f==El||f==uc||f==Do||f==hc}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function En(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new En,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Or(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Bi(f,v){var x=f.T,E=v.ba.f.RGBA,R=E.eb,P=E.fb+f.ka*E.A,q=Wi[v.ba.S],z=f.y,V=f.O,Q=f.f,fe=f.N,Ne=f.ea,J=f.W,me=v.cc,_e=v.dc,Re=v.Mc,Se=v.Nc,Oe=f.ka,Me=f.ka+f.T,Ve=f.U,Fe=Ve+1>>1;for(Oe==0?q(z,V,null,null,Q,fe,Ne,J,Q,fe,Ne,J,R,P,null,null,Ve):(q(v.ec,v.fc,z,V,me,_e,Re,Se,Q,fe,Ne,J,R,P-E.A,R,P,Ve),++x);Oe+2<Me;Oe+=2)me=Q,_e=fe,Re=Ne,Se=J,fe+=f.Rc,J+=f.Rc,P+=2*E.A,q(z,(V+=2*f.fa)-f.fa,z,V,me,_e,Re,Se,Q,fe,Ne,J,R,P-E.A,R,P,Ve);return V+=f.fa,f.j+Me<f.o?(a(v.ec,v.fc,z,V,Ve),a(v.cc,v.dc,Q,fe,Fe),a(v.Mc,v.Nc,Ne,J,Fe),x--):1&Me||q(z,V,null,null,Q,fe,Ne,J,Q,fe,Ne,J,R,P+E.A,null,null,Ve),x}function Fr(f,v,x){var E=f.F,R=[f.J];if(E!=null){var P=f.U,q=v.ba.S,z=q==jl||q==Do;v=v.ba.f.RGBA;var V=[0],Q=f.ka;V[0]=f.T,f.Kb&&(Q==0?--V[0]:(--Q,R[0]-=f.width),f.j+f.ka+f.T==f.o&&(V[0]=f.o-f.j-Q));var fe=v.eb;Q=v.fb+Q*v.A,f=xl(E,R[0],f.width,P,V,fe,Q+(z?0:3),v.A),e(x==V),f&&Tt(q)&&Zs(fe,Q,z,P,V,v.A)}return 0}function xr(f){var v=f.ma,x=v.ba.S,E=11>x,R=x==nr||x==Vr||x==jl||x==Ro||x==12||Tt(x);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ts(v.Oa,f,R?11:12))return 0;if(R&&Tt(x)&&yl(),f.da)alert("todo:use_scaling");else{if(E){if(v.Ib=Or,f.Kb){if(x=f.U+1>>1,v.memory=l(f.U+2*x),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+x,v.Ib=Bi,yl()}}else alert("todo:EmitYUV");R&&(v.Jb=Fr,E&&ha())}if(E&&!Rs){for(f=0;256>f;++f)Ki[f]=89858*(f-128)+Mo>>Qr,Bf[f]=-22014*(f-128)+Mo,gh[f]=-45773*(f-128),mc[f]=113618*(f-128)+Mo>>Qr;for(f=io;f<Os;++f)v=76283*(f-16)+Mo>>Qr,Pf[f-io]=Sr(v,255),Mf[f-io]=Sr(v+8>>4,15);Rs=1}return 1}function bt(f){var v=f.ma,x=f.U,E=f.T;return e(!(1&f.ka)),0>=x||0>=E?0:(x=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,x),v.Dc+=x,1)}function sa(f){f.ma.memory=null}function Ir(f,v,x,E){return G(f,8)!=47?0:(v[0]=G(f,14)+1,x[0]=G(f,14)+1,E[0]=G(f,1),G(f,3)!=0?0:!f.h)}function or(f,v){if(4>f)return f+1;var x=f-2>>1;return(2+(1&f)<<x)+G(v,x)+1}function lr(f,v){return 120<v?v-120:1<=(x=((x=Wr[v-1])>>4)*f+(8-(15&x)))?x:1;var x}function Pn(f,v,x){var E=W(x),R=f[v+=255&E].g-8;return 0<R&&(ue(x,x.u+8),E=W(x),v+=f[v].value,v+=E&(1<<R)-1),ue(x,x.u+f[v].g),f[v].value}function ii(f,v,x){return x.g+=f.g,x.value+=f.value<<v>>>0,e(8>=x.g),f.g}function gi(f,v,x){var E=f.xc;return e((v=E==0?0:f.vc[f.md*(x>>E)+(v>>E)])<f.Wb),f.Ya[v]}function Aa(f,v,x,E){var R=f.ab,P=f.c*v,q=f.C;v=q+v;var z=x,V=E;for(E=f.Ta,x=f.Ua;0<R--;){var Q=f.gc[R],fe=q,Ne=v,J=z,me=V,_e=(V=E,z=x,Q.Ea);switch(e(fe<Ne),e(Ne<=Q.nc),Q.hc){case 2:ui(J,me,(Ne-fe)*_e,V,z);break;case 0:var Re=fe,Se=Ne,Oe=V,Me=z,Ve=(at=Q).Ea;Re==0&&(Co(J,me,null,null,1,Oe,Me),rn(J,me+1,0,0,Ve-1,Oe,Me+1),me+=Ve,Me+=Ve,++Re);for(var Fe=1<<at.b,lt=Fe-1,nt=ze(Ve,at.b),zt=at.K,at=at.w+(Re>>at.b)*nt;Re<Se;){var on=zt,Gn=at,Jt=1;for(To(J,me,Oe,Me-Ve,1,Oe,Me);Jt<Ve;){var it=(Jt&~lt)+Fe;it>Ve&&(it=Ve),(0,is[on[Gn++]>>8&15])(J,me+ +Jt,Oe,Me+Jt-Ve,it-Jt,Oe,Me+Jt),Jt=it}me+=Ve,Me+=Ve,++Re&lt||(at+=nt)}Ne!=Q.nc&&a(V,z-_e,V,z+(Ne-fe-1)*_e,_e);break;case 1:for(_e=J,Se=me,Ve=(J=Q.Ea)-(Me=J&~(Oe=(me=1<<Q.b)-1)),Re=ze(J,Q.b),Fe=Q.K,Q=Q.w+(fe>>Q.b)*Re;fe<Ne;){for(lt=Fe,nt=Q,zt=new Nt,at=Se+Me,on=Se+J;Se<at;)ut(lt[nt++],zt),Lo(zt,_e,Se,me,V,z),Se+=me,z+=me;Se<on&&(ut(lt[nt++],zt),Lo(zt,_e,Se,Ve,V,z),Se+=Ve,z+=Ve),++fe&Oe||(Q+=Re)}break;case 3:if(J==V&&me==z&&0<Q.b){for(Se=V,J=_e=z+(Ne-fe)*_e-(Me=(Ne-fe)*ze(Q.Ea,Q.b)),me=V,Oe=z,Re=[],Me=(Ve=Me)-1;0<=Me;--Me)Re[Me]=me[Oe+Me];for(Me=Ve-1;0<=Me;--Me)Se[J+Me]=Re[Me];ac(Q,fe,Ne,V,_e,V,z)}else ac(Q,fe,Ne,J,me,V,z)}z=E,V=x}V!=x&&a(E,x,z,V,P)}function ji(f,v){var x=f.V,E=f.Ba+f.c*f.C,R=v-f.C;if(e(v<=f.l.o),e(16>=R),0<R){var P=f.l,q=f.Ta,z=f.Ua,V=P.width;if(Aa(f,R,x,E),R=z=[z],e((x=f.C)<(E=v)),e(P.v<P.va),E>P.o&&(E=P.o),x<P.j){var Q=P.j-x;x=P.j,R[0]+=Q*V}if(x>=E?x=0:(R[0]+=4*P.v,P.ka=x-P.j,P.U=P.va-P.v,P.T=E-x,x=1),x){if(z=z[0],11>(x=f.ca).S){var fe=x.f.RGBA,Ne=(E=x.S,R=P.U,P=P.T,Q=fe.eb,fe.A),J=P;for(fe=fe.fb+f.Ma*fe.A;0<J--;){var me=q,_e=z,Re=R,Se=Q,Oe=fe;switch(E){case lc:Oo(me,_e,Re,Se,Oe);break;case nr:rs(me,_e,Re,Se,Oe);break;case El:rs(me,_e,Re,Se,Oe),Zs(Se,Oe,0,Re,1,0);break;case cc:Xs(me,_e,Re,Se,Oe);break;case Vr:St(me,_e,Re,Se,Oe,1);break;case uc:St(me,_e,Re,Se,Oe,1),Zs(Se,Oe,0,Re,1,0);break;case jl:St(me,_e,Re,Se,Oe,0);break;case Do:St(me,_e,Re,Se,Oe,0),Zs(Se,Oe,1,Re,1,0);break;case Ro:as(me,_e,Re,Se,Oe);break;case hc:as(me,_e,Re,Se,Oe),Gr(Se,Oe,Re,1,0);break;case Es:Pa(me,_e,Re,Se,Oe);break;default:e(0)}z+=V,fe+=Ne}f.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=x.height)}}f.C=v,e(f.C<=f.i)}function _n(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var x=f.Ya[v].G,E=f.Ya[v].H;if(0<x[1][E[1]+0].g||0<x[2][E[2]+0].g||0<x[3][E[3]+0].g)return 0}return 1}function Hn(f,v,x,E,R,P){if(f.Z!=0){var q=f.qd,z=f.rd;for(e(ls[f.Z]!=null);v<x;++v)ls[f.Z](q,z,E,R,E,R,P),q=E,z=R,R+=P;f.qd=q,f.rd=z}}function Pi(f,v){var x=f.l.ma,E=x.Z==0||x.Z==1?f.l.j:f.C;if(E=f.C<E?E:f.C,e(v<=f.l.o),v>E){var R=f.l.width,P=x.ca,q=x.tb+R*E,z=f.V,V=f.Ba+f.c*E,Q=f.gc;e(f.ab==1),e(Q[0].hc==3),Ba(Q[0],E,v,z,V,P,q),Hn(x,E,v,P,q,R)}f.C=f.Ma=v}function Zi(f,v,x,E,R,P,q){var z=f.$/E,V=f.$%E,Q=f.m,fe=f.s,Ne=x+f.$,J=Ne;R=x+E*R;var me=x+E*P,_e=280+fe.ua,Re=f.Pb?z:16777216,Se=0<fe.ua?fe.Wa:null,Oe=fe.wc,Me=Ne<me?gi(fe,V,z):null;e(f.C<P),e(me<=R);var Ve=!1;e:for(;;){for(;Ve||Ne<me;){var Fe=0;if(z>=Re){var lt=Ne-x;e((Re=f).Pb),Re.wd=Re.m,Re.xd=lt,0<Re.s.ua&&Ke(Re.s.Wa,Re.s.vb),Re=z+ks}if(V&Oe||(Me=gi(fe,V,z)),e(Me!=null),Me.Qb&&(v[Ne]=Me.qb,Ve=!0),!Ve)if(pe(Q),Me.jc){Fe=Q,lt=v;var nt=Ne,zt=Me.pd[W(Fe)&js-1];e(Me.jc),256>zt.g?(ue(Fe,Fe.u+zt.g),lt[nt]=zt.value,Fe=0):(ue(Fe,Fe.u+zt.g-256),e(256<=zt.value),Fe=zt.value),Fe==0&&(Ve=!0)}else Fe=Pn(Me.G[0],Me.H[0],Q);if(Q.h)break;if(Ve||256>Fe){if(!Ve)if(Me.nd)v[Ne]=(Me.qb|Fe<<8)>>>0;else{if(pe(Q),Ve=Pn(Me.G[1],Me.H[1],Q),pe(Q),lt=Pn(Me.G[2],Me.H[2],Q),nt=Pn(Me.G[3],Me.H[3],Q),Q.h)break;v[Ne]=(nt<<24|Ve<<16|Fe<<8|lt)>>>0}if(Ve=!1,++Ne,++V>=E&&(V=0,++z,q!=null&&z<=P&&!(z%16)&&q(f,z),Se!=null))for(;J<Ne;)Fe=v[J++],Se.X[(506832829*Fe&4294967295)>>>Se.Mb]=Fe}else if(280>Fe){if(Fe=or(Fe-256,Q),lt=Pn(Me.G[4],Me.H[4],Q),pe(Q),lt=lr(E,lt=or(lt,Q)),Q.h)break;if(Ne-x<lt||R-Ne<Fe)break e;for(nt=0;nt<Fe;++nt)v[Ne+nt]=v[Ne+nt-lt];for(Ne+=Fe,V+=Fe;V>=E;)V-=E,++z,q!=null&&z<=P&&!(z%16)&&q(f,z);if(e(Ne<=R),V&Oe&&(Me=gi(fe,V,z)),Se!=null)for(;J<Ne;)Fe=v[J++],Se.X[(506832829*Fe&4294967295)>>>Se.Mb]=Fe}else{if(!(Fe<_e))break e;for(Ve=Fe-280,e(Se!=null);J<Ne;)Fe=v[J++],Se.X[(506832829*Fe&4294967295)>>>Se.Mb]=Fe;Fe=Ne,e(!(Ve>>>(lt=Se).Xa)),v[Fe]=lt.X[Ve],Ve=!0}Ve||e(Q.h==ne(Q))}if(f.Pb&&Q.h&&Ne<R)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ke(f.s.vb,f.s.Wa);else{if(Q.h)break e;q?.(f,z>P?P:z),f.a=0,f.$=Ne-x}return 1}return f.a=3,0}function cr(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,e(f!=null)}function Jn(){var f=new Pt;return f==null?null:(f.a=0,f.xb=fu,Ln("Predictor","VP8LPredictors"),Ln("Predictor","VP8LPredictors_C"),Ln("PredictorAdd","VP8LPredictorsAdd"),Ln("PredictorAdd","VP8LPredictorsAdd_C"),ui=Zt,Lo=It,Oo=Kn,rs=tn,as=jt,Pa=Dt,Xs=an,Y.VP8LMapColor32b=Da,Y.VP8LMapColor8b=Gi,f)}function ur(f,v,x,E,R){var P=1,q=[f],z=[v],V=E.m,Q=E.s,fe=null,Ne=0;e:for(;;){if(x)for(;P&&G(V,1);){var J=q,me=z,_e=E,Re=1,Se=_e.m,Oe=_e.gc[_e.ab],Me=G(Se,2);if(_e.Oc&1<<Me)P=0;else{switch(_e.Oc|=1<<Me,Oe.hc=Me,Oe.Ea=J[0],Oe.nc=me[0],Oe.K=[null],++_e.ab,e(4>=_e.ab),Me){case 0:case 1:Oe.b=G(Se,3)+2,Re=ur(ze(Oe.Ea,Oe.b),ze(Oe.nc,Oe.b),0,_e,Oe.K),Oe.K=Oe.K[0];break;case 3:var Ve,Fe=G(Se,8)+1,lt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(J[0]=ze(Oe.Ea,lt),Oe.b=lt,Ve=Re=ur(Fe,1,0,_e,Oe.K)){var nt,zt=Fe,at=Oe,on=1<<(8>>at.b),Gn=l(on);if(Gn==null)Ve=0;else{var Jt=at.K[0],it=at.w;for(Gn[0]=at.K[0][0],nt=1;nt<1*zt;++nt)Gn[nt]=xt(Jt[it+nt],Gn[nt-1]);for(;nt<4*on;++nt)Gn[nt]=0;at.K[0]=null,at.K[0]=Gn,Ve=1}}Re=Ve;break;case 2:break;default:e(0)}P=Re}}if(q=q[0],z=z[0],P&&G(V,1)&&!(P=1<=(Ne=G(V,4))&&11>=Ne)){E.a=3;break e}var Je;if(Je=P)t:{var Qn,Ot,en,kn=E,Ti=q,Ji=z,Un=Ne,yi=x,ir=kn.m,bi=kn.s,sn=[null],yn=1,Zn=0,Nn=Kr[Un];n:for(;;){if(yi&&G(ir,1)){var Li=G(ir,3)+2,ei=ze(Ti,Li),bn=ze(Ji,Li),di=ei*bn;if(!ur(ei,bn,0,kn,sn))break n;for(sn=sn[0],bi.xc=Li,Qn=0;Qn<di;++Qn){var Cn=sn[Qn]>>8&65535;sn[Qn]=Cn,Cn>=yn&&(yn=Cn+1)}}if(ir.h)break n;for(Ot=0;5>Ot;++Ot){var wi=to[Ot];!Ot&&0<Un&&(wi+=1<<Un),Zn<wi&&(Zn=wi)}var _i=u(yn*Nn,ae),On=yn,vn=u(On,we);if(vn==null)var rr=null;else e(65536>=On),rr=vn;var ai=l(Zn);if(rr==null||ai==null||_i==null){kn.a=1;break n}var At=_i;for(Qn=en=0;Qn<yn;++Qn){var Et=rr[Qn],wn=Et.G,jr=Et.H,Zr=0,vr=1,xi=0;for(Ot=0;5>Ot;++Ot){wi=to[Ot],wn[Ot]=At,jr[Ot]=en,!Ot&&0<Un&&(wi+=1<<Un);r:{var Ds,Bs=wi,yc=kn,Fn=ai,pu=At,gu=en,bc=0,cs=yc.m,qf=G(cs,1);if(o(Fn,0,0,Bs),qf){var mu=G(cs,1)+1,vu=G(cs,1),wc=G(cs,vu==0?1:8);Fn[wc]=1,mu==2&&(Fn[wc=G(cs,8)]=1);var Ui=1}else{var si=l(19),Ll=G(cs,4)+4;if(19<Ll){yc.a=3;var Ps=0;break r}for(Ds=0;Ds<Ll;++Ds)si[kl[Ds]]=G(cs,3);var Uo=void 0,ro=void 0,Ua=yc,_c=si,Fo=Bs,xc=Fn,Sc=0,us=Ua.m,yu=8,bu=u(128,ae);i:for(;H(bu,0,7,_c,19);){if(G(us,1)){var mh=2+2*G(us,3);if((Uo=2+G(us,mh))>Fo)break i}else Uo=Fo;for(ro=0;ro<Fo&&Uo--;){pe(us);var wu=bu[0+(127&W(us))];ue(us,us.u+wu.g);var Ms=wu.value;if(16>Ms)xc[ro++]=Ms,Ms!=0&&(yu=Ms);else{var vh=Ms==16,yh=Ms-16,bh=Bo[yh],_u=G(us,Yr[yh])+bh;if(ro+_u>Fo)break i;for(var wh=vh?yu:0;0<_u--;)xc[ro++]=wh}}Sc=1;break i}Sc||(Ua.a=3),Ui=Sc}(Ui=Ui&&!cs.h)&&(bc=H(pu,gu,8,Fn,Bs)),Ui&&bc!=0?Ps=bc:(yc.a=3,Ps=0)}if(Ps==0)break n;if(vr&&fc[Ot]==1&&(vr=At[en].g==0),Zr+=At[en].g,en+=Ps,3>=Ot){var ao,Nc=ai[0];for(ao=1;ao<wi;++ao)ai[ao]>Nc&&(Nc=ai[ao]);xi+=Nc}}if(Et.nd=vr,Et.Qb=0,vr&&(Et.qb=(wn[3][jr[3]+0].value<<24|wn[1][jr[1]+0].value<<16|wn[2][jr[2]+0].value)>>>0,Zr==0&&256>wn[0][jr[0]+0].value&&(Et.Qb=1,Et.qb+=wn[0][jr[0]+0].value<<8)),Et.jc=!Et.Qb&&6>xi,Et.jc){var Ol,Fa=Et;for(Ol=0;Ol<js;++Ol){var hs=Ol,fs=Fa.pd[hs],Ac=Fa.G[0][Fa.H[0]+hs];256<=Ac.value?(fs.g=Ac.g+256,fs.value=Ac.value):(fs.g=0,fs.value=0,hs>>=ii(Ac,8,fs),hs>>=ii(Fa.G[1][Fa.H[1]+hs],16,fs),hs>>=ii(Fa.G[2][Fa.H[2]+hs],0,fs),ii(Fa.G[3][Fa.H[3]+hs],24,fs))}}}bi.vc=sn,bi.Wb=yn,bi.Ya=rr,bi.yc=_i,Je=1;break t}Je=0}if(!(P=Je)){E.a=3;break e}if(0<Ne){if(Q.ua=1<<Ne,!K(Q.Wa,Ne)){E.a=1,P=0;break e}}else Q.ua=0;var jc=E,so=q,_h=z,Io=jc.s,zo=Io.xc;if(jc.c=so,jc.i=_h,Io.md=ze(so,zo),Io.wc=zo==0?-1:(1<<zo)-1,x){E.xb=Cs;break e}if((fe=l(q*z))==null){E.a=1,P=0;break e}P=(P=Zi(E,fe,0,q,z,z,null))&&!V.h;break e}return P?(R!=null?R[0]=fe:(e(fe==null),e(x)),E.$=0,x||cr(Q)):cr(Q),P}function Rr(f,v){var x=f.c*f.i,E=x+v+16*v;return e(f.c<=v),f.V=l(E),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+x+v,1)}function se(f,v){var x=f.C,E=v-x,R=f.V,P=f.Ba+f.c*x;for(e(v<=f.l.o);0<E;){var q=16<E?16:E,z=f.l.ma,V=f.l.width,Q=V*q,fe=z.ca,Ne=z.tb+V*x,J=f.Ta,me=f.Ua;Aa(f,q,R,P),qr(J,me,fe,Ne,Q),Hn(z,x,x+q,fe,Ne,V),E-=q,R+=q*f.c,x+=q}e(x==v),f.C=f.Ma=v}function ve(){this.ub=this.yd=this.td=this.Rb=0}function He(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function We(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function mt(){this.Yb=(function(){var f=[];return(function v(x,E,R){for(var P=R[E],q=0;q<P&&(x.push(R.length>E+1?[]:0),!(R.length<E+1));q++)v(x[q],E+1,R)})(f,0,[3,11]),f})()}function tt(){this.jb=l(3),this.Wc=h([4,8],mt),this.Xc=h([4,17],mt)}function pn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function ht(){this.ld=this.La=this.dd=this.tc=0}function Ie(){this.Na=this.la=0}function Ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hr(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ei(){this.uc=this.M=this.Nb=0,this.wa=Array(new ht),this.Y=0,this.ya=Array(new hr),this.aa=0,this.l=new oa}function Wt(){this.y=l(16),this.f=l(8),this.ea=l(8)}function ja(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new ve,this.Kc=new He,this.ed=new pn,this.Qa=new We,this.Ic=this.$c=this.Aa=0,this.D=new Ei,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,Ze),this.Pa=new tt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wt),this.Hd=0,this.rb=Array(new Ie),this.sb=0,this.wa=Array(new ht),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hr),this.L=this.aa=0,this.gd=h([4,2],ht),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sr(f,v){return 0>f?0:f>v?v:f}function oa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function la(){var f=new ja;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ur||(Ur=xs)),f}function xn(f,v,x){return f.a==0&&(f.a=v,f.sc=x,f.cb=0),0}function ll(f,v,x){return 3<=x&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function Ea(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return xn(f,2,"null VP8Io passed to VP8GetHeaders()");var x=v.data,E=v.w,R=v.ha;if(4>R)return xn(f,7,"Truncated header.");var P=x[E+0]|x[E+1]<<8|x[E+2]<<16,q=f.Od;if(q.Rb=!(1&P),q.td=P>>1&7,q.yd=P>>4&1,q.ub=P>>5,3<q.td)return xn(f,3,"Incorrect keyframe parameters.");if(!q.yd)return xn(f,4,"Frame not displayable.");E+=3,R-=3;var z=f.Kc;if(q.Rb){if(7>R)return xn(f,7,"cannot parse picture header");if(!ll(x,E,R))return xn(f,3,"Bad code word");z.c=16383&(x[E+4]<<8|x[E+3]),z.Td=x[E+4]>>6,z.i=16383&(x[E+6]<<8|x[E+5]),z.Ud=x[E+6]>>6,E+=7,R-=7,f.za=z.c+15>>4,f.Ub=z.i+15>>4,v.width=z.c,v.height=z.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,o((P=f.Pa).jb,0,255,P.jb.length),e((P=f.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,o(P.Zb,0,0,P.Zb.length),o(P.Lb,0,0,P.Lb)}if(q.ub>R)return xn(f,7,"bad partition length");ee(P=f.m,x,E,q.ub),E+=q.ub,R-=q.ub,q.Rb&&(z.Ld=je(P),z.Kd=je(P)),z=f.Qa;var V,Q=f.Pa;if(e(P!=null),e(z!=null),z.Cb=je(P),z.Cb){if(z.Bb=je(P),je(P)){for(z.Fb=je(P),V=0;4>V;++V)z.Zb[V]=je(P)?ie(P,7):0;for(V=0;4>V;++V)z.Lb[V]=je(P)?ie(P,6):0}if(z.Bb)for(V=0;3>V;++V)Q.jb[V]=je(P)?X(P,8):255}else z.Bb=0;if(P.Ka)return xn(f,3,"cannot parse segment header");if((z=f.ed).zd=je(P),z.Tb=X(P,6),z.wb=X(P,3),z.Pc=je(P),z.Pc&&je(P)){for(Q=0;4>Q;++Q)je(P)&&(z.vd[Q]=ie(P,6));for(Q=0;4>Q;++Q)je(P)&&(z.od[Q]=ie(P,6))}if(f.L=z.Tb==0?0:z.zd?1:2,P.Ka)return xn(f,3,"cannot parse filter header");var fe=R;if(R=V=E,E=V+fe,z=fe,f.Xb=(1<<X(f.m,2))-1,fe<3*(Q=f.Xb))x=7;else{for(V+=3*Q,z-=3*Q,fe=0;fe<Q;++fe){var Ne=x[R+0]|x[R+1]<<8|x[R+2]<<16;Ne>z&&(Ne=z),ee(f.Jc[+fe],x,V,Ne),V+=Ne,z-=Ne,R+=3}ee(f.Jc[+Q],x,V,z),x=V<E?0:5}if(x!=0)return xn(f,x,"cannot parse partitions");for(x=X(V=f.m,7),R=je(V)?ie(V,4):0,E=je(V)?ie(V,4):0,z=je(V)?ie(V,4):0,Q=je(V)?ie(V,4):0,V=je(V)?ie(V,4):0,fe=f.Qa,Ne=0;4>Ne;++Ne){if(fe.Cb){var J=fe.Zb[Ne];fe.Fb||(J+=x)}else{if(0<Ne){f.pb[Ne]=f.pb[0];continue}J=x}var me=f.pb[Ne];me.Sc[0]=Jr[Sr(J+R,127)],me.Sc[1]=Xr[Sr(J+0,127)],me.Eb[0]=2*Jr[Sr(J+E,127)],me.Eb[1]=101581*Xr[Sr(J+z,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Jr[Sr(J+Q,117)],me.Qc[1]=Xr[Sr(J+V,127)],me.lc=J+V}if(!q.Rb)return xn(f,4,"Not a key frame.");for(je(P),q=f.Pa,x=0;4>x;++x){for(R=0;8>R;++R)for(E=0;3>E;++E)for(z=0;11>z;++z)Q=Be(P,$n[x][R][E][z])?X(P,8):ph[x][R][E][z],q.Wc[x][R].Yb[E][z]=Q;for(R=0;17>R;++R)q.Xc[x][R]=q.Wc[x][cn[R]]}return f.kc=je(P),f.kc&&(f.Bd=X(P,8)),f.cb=1}function xs(f,v,x,E,R,P,q){var z=v[R].Yb[x];for(x=0;16>R;++R){if(!Be(f,z[x+0]))return R;for(;!Be(f,z[x+1]);)if(z=v[++R].Yb[0],x=0,R==16)return 16;var V=v[R+1].Yb;if(Be(f,z[x+2])){var Q=f,fe=0;if(Be(Q,(J=z)[(Ne=x)+3]))if(Be(Q,J[Ne+6])){for(z=0,Ne=2*(fe=Be(Q,J[Ne+8]))+(J=Be(Q,J[Ne+9+fe])),fe=0,J=dh[Ne];J[z];++z)fe+=fe+Be(Q,J[z]);fe+=3+(8<<Ne)}else Be(Q,J[Ne+7])?(fe=7+2*Be(Q,165),fe+=Be(Q,145)):fe=5+Be(Q,159);else fe=Be(Q,J[Ne+4])?3+Be(Q,J[Ne+5]):2;z=V[2]}else fe=1,z=V[1];V=q+hu[R],0>(Q=f).b&&ke(Q);var Ne,J=Q.b,me=(Ne=Q.Ca>>1)-(Q.I>>J)>>31;--Q.b,Q.Ca+=me,Q.Ca|=1,Q.I-=(Ne+1&me)<<J,P[V]=((fe^me)-me)*E[(0<R)+0]}return 16}function cl(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,o(f.zc,0,0,f.zc.length),f.ja=0}function fr(f,v,x,E,R){R=f[v+x+32*E]+(R>>3),f[v+x+32*E]=-256&R?0>R?0:255:R}function ki(f,v,x,E,R,P){fr(f,v,0,x,E+R),fr(f,v,1,x,E+P),fr(f,v,2,x,E-P),fr(f,v,3,x,E-R)}function mi(f){return(20091*f>>16)+f}function xo(f,v,x,E){var R,P=0,q=l(16);for(R=0;4>R;++R){var z=f[v+0]+f[v+8],V=f[v+0]-f[v+8],Q=(35468*f[v+4]>>16)-mi(f[v+12]),fe=mi(f[v+4])+(35468*f[v+12]>>16);q[P+0]=z+fe,q[P+1]=V+Q,q[P+2]=V-Q,q[P+3]=z-fe,P+=4,v++}for(R=P=0;4>R;++R)z=(f=q[P+0]+4)+q[P+8],V=f-q[P+8],Q=(35468*q[P+4]>>16)-mi(q[P+12]),fr(x,E,0,0,z+(fe=mi(q[P+4])+(35468*q[P+12]>>16))),fr(x,E,1,0,V+Q),fr(x,E,2,0,V-Q),fr(x,E,3,0,z-fe),P++,E+=32}function Jl(f,v,x,E){var R=f[v+0]+4,P=35468*f[v+4]>>16,q=mi(f[v+4]),z=35468*f[v+1]>>16;ki(x,E,0,R+q,f=mi(f[v+1]),z),ki(x,E,1,R+P,f,z),ki(x,E,2,R-P,f,z),ki(x,E,3,R-q,f,z)}function ul(f,v,x,E,R){xo(f,v,x,E),R&&xo(f,v+16,x,E+4)}function dr(f,v,x,E){ss(f,v+0,x,E,1),ss(f,v+32,x,E+128,1)}function hl(f,v,x,E){var R;for(f=f[v+0]+4,R=0;4>R;++R)for(v=0;4>v;++v)fr(x,E,v,R,f)}function fl(f,v,x,E){f[v+0]&&Sn(f,v+0,x,E),f[v+16]&&Sn(f,v+16,x,E+4),f[v+32]&&Sn(f,v+32,x,E+128),f[v+48]&&Sn(f,v+48,x,E+128+4)}function ca(f,v,x,E){var R,P=l(16);for(R=0;4>R;++R){var q=f[v+0+R]+f[v+12+R],z=f[v+4+R]+f[v+8+R],V=f[v+4+R]-f[v+8+R],Q=f[v+0+R]-f[v+12+R];P[0+R]=q+z,P[8+R]=q-z,P[4+R]=Q+V,P[12+R]=Q-V}for(R=0;4>R;++R)q=(f=P[0+4*R]+3)+P[3+4*R],z=P[1+4*R]+P[2+4*R],V=P[1+4*R]-P[2+4*R],Q=f-P[3+4*R],x[E+0]=q+z>>3,x[E+16]=Q+V>>3,x[E+32]=q-z>>3,x[E+48]=Q-V>>3,E+=64}function $s(f,v,x){var E,R=v-32,P=tr,q=255-f[R-1];for(E=0;E<x;++E){var z,V=P,Q=q+f[v-1];for(z=0;z<x;++z)f[v+z]=V[Q+f[R+z]];v+=32}}function Xl(f,v){$s(f,v,4)}function Ql(f,v){$s(f,v,8)}function dl(f,v){$s(f,v,16)}function pl(f,v){var x;for(x=0;16>x;++x)a(f,v+32*x,f,v-32,16)}function Zl(f,v){var x;for(x=16;0<x;--x)o(f,v,f[v-1],16),v+=32}function Nr(f,v,x){var E;for(E=0;16>E;++E)o(v,x+32*E,f,16)}function ua(f,v){var x,E=16;for(x=0;16>x;++x)E+=f[v-1+32*x]+f[v+x-32];Nr(E>>5,f,v)}function $a(f,v){var x,E=8;for(x=0;16>x;++x)E+=f[v-1+32*x];Nr(E>>4,f,v)}function Gs(f,v){var x,E=8;for(x=0;16>x;++x)E+=f[v+x-32];Nr(E>>4,f,v)}function Ss(f,v){Nr(128,f,v)}function Lt(f,v,x){return f+2*v+x+2>>2}function ec(f,v){var x,E=v-32;for(E=new Uint8Array([Lt(f[E-1],f[E+0],f[E+1]),Lt(f[E+0],f[E+1],f[E+2]),Lt(f[E+1],f[E+2],f[E+3]),Lt(f[E+2],f[E+3],f[E+4])]),x=0;4>x;++x)a(f,v+32*x,E,0,E.length)}function gl(f,v){var x=f[v-1],E=f[v-1+32],R=f[v-1+64],P=f[v-1+96];Ge(f,v+0,16843009*Lt(f[v-1-32],x,E)),Ge(f,v+32,16843009*Lt(x,E,R)),Ge(f,v+64,16843009*Lt(E,R,P)),Ge(f,v+96,16843009*Lt(R,P,P))}function tc(f,v){var x,E=4;for(x=0;4>x;++x)E+=f[v+x-32]+f[v-1+32*x];for(E>>=3,x=0;4>x;++x)o(f,v+32*x,E,4)}function Dr(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],P=f[v-1-32],q=f[v+0-32],z=f[v+1-32],V=f[v+2-32],Q=f[v+3-32];f[v+0+96]=Lt(E,R,f[v-1+96]),f[v+1+96]=f[v+0+64]=Lt(x,E,R),f[v+2+96]=f[v+1+64]=f[v+0+32]=Lt(P,x,E),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Lt(q,P,x),f[v+3+64]=f[v+2+32]=f[v+1+0]=Lt(z,q,P),f[v+3+32]=f[v+2+0]=Lt(V,z,q),f[v+3+0]=Lt(Q,V,z)}function Hi(f,v){var x=f[v+1-32],E=f[v+2-32],R=f[v+3-32],P=f[v+4-32],q=f[v+5-32],z=f[v+6-32],V=f[v+7-32];f[v+0+0]=Lt(f[v+0-32],x,E),f[v+1+0]=f[v+0+32]=Lt(x,E,R),f[v+2+0]=f[v+1+32]=f[v+0+64]=Lt(E,R,P),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Lt(R,P,q),f[v+3+32]=f[v+2+64]=f[v+1+96]=Lt(P,q,z),f[v+3+64]=f[v+2+96]=Lt(q,z,V),f[v+3+96]=Lt(z,V,V)}function ml(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],P=f[v-1-32],q=f[v+0-32],z=f[v+1-32],V=f[v+2-32],Q=f[v+3-32];f[v+0+0]=f[v+1+64]=P+q+1>>1,f[v+1+0]=f[v+2+64]=q+z+1>>1,f[v+2+0]=f[v+3+64]=z+V+1>>1,f[v+3+0]=V+Q+1>>1,f[v+0+96]=Lt(R,E,x),f[v+0+64]=Lt(E,x,P),f[v+0+32]=f[v+1+96]=Lt(x,P,q),f[v+1+32]=f[v+2+96]=Lt(P,q,z),f[v+2+32]=f[v+3+96]=Lt(q,z,V),f[v+3+32]=Lt(z,V,Q)}function Vs(f,v){var x=f[v+0-32],E=f[v+1-32],R=f[v+2-32],P=f[v+3-32],q=f[v+4-32],z=f[v+5-32],V=f[v+6-32],Q=f[v+7-32];f[v+0+0]=x+E+1>>1,f[v+1+0]=f[v+0+64]=E+R+1>>1,f[v+2+0]=f[v+1+64]=R+P+1>>1,f[v+3+0]=f[v+2+64]=P+q+1>>1,f[v+0+32]=Lt(x,E,R),f[v+1+32]=f[v+0+96]=Lt(E,R,P),f[v+2+32]=f[v+1+96]=Lt(R,P,q),f[v+3+32]=f[v+2+96]=Lt(P,q,z),f[v+3+64]=Lt(q,z,V),f[v+3+96]=Lt(z,V,Q)}function Br(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],P=f[v-1+96];f[v+0+0]=x+E+1>>1,f[v+2+0]=f[v+0+32]=E+R+1>>1,f[v+2+32]=f[v+0+64]=R+P+1>>1,f[v+1+0]=Lt(x,E,R),f[v+3+0]=f[v+1+32]=Lt(E,R,P),f[v+3+32]=f[v+1+64]=Lt(R,P,P),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=P}function Ys(f,v){var x=f[v-1+0],E=f[v-1+32],R=f[v-1+64],P=f[v-1+96],q=f[v-1-32],z=f[v+0-32],V=f[v+1-32],Q=f[v+2-32];f[v+0+0]=f[v+2+32]=x+q+1>>1,f[v+0+32]=f[v+2+64]=E+x+1>>1,f[v+0+64]=f[v+2+96]=R+E+1>>1,f[v+0+96]=P+R+1>>1,f[v+3+0]=Lt(z,V,Q),f[v+2+0]=Lt(q,z,V),f[v+1+0]=f[v+3+32]=Lt(x,q,z),f[v+1+32]=f[v+3+64]=Lt(E,x,q),f[v+1+64]=f[v+3+96]=Lt(R,E,x),f[v+1+96]=Lt(P,R,E)}function ka(f,v){var x;for(x=0;8>x;++x)a(f,v+32*x,f,v-32,8)}function nc(f,v){var x;for(x=0;8>x;++x)o(f,v,f[v-1],8),v+=32}function zr(f,v,x){var E;for(E=0;8>E;++E)o(v,x+32*E,f,8)}function So(f,v){var x,E=8;for(x=0;8>x;++x)E+=f[v+x-32]+f[v-1+32*x];zr(E>>4,f,v)}function No(f,v){var x,E=4;for(x=0;8>x;++x)E+=f[v+x-32];zr(E>>3,f,v)}function Mi(f,v){var x,E=4;for(x=0;8>x;++x)E+=f[v-1+32*x];zr(E>>3,f,v)}function Ca(f,v){zr(128,f,v)}function Hr(f,v,x){var E=f[v-x],R=f[v+0],P=3*(R-E)+os[1020+f[v-2*x]-f[v+x]],q=Al[112+(P+4>>3)];f[v-x]=tr[255+E+Al[112+(P+3>>3)]],f[v+0]=tr[255+R-q]}function Ga(f,v,x,E){var R=f[v+0],P=f[v+x];return Vi[255+f[v-2*x]-f[v-x]]>E||Vi[255+P-R]>E}function Ao(f,v,x,E){return 4*Vi[255+f[v-x]-f[v+0]]+Vi[255+f[v-2*x]-f[v+x]]<=E}function Ws(f,v,x,E,R){var P=f[v-3*x],q=f[v-2*x],z=f[v-x],V=f[v+0],Q=f[v+x],fe=f[v+2*x],Ne=f[v+3*x];return 4*Vi[255+z-V]+Vi[255+q-Q]>E?0:Vi[255+f[v-4*x]-P]<=R&&Vi[255+P-q]<=R&&Vi[255+q-z]<=R&&Vi[255+Ne-fe]<=R&&Vi[255+fe-Q]<=R&&Vi[255+Q-V]<=R}function Va(f,v,x,E){var R=2*E+1;for(E=0;16>E;++E)Ao(f,v+E,x,R)&&Hr(f,v+E,x)}function Ya(f,v,x,E){var R=2*E+1;for(E=0;16>E;++E)Ao(f,v+E*x,1,R)&&Hr(f,v+E*x,1)}function Ks(f,v,x,E){var R;for(R=3;0<R;--R)Va(f,v+=4*x,x,E)}function vl(f,v,x,E){var R;for(R=3;0<R;--R)Ya(f,v+=4,x,E)}function Wa(f,v,x,E,R,P,q,z){for(P=2*P+1;0<R--;){if(Ws(f,v,x,P,q))if(Ga(f,v,x,z))Hr(f,v,x);else{var V=f,Q=v,fe=x,Ne=V[Q-2*fe],J=V[Q-fe],me=V[Q+0],_e=V[Q+fe],Re=V[Q+2*fe],Se=27*(Me=os[1020+3*(me-J)+os[1020+Ne-_e]])+63>>7,Oe=18*Me+63>>7,Me=9*Me+63>>7;V[Q-3*fe]=tr[255+V[Q-3*fe]+Me],V[Q-2*fe]=tr[255+Ne+Oe],V[Q-fe]=tr[255+J+Se],V[Q+0]=tr[255+me-Se],V[Q+fe]=tr[255+_e-Oe],V[Q+2*fe]=tr[255+Re-Me]}v+=E}}function Ka(f,v,x,E,R,P,q,z){for(P=2*P+1;0<R--;){if(Ws(f,v,x,P,q))if(Ga(f,v,x,z))Hr(f,v,x);else{var V=f,Q=v,fe=x,Ne=V[Q-fe],J=V[Q+0],me=V[Q+fe],_e=Al[112+(4+(Re=3*(J-Ne))>>3)],Re=Al[112+(Re+3>>3)],Se=_e+1>>1;V[Q-2*fe]=tr[255+V[Q-2*fe]+Se],V[Q-fe]=tr[255+Ne+Re],V[Q+0]=tr[255+J-_e],V[Q+fe]=tr[255+me-Se]}v+=E}}function ic(f,v,x,E,R,P){Wa(f,v,x,1,16,E,R,P)}function Ja(f,v,x,E,R,P){Wa(f,v,1,x,16,E,R,P)}function rc(f,v,x,E,R,P){var q;for(q=3;0<q;--q)Ka(f,v+=4*x,x,1,16,E,R,P)}function _(f,v,x,E,R,P){var q;for(q=3;0<q;--q)Ka(f,v+=4,1,x,16,E,R,P)}function O(f,v,x,E,R,P,q,z){Wa(f,v,R,1,8,P,q,z),Wa(x,E,R,1,8,P,q,z)}function Z(f,v,x,E,R,P,q,z){Wa(f,v,1,R,8,P,q,z),Wa(x,E,1,R,8,P,q,z)}function he(f,v,x,E,R,P,q,z){Ka(f,v+4*R,R,1,8,P,q,z),Ka(x,E+4*R,R,1,8,P,q,z)}function ye(f,v,x,E,R,P,q,z){Ka(f,v+4,1,R,8,P,q,z),Ka(x,E+4,1,R,8,P,q,z)}function Pe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new Vt,this.vb=new Vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new ae}function Pt(){this.xb=this.a=0,this.l=new oa,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=u(4,st),this.Oc=0}function Kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gn(f,v,x,E,R,P,q){for(f=f==null?0:f[v+0],v=0;v<q;++v)R[P+v]=f+x[E+v]&255,f=R[P+v]}function Xn(f,v,x,E,R,P,q){var z;if(f==null)gn(null,null,x,E,R,P,q);else for(z=0;z<q;++z)R[P+z]=f[v+z]+x[E+z]&255}function ci(f,v,x,E,R,P,q){if(f==null)gn(null,null,x,E,R,P,q);else{var z,V=f[v+0],Q=V,fe=V;for(z=0;z<q;++z)Q=fe+(V=f[v+z])-Q,fe=x[E+z]+(-256&Q?0>Q?0:255:Q)&255,Q=V,R[P+z]=fe}}function Mn(f,v,x,E){var R=v.width,P=v.o;if(e(f!=null&&v!=null),0>x||0>=E||x+E>P)return null;if(!f.Cc){if(f.ga==null){var q;if(f.ga=new Kt,(q=f.ga==null)||(q=v.width*v.o,e(f.Gb.length==0),f.Gb=l(q),f.Uc=0,f.Gb==null?q=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,q=1),q=!q),!q){q=f.ga;var z=f.Fa,V=f.P,Q=f.qc,fe=f.mb,Ne=f.nb,J=V+1,me=Q-1,_e=q.l;if(e(z!=null&&fe!=null&&v!=null),ls[0]=null,ls[1]=gn,ls[2]=Xn,ls[3]=ci,q.ca=fe,q.tb=Ne,q.c=v.width,q.i=v.height,e(0<q.c&&0<q.i),1>=Q)v=0;else if(q.$a=3&z[V+0],q.Z=z[V+0]>>2&3,q.Lc=z[V+0]>>4&3,V=z[V+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||V)v=0;else if(_e.put=bt,_e.ac=xr,_e.bc=sa,_e.ma=q,_e.width=v.width,_e.height=v.height,_e.Da=v.Da,_e.v=v.v,_e.va=v.va,_e.j=v.j,_e.o=v.o,q.$a)e:{e(q.$a==1),v=Jn();t:for(;;){if(v==null){v=0;break e}if(e(q!=null),q.mc=v,v.c=q.c,v.i=q.i,v.l=q.l,v.l.ma=q,v.l.width=q.c,v.l.height=q.i,v.a=0,xe(v.m,z,J,me),!ur(q.c,q.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&_n(v.s)?(q.ic=1,z=v.c*v.i,v.Ta=null,v.Ua=0,v.V=l(z),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(q.ic=0,v=Rr(v,q.c)),!v))break t;v=1;break e}q.mc=null,v=0}else v=me>=q.c*q.i;q=!v}if(q)return null;f.ga.Lc!=1?f.Ga=0:E=P-x}e(f.ga!=null),e(x+E<=P);e:{if(v=(z=f.ga).c,P=z.l.o,z.$a==0){if(J=f.rc,me=f.Vc,_e=f.Fa,V=f.P+1+x*v,Q=f.mb,fe=f.nb+x*v,e(V<=f.P+f.qc),z.Z!=0)for(e(ls[z.Z]!=null),q=0;q<E;++q)ls[z.Z](J,me,_e,V,Q,fe,v),J=Q,me=fe,fe+=v,V+=v;else for(q=0;q<E;++q)a(Q,fe,_e,V,v),J=Q,me=fe,fe+=v,V+=v;f.rc=J,f.Vc=me}else{if(e(z.mc!=null),v=x+E,e((q=z.mc)!=null),e(v<=q.i),q.C>=v)v=1;else if(z.ic||ha(),z.ic){z=q.V,J=q.Ba,me=q.c;var Re=q.i,Se=(_e=1,V=q.$/me,Q=q.$%me,fe=q.m,Ne=q.s,q.$),Oe=me*Re,Me=me*v,Ve=Ne.wc,Fe=Se<Me?gi(Ne,Q,V):null;e(Se<=Oe),e(v<=Re),e(_n(Ne));t:for(;;){for(;!fe.h&&Se<Me;){if(Q&Ve||(Fe=gi(Ne,Q,V)),e(Fe!=null),pe(fe),256>(Re=Pn(Fe.G[0],Fe.H[0],fe)))z[J+Se]=Re,++Se,++Q>=me&&(Q=0,++V<=v&&!(V%16)&&Pi(q,V));else{if(!(280>Re)){_e=0;break t}Re=or(Re-256,fe);var lt,nt=Pn(Fe.G[4],Fe.H[4],fe);if(pe(fe),!(Se>=(nt=lr(me,nt=or(nt,fe)))&&Oe-Se>=Re)){_e=0;break t}for(lt=0;lt<Re;++lt)z[J+Se+lt]=z[J+Se+lt-nt];for(Se+=Re,Q+=Re;Q>=me;)Q-=me,++V<=v&&!(V%16)&&Pi(q,V);Se<Me&&Q&Ve&&(Fe=gi(Ne,Q,V))}e(fe.h==ne(fe))}Pi(q,V>v?v:V);break t}!_e||fe.h&&Se<Oe?(_e=0,q.a=fe.h?5:3):q.$=Se,v=_e}else v=Zi(q,q.V,q.Ba,q.c,q.i,v,se);if(!v){E=0;break e}}x+E>=P&&(f.Cc=1),E=1}if(!E)return null;if(f.Cc&&((E=f.ga)!=null&&(E.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+x*R}function Ci(f,v,x,E,R,P){for(;0<R--;){var q,z=f,V=v+(x?1:0),Q=f,fe=v+(x?0:3);for(q=0;q<E;++q){var Ne=Q[fe+4*q];Ne!=255&&(Ne*=32897,z[V+4*q+0]=z[V+4*q+0]*Ne>>23,z[V+4*q+1]=z[V+4*q+1]*Ne>>23,z[V+4*q+2]=z[V+4*q+2]*Ne>>23)}v+=P}}function vi(f,v,x,E,R){for(;0<E--;){var P;for(P=0;P<x;++P){var q=f[v+2*P+0],z=15&(Q=f[v+2*P+1]),V=4369*z,Q=(240&Q|Q>>4)*V>>16;f[v+2*P+0]=(240&q|q>>4)*V>>16&240|(15&q|q<<4)*V>>16>>4&15,f[v+2*P+1]=240&Q|z}v+=R}}function $i(f,v,x,E,R,P,q,z){var V,Q,fe=255;for(Q=0;Q<R;++Q){for(V=0;V<E;++V){var Ne=f[v+V];P[q+4*V]=Ne,fe&=Ne}v+=x,q+=z}return fe!=255}function Xa(f,v,x,E,R){var P;for(P=0;P<R;++P)x[E+P]=f[v+P]>>8}function ha(){Zs=Ci,Gr=vi,xl=$i,qr=Xa}function Qa(f,v,x){Y[f]=function(E,R,P,q,z,V,Q,fe,Ne,J,me,_e,Re,Se,Oe,Me,Ve){var Fe,lt=Ve-1>>1,nt=z[V+0]|Q[fe+0]<<16,zt=Ne[J+0]|me[_e+0]<<16;e(E!=null);var at=3*nt+zt+131074>>2;for(v(E[R+0],255&at,at>>16,Re,Se),P!=null&&(at=3*zt+nt+131074>>2,v(P[q+0],255&at,at>>16,Oe,Me)),Fe=1;Fe<=lt;++Fe){var on=z[V+Fe]|Q[fe+Fe]<<16,Gn=Ne[J+Fe]|me[_e+Fe]<<16,Jt=nt+on+zt+Gn+524296,it=Jt+2*(on+zt)>>3;at=it+nt>>1,nt=(Jt=Jt+2*(nt+Gn)>>3)+on>>1,v(E[R+2*Fe-1],255&at,at>>16,Re,Se+(2*Fe-1)*x),v(E[R+2*Fe-0],255&nt,nt>>16,Re,Se+(2*Fe-0)*x),P!=null&&(at=Jt+zt>>1,nt=it+Gn>>1,v(P[q+2*Fe-1],255&at,at>>16,Oe,Me+(2*Fe-1)*x),v(P[q+2*Fe+0],255&nt,nt>>16,Oe,Me+(2*Fe+0)*x)),nt=on,zt=Gn}1&Ve||(at=3*nt+zt+131074>>2,v(E[R+Ve-1],255&at,at>>16,Re,Se+(Ve-1)*x),P!=null&&(at=3*zt+nt+131074>>2,v(P[q+Ve-1],255&at,at>>16,Oe,Me+(Ve-1)*x)))}}function yl(){Wi[lc]=no,Wi[nr]=Po,Wi[cc]=du,Wi[Vr]=pc,Wi[jl]=Ts,Wi[Ro]=qa,Wi[Es]=Ls,Wi[El]=Po,Wi[uc]=pc,Wi[Do]=Ts,Wi[hc]=qa}function jo(f){return f&-16384?0>f?0:255:f>>gc}function Ta(f,v){return jo((19077*f>>8)+(26149*v>>8)-14234)}function fa(f,v,x){return jo((19077*f>>8)-(6419*v>>8)-(13320*x>>8)+8708)}function Js(f,v){return jo((19077*f>>8)+(33050*v>>8)-17685)}function Za(f,v,x,E,R){E[R+0]=Ta(f,x),E[R+1]=fa(f,v,x),E[R+2]=Js(f,v)}function qi(f,v,x,E,R){E[R+0]=Js(f,v),E[R+1]=fa(f,v,x),E[R+2]=Ta(f,x)}function Ns(f,v,x,E,R){var P=fa(f,v,x);v=P<<3&224|Js(f,v)>>3,E[R+0]=248&Ta(f,x)|P>>5,E[R+1]=v}function As(f,v,x,E,R){var P=240&Js(f,v)|15;E[R+0]=240&Ta(f,x)|fa(f,v,x)>>4,E[R+1]=P}function Eo(f,v,x,E,R){E[R+0]=255,Za(f,v,x,E,R+1)}function La(f,v,x,E,R){qi(f,v,x,E,R),E[R+3]=255}function pr(f,v,x,E,R){Za(f,v,x,E,R),E[R+3]=255}function es(f,v,x){Y[f]=function(E,R,P,q,z,V,Q,fe,Ne){for(var J=fe+(-2&Ne)*x;fe!=J;)v(E[R+0],P[q+0],z[V+0],Q,fe),v(E[R+1],P[q+0],z[V+0],Q,fe+x),R+=2,++q,++V,fe+=2*x;1&Ne&&v(E[R+0],P[q+0],z[V+0],Q,fe)}}function ko(f,v,x){return x==0?f==0?v==0?6:5:v==0?4:0:x}function bl(f,v,x,E,R){switch(f>>>30){case 3:ss(v,x,E,R,0);break;case 2:er(v,x,E,R);break;case 1:Sn(v,x,E,R)}}function Pr(f,v){var x,E,R=v.M,P=v.Nb,q=f.oc,z=f.pc+40,V=f.oc,Q=f.pc+584,fe=f.oc,Ne=f.pc+600;for(x=0;16>x;++x)q[z+32*x-1]=129;for(x=0;8>x;++x)V[Q+32*x-1]=129,fe[Ne+32*x-1]=129;for(0<R?q[z-1-32]=V[Q-1-32]=fe[Ne-1-32]=129:(o(q,z-32-1,127,21),o(V,Q-32-1,127,9),o(fe,Ne-32-1,127,9)),E=0;E<f.za;++E){var J=v.ya[v.aa+E];if(0<E){for(x=-1;16>x;++x)a(q,z+32*x-4,q,z+32*x+12,4);for(x=-1;8>x;++x)a(V,Q+32*x-4,V,Q+32*x+4,4),a(fe,Ne+32*x-4,fe,Ne+32*x+4,4)}var me=f.Gd,_e=f.Hd+E,Re=J.ad,Se=J.Hc;if(0<R&&(a(q,z-32,me[_e].y,0,16),a(V,Q-32,me[_e].f,0,8),a(fe,Ne-32,me[_e].ea,0,8)),J.Za){var Oe=q,Me=z-32+16;for(0<R&&(E>=f.za-1?o(Oe,Me,me[_e].y[15],4):a(Oe,Me,me[_e+1].y,0,4)),x=0;4>x;x++)Oe[Me+128+x]=Oe[Me+256+x]=Oe[Me+384+x]=Oe[Me+0+x];for(x=0;16>x;++x,Se<<=2)Oe=q,Me=z+fi[x],ri[J.Ob[x]](Oe,Me),bl(Se,Re,16*+x,Oe,Me)}else if(Oe=ko(E,R,J.Ob[0]),mr[Oe](q,z),Se!=0)for(x=0;16>x;++x,Se<<=2)bl(Se,Re,16*+x,q,z+fi[x]);for(x=J.Gc,Oe=ko(E,R,J.Dd),ma[Oe](V,Q),ma[Oe](fe,Ne),Se=Re,Oe=V,Me=Q,255&(J=0|x)&&(170&J?$r(Se,256,Oe,Me):mn(Se,256,Oe,Me)),J=fe,Se=Ne,255&(x>>=8)&&(170&x?$r(Re,320,J,Se):mn(Re,320,J,Se)),R<f.Ub-1&&(a(me[_e].y,0,q,z+480,16),a(me[_e].f,0,V,Q+224,8),a(me[_e].ea,0,fe,Ne+224,8)),x=8*P*f.B,me=f.sa,_e=f.ta+16*E+16*P*f.R,Re=f.qa,J=f.ra+8*E+x,Se=f.Ha,Oe=f.Ia+8*E+x,x=0;16>x;++x)a(me,_e+x*f.R,q,z+32*x,16);for(x=0;8>x;++x)a(Re,J+x*f.B,V,Q+32*x,8),a(Se,Oe+x*f.B,fe,Ne+32*x,8)}}function da(f,v,x,E,R,P,q,z,V){var Q=[0],fe=[0],Ne=0,J=V!=null?V.kd:0,me=V??new $e;if(f==null||12>x)return 7;me.data=f,me.w=v,me.ha=x,v=[v],x=[x],me.gb=[me.gb];e:{var _e=v,Re=x,Se=me.gb;if(e(f!=null),e(Re!=null),e(Se!=null),Se[0]=0,12<=Re[0]&&!n(f,_e[0],"RIFF")){if(n(f,_e[0]+8,"WEBP")){Se=3;break e}var Oe=rt(f,_e[0]+4);if(12>Oe||4294967286<Oe){Se=3;break e}if(J&&Oe>Re[0]-8){Se=7;break e}Se[0]=Oe,_e[0]+=12,Re[0]-=12}Se=0}if(Se!=0)return Se;for(Oe=0<me.gb[0],x=x[0];;){e:{var Me=f;Re=v,Se=x;var Ve=Q,Fe=fe,lt=_e=[0];if((at=Ne=[Ne])[0]=0,8>Se[0])Se=7;else{if(!n(Me,Re[0],"VP8X")){if(rt(Me,Re[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var nt=rt(Me,Re[0]+8),zt=1+Xe(Me,Re[0]+12);if(2147483648<=zt*(Me=1+Xe(Me,Re[0]+15))){Se=3;break e}lt!=null&&(lt[0]=nt),Ve!=null&&(Ve[0]=zt),Fe!=null&&(Fe[0]=Me),Re[0]+=18,Se[0]-=18,at[0]=1}Se=0}}if(Ne=Ne[0],_e=_e[0],Se!=0)return Se;if(Re=!!(2&_e),!Oe&&Ne)return 3;if(P!=null&&(P[0]=!!(16&_e)),q!=null&&(q[0]=Re),z!=null&&(z[0]=0),q=Q[0],_e=fe[0],Ne&&Re&&V==null){Se=0;break}if(4>x){Se=7;break}if(Oe&&Ne||!Oe&&!Ne&&!n(f,v[0],"ALPH")){x=[x],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{nt=f,Se=v,Oe=x;var at=me.gb;Ve=me.na,Fe=me.P,lt=me.Sa,zt=22,e(nt!=null),e(Oe!=null),Me=Se[0];var on=Oe[0];for(e(Ve!=null),e(lt!=null),Ve[0]=null,Fe[0]=null,lt[0]=0;;){if(Se[0]=Me,Oe[0]=on,8>on){Se=7;break e}var Gn=rt(nt,Me+4);if(4294967286<Gn){Se=3;break e}var Jt=8+Gn+1&-2;if(zt+=Jt,0<at&&zt>at){Se=3;break e}if(!n(nt,Me,"VP8 ")||!n(nt,Me,"VP8L")){Se=0;break e}if(on[0]<Jt){Se=7;break e}n(nt,Me,"ALPH")||(Ve[0]=nt,Fe[0]=Me+8,lt[0]=Gn),Me+=Jt,on-=Jt}}if(x=x[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],Se!=0)break}x=[x],me.Ja=[me.Ja],me.xa=[me.xa];e:if(at=f,Se=v,Oe=x,Ve=me.gb[0],Fe=me.Ja,lt=me.xa,nt=Se[0],Me=!n(at,nt,"VP8 "),zt=!n(at,nt,"VP8L"),e(at!=null),e(Oe!=null),e(Fe!=null),e(lt!=null),8>Oe[0])Se=7;else{if(Me||zt){if(at=rt(at,nt+4),12<=Ve&&at>Ve-12){Se=3;break e}if(J&&at>Oe[0]-8){Se=7;break e}Fe[0]=at,Se[0]+=8,Oe[0]-=8,lt[0]=zt}else lt[0]=5<=Oe[0]&&at[nt+0]==47&&!(at[nt+4]>>5),Fe[0]=Oe[0];Se=0}if(x=x[0],me.Ja=me.Ja[0],me.xa=me.xa[0],v=v[0],Se!=0)break;if(4294967286<me.Ja)return 3;if(z==null||Re||(z[0]=me.xa?2:1),q=[q],_e=[_e],me.xa){if(5>x){Se=7;break}z=q,J=_e,Re=P,f==null||5>x?f=0:5<=x&&f[v+0]==47&&!(f[v+4]>>5)?(Oe=[0],at=[0],Ve=[0],xe(Fe=new I,f,v,x),Ir(Fe,Oe,at,Ve)?(z!=null&&(z[0]=Oe[0]),J!=null&&(J[0]=at[0]),Re!=null&&(Re[0]=Ve[0]),f=1):f=0):f=0}else{if(10>x){Se=7;break}z=_e,f==null||10>x||!ll(f,v+3,x-3)?f=0:(J=f[v+0]|f[v+1]<<8|f[v+2]<<16,Re=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=me.Ja||!Re||!f?f=0:(q&&(q[0]=Re),z&&(z[0]=f),f=1))}if(!f||(q=q[0],_e=_e[0],Ne&&(Q[0]!=q||fe[0]!=_e)))return 3;V!=null&&(V[0]=me,V.offset=v-V.w,e(4294967286>v-V.w),e(V.offset==V.ha-x));break}return Se==0||Se==7&&Ne&&V==null?(P!=null&&(P[0]|=me.na!=null&&0<me.na.length),E!=null&&(E[0]=q),R!=null&&(R[0]=_e),0):Se}function ts(f,v,x){var E=v.width,R=v.height,P=0,q=0,z=E,V=R;if(v.Da=f!=null&&0<f.Da,v.Da&&(z=f.cd,V=f.bd,P=f.v,q=f.j,11>x||(P&=-2,q&=-2),0>P||0>q||0>=z||0>=V||P+z>E||q+V>R))return 0;if(v.v=P,v.j=q,v.va=P+z,v.o=q+V,v.U=z,v.T=V,v.da=f!=null&&0<f.da,v.da){if(!vt(z,V,x=[f.ib],P=[f.hb]))return 0;v.ib=x[0],v.hb=P[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*E/4&&v.hb<3*R/4,v.Kb=0),1}function wl(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function pa(f,v,x,E){if(E==null||0>=f||0>=v)return 2;if(x!=null){if(x.Da){var R=x.cd,P=x.bd,q=-2&x.v,z=-2&x.j;if(0>q||0>z||0>=R||0>=P||q+R>f||z+P>v)return 2;f=R,v=P}if(x.da){if(!vt(f,v,R=[x.ib],P=[x.hb]))return 2;f=R[0],v=P[0]}}E.width=f,E.height=v;e:{var V=E.width,Q=E.height;if(f=E.S,0>=V||0>=Q||!(f>=lc&&13>f))f=2;else{if(0>=E.Rd&&E.sd==null){q=P=R=v=0;var fe=(z=V*vc[f])*Q;if(11>f||(P=(Q+1)/2*(v=(V+1)/2),f==12&&(q=(R=V)*Q)),(Q=l(fe+2*P+q))==null){f=1;break e}E.sd=Q,11>f?((V=E.f.RGBA).eb=Q,V.fb=0,V.A=z,V.size=fe):((V=E.f.kb).y=Q,V.O=0,V.fa=z,V.Fd=fe,V.f=Q,V.N=0+fe,V.Ab=v,V.Cd=P,V.ea=Q,V.W=0+fe+P,V.Db=v,V.Ed=P,f==12&&(V.F=Q,V.J=0+fe+2*P),V.Tc=q,V.lb=R)}if(v=1,R=E.S,P=E.width,q=E.height,R>=lc&&13>R)if(11>R)f=E.f.RGBA,v&=(z=Math.abs(f.A))*(q-1)+P<=f.size,v&=z>=P*vc[R],v&=f.eb!=null;else{f=E.f.kb,z=(P+1)/2,fe=(q+1)/2,V=Math.abs(f.fa),Q=Math.abs(f.Ab);var Ne=Math.abs(f.Db),J=Math.abs(f.lb),me=J*(q-1)+P;v&=V*(q-1)+P<=f.Fd,v&=Q*(fe-1)+z<=f.Cd,v=(v&=Ne*(fe-1)+z<=f.Ed)&V>=P&Q>=z&Ne>=z,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,R==12&&(v&=J>=P,v&=me<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||x!=null&&x.fd&&(f=wl(E)),f}var js=64,Ar=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gr=24,Oa=32,Ra=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(f){return f},Y.Predictor2=function(f,v,x){return v[x+0]},Y.Predictor3=function(f,v,x){return v[x+1]},Y.Predictor4=function(f,v,x){return v[x-1]},Y.Predictor5=function(f,v,x){return yt(yt(f,v[x+1]),v[x+0])},Y.Predictor6=function(f,v,x){return yt(f,v[x-1])},Y.Predictor7=function(f,v,x){return yt(f,v[x+0])},Y.Predictor8=function(f,v,x){return yt(v[x-1],v[x+0])},Y.Predictor9=function(f,v,x){return yt(v[x+0],v[x+1])},Y.Predictor10=function(f,v,x){return yt(yt(f,v[x-1]),yt(v[x+0],v[x+1]))},Y.Predictor11=function(f,v,x){var E=v[x+0];return 0>=Ft(E>>24&255,f>>24&255,(v=v[x-1])>>24&255)+Ft(E>>16&255,f>>16&255,v>>16&255)+Ft(E>>8&255,f>>8&255,v>>8&255)+Ft(255&E,255&f,255&v)?E:f},Y.Predictor12=function(f,v,x){var E=v[x+0];return(Gt((f>>24&255)+(E>>24&255)-((v=v[x-1])>>24&255))<<24|Gt((f>>16&255)+(E>>16&255)-(v>>16&255))<<16|Gt((f>>8&255)+(E>>8&255)-(v>>8&255))<<8|Gt((255&f)+(255&E)-(255&v)))>>>0},Y.Predictor13=function(f,v,x){var E=v[x-1];return(Ut((f=yt(f,v[x+0]))>>24&255,E>>24&255)<<24|Ut(f>>16&255,E>>16&255)<<16|Ut(f>>8&255,E>>8&255)<<8|Ut(255&f,255&E))>>>0};var Co=Y.PredictorAdd0;Y.PredictorAdd1=rn,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var To=Y.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var ui,ac=Y.ColorIndexInverseTransform,Da=Y.MapARGB,Ba=Y.VP8LColorIndexInverseTransformAlpha,Gi=Y.MapAlpha,is=Y.VP8LPredictorsAdd=[];is.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var Lo,Oo,rs,as,Pa,Xs,Mr,ss,er,$r,Sn,mn,qn,hi,Ma,ga,Qs,_l,lu,uh,hh,fh,cu,uu,Zs,Gr,xl,qr,eo=l(511),sc=l(2041),Sl=l(225),Nl=l(767),oc=0,os=sc,Al=Sl,tr=Nl,Vi=eo,lc=0,nr=1,cc=2,Vr=3,jl=4,Ro=5,Es=6,El=7,uc=8,Do=9,hc=10,Yr=[2,3,7],Bo=[3,3,11],to=[280,256,256,256,40],fc=[0,1,1,1,0],kl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ks=8,Jr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xr=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ur=null,dh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ph=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$n=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mr=[],ri=[],ma=[],Cs=1,fu=2,ls=[],Wi=[];Qa("UpsampleRgbLinePair",Za,3),Qa("UpsampleBgrLinePair",qi,3),Qa("UpsampleRgbaLinePair",pr,4),Qa("UpsampleBgraLinePair",La,4),Qa("UpsampleArgbLinePair",Eo,4),Qa("UpsampleRgba4444LinePair",As,2),Qa("UpsampleRgb565LinePair",Ns,2);var no=Y.UpsampleRgbLinePair,du=Y.UpsampleBgrLinePair,Po=Y.UpsampleRgbaLinePair,pc=Y.UpsampleBgraLinePair,Ts=Y.UpsampleArgbLinePair,qa=Y.UpsampleRgba4444LinePair,Ls=Y.UpsampleRgb565LinePair,Qr=16,Mo=1<<Qr-1,io=-227,Os=482,gc=6,Rs=0,Ki=l(256),mc=l(256),gh=l(256),Bf=l(256),Pf=l(Os-io),Mf=l(Os-io);es("YuvToRgbRow",Za,3),es("YuvToBgrRow",qi,3),es("YuvToRgbaRow",pr,4),es("YuvToBgraRow",La,4),es("YuvToArgbRow",Eo,4),es("YuvToRgba4444Row",As,2),es("YuvToRgb565Row",Ns,2);var fi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qo=[0,2,8],Cl=[8,7,6,4,4,2,2,2,1,1,1,1],Tl=1;this.WebPDecodeRGBA=function(f,v,x,E,R){var P=nr,q=new Pe,z=new Yt;q.ba=z,z.S=P,z.width=[z.width],z.height=[z.height];var V=z.width,Q=z.height,fe=new gt;if(fe==null||f==null)var Ne=2;else e(fe!=null),Ne=da(f,v,x,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(Ne!=0?V=0:(V!=null&&(V[0]=fe.width[0]),Q!=null&&(Q[0]=fe.height[0]),V=1),V){z.width=z.width[0],z.height=z.height[0],E!=null&&(E[0]=z.width),R!=null&&(R[0]=z.height);e:{if(E=new oa,(R=new $e).data=f,R.w=v,R.ha=x,R.kd=1,v=[0],e(R!=null),((f=da(R.data,R.w,R.ha,null,null,null,v,null,R))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(e(q!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=bt,E.ac=xr,E.bc=sa,E.ma=q,R.xa){if((f=Jn())==null){q=1;break e}if((function(J,me){var _e=[0],Re=[0],Se=[0];t:for(;;){if(J==null)return 0;if(me==null)return J.a=2,0;if(J.l=me,J.a=0,xe(J.m,me.data,me.w,me.ha),!Ir(J.m,_e,Re,Se)){J.a=3;break t}if(J.xb=fu,me.width=_e[0],me.height=Re[0],!ur(_e[0],Re[0],1,J,null))break t;return 1}return e(J.a!=0),0})(f,E)){if(E=(v=pa(E.width,E.height,q.Oa,q.ba))==0){t:{E=f;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((x=E.l)!=null),e((R=x.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,e(E.ca!=null),!ts(R.Oa,x,Vr)){E.a=2;break n}if(!Rr(E,x.width)||x.da)break n;if((x.da||Tt(E.ca.S))&&ha(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ha()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!K(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Zi(E,E.V,E.Ba,E.c,E.i,x.o,ji))break n;R.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(v=f.a)}else v=f.a}else{if((f=new la)==null){q=1;break e}if(f.Fa=R.na,f.P=R.P,f.qc=R.Sa,Ea(f,E)){if((v=pa(E.width,E.height,q.Oa,q.ba))==0){if(f.Aa=0,x=q.Oa,e((R=f)!=null),x!=null){if(0<(V=0>(V=x.Md)?0:100<V?255:255*V/100)){for(Q=fe=0;4>Q;++Q)12>(Ne=R.pb[Q]).lc&&(Ne.ia=V*Cl[0>Ne.lc?0:Ne.lc]>>3),fe|=Ne.ia;fe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=x.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(J,me){if(J==null)return 0;if(me==null)return xn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!Ea(J,me))return 0;if(e(J.cb),me.ac==null||me.ac(me)){me.ob&&(J.L=0);var _e=qo[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=me.v-_e>>4,J.zb=me.j-_e>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=me.o+15+_e>>4,J.Hb=me.va+15+_e>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Re=J.ed;for(_e=0;4>_e;++_e){var Se;if(J.Qa.Cb){var Oe=J.Qa.Lb[_e];J.Qa.Fb||(Oe+=Re.Tb)}else Oe=Re.Tb;for(Se=0;1>=Se;++Se){var Me=J.gd[_e][Se],Ve=Oe;if(Re.Pc&&(Ve+=Re.vd[0],Se&&(Ve+=Re.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var Fe=Ve;0<Re.wb&&(Fe=4<Re.wb?Fe>>2:Fe>>1)>9-Re.wb&&(Fe=9-Re.wb),1>Fe&&(Fe=1),Me.dd=Fe,Me.tc=2*Ve+Fe,Me.ld=40<=Ve?2:15<=Ve?1:0}else Me.tc=0;Me.La=Se}}}_e=0}else xn(J,6,"Frame setup failed"),_e=J.a;if(_e=_e==0){if(_e){J.$c=0,0<J.Aa||(J.Ic=Tl);t:{_e=J.Ic,Re=4*(Fe=J.za);var lt=32*Fe,nt=Fe+1,zt=0<J.L?Fe*(0<J.Aa?2:1):0,at=(J.Aa==2?2:1)*Fe;if((Me=Re+832+(Se=3*(16*_e+qo[J.L])/2*lt)+(Oe=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Me)_e=0;else{if(Me>J.Vb){if(J.Vb=0,J.Ec=l(Me),J.Fc=0,J.Ec==null){_e=xn(J,1,"no memory during frame initialization.");break t}J.Vb=Me}Me=J.Ec,Ve=J.Fc,J.Ac=Me,J.Bc=Ve,Ve+=Re,J.Gd=u(lt,Wt),J.Hd=0,J.rb=u(nt+1,Ie),J.sb=1,J.wa=zt?u(zt,ht):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=Fe),e(!0),J.oc=Me,J.pc=Ve,Ve+=832,J.ya=u(at,hr),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=Fe),J.R=16*Fe,J.B=8*Fe,Fe=(lt=qo[J.L])*J.R,lt=lt/2*J.B,J.sa=Me,J.ta=Ve+Fe,J.qa=J.sa,J.ra=J.ta+16*_e*J.R+lt,J.Ha=J.qa,J.Ia=J.ra+8*_e*J.B+lt,J.$c=0,Ve+=Se,J.mb=Oe?Me:null,J.nb=Oe?Ve:null,e(Ve+Oe<=J.Fc+J.Vb),cl(J),o(J.Ac,J.Bc,0,Re),_e=1}}if(_e){if(me.ka=0,me.y=J.sa,me.O=J.ta,me.f=J.qa,me.N=J.ra,me.ea=J.Ha,me.Vd=J.Ia,me.fa=J.R,me.Rc=J.B,me.F=null,me.J=0,!oc){for(_e=-255;255>=_e;++_e)eo[255+_e]=0>_e?-_e:_e;for(_e=-1020;1020>=_e;++_e)sc[1020+_e]=-128>_e?-128:127<_e?127:_e;for(_e=-112;112>=_e;++_e)Sl[112+_e]=-16>_e?-16:15<_e?15:_e;for(_e=-255;510>=_e;++_e)Nl[255+_e]=0>_e?0:255<_e?255:_e;oc=1}Mr=ca,ss=ul,$r=dr,Sn=hl,mn=fl,er=Jl,qn=ic,hi=Ja,Ma=O,ga=Z,Qs=rc,_l=_,lu=he,uh=ye,hh=Va,fh=Ya,cu=Ks,uu=vl,ri[0]=tc,ri[1]=Xl,ri[2]=ec,ri[3]=gl,ri[4]=Dr,ri[5]=ml,ri[6]=Hi,ri[7]=Vs,ri[8]=Ys,ri[9]=Br,mr[0]=ua,mr[1]=dl,mr[2]=pl,mr[3]=Zl,mr[4]=$a,mr[5]=Gs,mr[6]=Ss,ma[0]=So,ma[1]=Ql,ma[2]=ka,ma[3]=nc,ma[4]=Mi,ma[5]=No,ma[6]=Ca,_e=1}else _e=0}_e&&(_e=(function(on,Gn){for(on.M=0;on.M<on.Va;++on.M){var Jt,it=on.Jc[on.M&on.Xb],Je=on.m,Qn=on;for(Jt=0;Jt<Qn.za;++Jt){var Ot=Je,en=Qn,kn=en.Ac,Ti=en.Bc+4*Jt,Ji=en.zc,Un=en.ya[en.aa+Jt];if(en.Qa.Bb?Un.$b=Be(Ot,en.Pa.jb[0])?2+Be(Ot,en.Pa.jb[2]):Be(Ot,en.Pa.jb[1]):Un.$b=0,en.kc&&(Un.Ad=Be(Ot,en.Bd)),Un.Za=!Be(Ot,145)+0,Un.Za){var yi=Un.Ob,ir=0;for(en=0;4>en;++en){var bi,sn=Ji[0+en];for(bi=0;4>bi;++bi){sn=Yi[kn[Ti+bi]][sn];for(var yn=dc[Be(Ot,sn[0])];0<yn;)yn=dc[2*yn+Be(Ot,sn[yn])];sn=-yn,kn[Ti+bi]=sn}a(yi,ir,kn,Ti,4),ir+=4,Ji[0+en]=sn}}else sn=Be(Ot,156)?Be(Ot,128)?1:3:Be(Ot,163)?2:0,Un.Ob[0]=sn,o(kn,Ti,sn,4),o(Ji,0,sn,4);Un.Dd=Be(Ot,142)?Be(Ot,114)?Be(Ot,183)?1:3:2:0}if(Qn.m.Ka)return xn(on,7,"Premature end-of-partition0 encountered.");for(;on.ja<on.za;++on.ja){if(Qn=it,Ot=(Je=on).rb[Je.sb-1],kn=Je.rb[Je.sb+Je.ja],Jt=Je.ya[Je.aa+Je.ja],Ti=Je.kc?Jt.Ad:0)Ot.la=kn.la=0,Jt.Za||(Ot.Na=kn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var Zn,Nn;if(Ot=kn,kn=Qn,Ti=Je.Pa.Xc,Ji=Je.ya[Je.aa+Je.ja],Un=Je.pb[Ji.$b],en=Ji.ad,yi=0,ir=Je.rb[Je.sb-1],sn=bi=0,o(en,yi,0,384),Ji.Za)var Li=0,ei=Ti[3];else{yn=l(16);var bn=Ot.Na+ir.Na;if(bn=Ur(kn,Ti[1],bn,Un.Eb,0,yn,0),Ot.Na=ir.Na=(0<bn)+0,1<bn)Mr(yn,0,en,yi);else{var di=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)en[yi+yn]=di}Li=1,ei=Ti[0]}var Cn=15&Ot.la,wi=15&ir.la;for(yn=0;4>yn;++yn){var _i=1&wi;for(di=Nn=0;4>di;++di)Cn=Cn>>1|(_i=(bn=Ur(kn,ei,bn=_i+(1&Cn),Un.Sc,Li,en,yi))>Li)<<7,Nn=Nn<<2|(3<bn?3:1<bn?2:en[yi+0]!=0),yi+=16;Cn>>=4,wi=wi>>1|_i<<7,bi=(bi<<8|Nn)>>>0}for(ei=Cn,Li=wi>>4,Zn=0;4>Zn;Zn+=2){for(Nn=0,Cn=Ot.la>>4+Zn,wi=ir.la>>4+Zn,yn=0;2>yn;++yn){for(_i=1&wi,di=0;2>di;++di)bn=_i+(1&Cn),Cn=Cn>>1|(_i=0<(bn=Ur(kn,Ti[2],bn,Un.Qc,0,en,yi)))<<3,Nn=Nn<<2|(3<bn?3:1<bn?2:en[yi+0]!=0),yi+=16;Cn>>=2,wi=wi>>1|_i<<5}sn|=Nn<<4*Zn,ei|=Cn<<4<<Zn,Li|=(240&wi)<<Zn}Ot.la=ei,ir.la=Li,Ji.Hc=bi,Ji.Gc=sn,Ji.ia=43690&sn?0:Un.ia,Ti=!(bi|sn)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Jt.$b][Jt.Za],Je.wa[Je.Y+Je.ja].La|=!Ti),Qn.Ka)return xn(on,7,"Premature end-of-file encountered.")}if(cl(on),Je=Gn,Qn=1,Jt=(it=on).D,Ot=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Jt.M=it.M,Jt.uc=Ot,Pr(it,Jt),Qn=1,Jt=(Nn=it.D).Nb,Ot=(sn=qo[it.L])*it.R,kn=sn/2*it.B,yn=16*Jt*it.R,di=8*Jt*it.B,Ti=it.sa,Ji=it.ta-Ot+yn,Un=it.qa,en=it.ra-kn+di,yi=it.Ha,ir=it.Ia-kn+di,wi=(Cn=Nn.M)==0,bi=Cn>=it.Va-1,it.Aa==2&&Pr(it,Nn),Nn.uc)for(_i=(bn=it).D.M,e(bn.D.uc),Nn=bn.yb;Nn<bn.Hb;++Nn){Li=Nn,ei=_i;var On=(vn=(xi=bn).D).Nb;Zn=xi.R;var vn=vn.wa[vn.Y+Li],rr=xi.sa,ai=xi.ta+16*On*Zn+16*Li,At=vn.dd,Et=vn.tc;if(Et!=0)if(e(3<=Et),xi.L==1)0<Li&&fh(rr,ai,Zn,Et+4),vn.La&&uu(rr,ai,Zn,Et),0<ei&&hh(rr,ai,Zn,Et+4),vn.La&&cu(rr,ai,Zn,Et);else{var wn=xi.B,jr=xi.qa,Zr=xi.ra+8*On*wn+8*Li,vr=xi.Ha,xi=xi.Ia+8*On*wn+8*Li;On=vn.ld,0<Li&&(hi(rr,ai,Zn,Et+4,At,On),ga(jr,Zr,vr,xi,wn,Et+4,At,On)),vn.La&&(_l(rr,ai,Zn,Et,At,On),uh(jr,Zr,vr,xi,wn,Et,At,On)),0<ei&&(qn(rr,ai,Zn,Et+4,At,On),Ma(jr,Zr,vr,xi,wn,Et+4,At,On)),vn.La&&(Qs(rr,ai,Zn,Et,At,On),lu(jr,Zr,vr,xi,wn,Et,At,On))}}if(it.ia&&alert("todo:DitherRow"),Je.put!=null){if(Nn=16*Cn,Cn=16*(Cn+1),wi?(Je.y=it.sa,Je.O=it.ta+yn,Je.f=it.qa,Je.N=it.ra+di,Je.ea=it.Ha,Je.W=it.Ia+di):(Nn-=sn,Je.y=Ti,Je.O=Ji,Je.f=Un,Je.N=en,Je.ea=yi,Je.W=ir),bi||(Cn-=sn),Cn>Je.o&&(Cn=Je.o),Je.F=null,Je.J=null,it.Fa!=null&&0<it.Fa.length&&Nn<Cn&&(Je.J=Mn(it,Je,Nn,Cn-Nn),Je.F=it.mb,Je.F==null&&Je.F.length==0)){Qn=xn(it,3,"Could not decode alpha data.");break t}Nn<Je.j&&(sn=Je.j-Nn,Nn=Je.j,e(!(1&sn)),Je.O+=it.R*sn,Je.N+=it.B*(sn>>1),Je.W+=it.B*(sn>>1),Je.F!=null&&(Je.J+=Je.width*sn)),Nn<Cn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Nn-Je.j,Je.U=Je.va-Je.v,Je.T=Cn-Nn,Qn=Je.put(Je))}Jt+1!=it.Ic||bi||(a(it.sa,it.ta-Ot,Ti,Ji+16*it.R,Ot),a(it.qa,it.ra-kn,Un,en+8*it.B,kn),a(it.Ha,it.Ia-kn,yi,ir+8*it.B,kn))}if(!Qn)return xn(on,6,"Output aborted.")}return 1})(J,me)),me.bc!=null&&me.bc(me),_e&=1}return _e?(J.cb=0,_e):0})(f,E)||(v=f.a)}}else v=f.a}v==0&&q.Oa!=null&&q.Oa.fd&&(v=wl(q.ba))}q=v}P=q!=0?null:11>P?z.f.RGBA.eb:z.f.kb.y}else P=null;return P};var vc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,ge){for(var M="",H=0;H<4;H++)M+=String.fromCharCode(Y[ge++]);return M}function b(Y,ge){return Y[ge+0]|Y[ge+1]<<8}function A(Y,ge){return(Y[ge+0]|Y[ge+1]<<8|Y[ge+2]<<16)>>>0}function k(Y,ge){return(Y[ge+0]|Y[ge+1]<<8|Y[ge+2]<<16|Y[ge+3]<<24)>>>0}new d;var w=[0],j=[0],S=[],T=new d,N=r,B=(function(Y,ge){var M={},H=0,ae=!1,re=0,we=0;if(M.frames=[],!(function(L,I){for(var W=0;W<4;W++)if(L[I+W]!="RIFF".charCodeAt(W))return!0;return!1})(Y,ge)){for(k(Y,ge+=4),ge+=8;ge<Y.length;){var ee=m(Y,ge),X=k(Y,ge+=4);ge+=4;var ie=X+(1&X);switch(ee){case"VP8 ":case"VP8L":M.frames[H]===void 0&&(M.frames[H]={}),(G=M.frames[H]).src_off=ae?we:ge-8,G.src_size=re+X+8,H++,ae&&(ae=!1,re=0,we=0);break;case"VP8X":(G=M.header={}).feature_flags=Y[ge];var xe=ge+4;G.canvas_width=1+A(Y,xe),xe+=3,G.canvas_height=1+A(Y,xe),xe+=3;break;case"ALPH":ae=!0,re=ie+8,we=ge-8;break;case"ANIM":(G=M.header).bgcolor=k(Y,ge),xe=ge+4,G.loop_count=b(Y,xe),xe+=2;break;case"ANMF":var Le,G;(G=M.frames[H]={}).offset_x=2*A(Y,ge),ge+=3,G.offset_y=2*A(Y,ge),ge+=3,G.width=1+A(Y,ge),ge+=3,G.height=1+A(Y,ge),ge+=3,G.duration=A(Y,ge),ge+=3,Le=Y[ge++],G.dispose=1&Le,G.blend=Le>>1&1}ee!="ANMF"&&(ge+=ie)}return M}})(N,0);B.response=N,B.rgbaoutput=!0,B.dataurl=!1;var D=B.header?B.header:null,U=B.frames?B.frames:null;if(D){D.loop_counter=D.loop_count,w=[D.canvas_height],j=[D.canvas_width];for(var le=0;le<U.length&&U[le].blend!=0;le++);}var ce=U[0],te=T.WebPDecodeRGBA(N,ce.src_off,ce.src_size,j,w);ce.rgba=te,ce.imgwidth=j[0],ce.imgheight=w[0];for(var $=0;$<j[0]*w[0]*4;$++)S[$]=te[$];return this.width=j,this.height=w,this.data=S,this}(function(r){var e,n,a,o,l,u,h,d,m,b=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new d,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,d=this.internal.Matrix,m=new b}]);var A=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=L;Object.defineProperty(this,"pdf",{get:function(){return I}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(K){W=!!K}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(K){ne=!!K}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(K){isNaN(K)||(ue=K)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(K){isNaN(K)||(pe=K)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(K){var Ke;typeof K=="number"?Ke=[K,K,K,K]:((Ke=new Array(4))[0]=K[0],Ke[1]=K.length>=2?K[1]:Ke[0],Ke[2]=K.length>=3?K[2]:Ke[0],Ke[3]=K.length>=4?K[3]:Ke[1]),m.margin=Ke}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(K){ke=K}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(K){je=K}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(K){Be=K}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(K){K instanceof b&&(m=K)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(K){m.path=K}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(K){Ge=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Ke;Ke=k(K),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Ke=k(K);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var Qe=null,Xe=null,rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return rt},set:function(K){Qe=null,Xe=null,rt=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Ke;if(this.ctx.font=K,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Vt=Ke[1];Ke[2];var vt=Ke[3],ze=Ke[4];Ke[5];var xt=Ke[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(et==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Nt=(function(ft){var Kn,tn,jt=[],Dt=ft.trim();if(Dt==="")return v0;if(Dt in Bg)return[Bg[Dt]];for(;Dt!=="";){switch(tn=null,Kn=(Dt=Mg(Dt)).charAt(0)){case'"':case"'":tn=Yw(Dt.substring(1),Kn);break;default:tn=Ww(Dt)}if(tn===null||(jt.push(tn[0]),(Dt=Mg(tn[1]))!==""&&Dt.charAt(0)!==","))return v0;Dt=Dt.replace(/^,/,"")}return jt})(xt);if(this.fontFaces){var yt=(function(ft,Kn){var tn=ft.getFontList(),jt=JSON.stringify(tn);if(Qe===null||Xe!==jt){var Dt=(function(an){var St=[];return Object.keys(an).forEach(function(Ln){an[Ln].forEach(function(Tt){var Bt=null;switch(Tt){case"bold":Bt={family:Ln,weight:"bold"};break;case"italic":Bt={family:Ln,style:"italic"};break;case"bolditalic":Bt={family:Ln,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:Ln}}Bt!==null&&(Bt.ref={name:Ln,style:Tt},St.push(Bt))})}),St})(tn);Qe=(function(an){for(var St={},Ln=0;Ln<an.length;++Ln){var Tt=m0(an[Ln]),Bt=Tt.family,En=Tt.stretch,Yt=Tt.style,gt=Tt.weight;St[Bt]=St[Bt]||{},St[Bt][En]=St[Bt][En]||{},St[Bt][En][Yt]=St[Bt][En][Yt]||{},St[Bt][En][Yt][gt]=Tt}return St})(Dt.concat(Kn)),Xe=jt}return Qe})(this.pdf,this.fontFaces),Gt=Nt.map(function(ft){return{family:ft,stretch:"normal",weight:vt,style:Vt}}),Ut=(function(ft,Kn,tn){for(var jt=(tn=tn||{}).defaultFontFamily||"times",Dt=Object.assign({},Vw,tn.genericFontFamilies||{}),an=null,St=null,Ln=0;Ln<Kn.length;++Ln)if(Dt[(an=m0(Kn[Ln])).family]&&(an.family=Dt[an.family]),ft.hasOwnProperty(an.family)){St=ft[an.family];break}if(!(St=St||ft[jt]))throw new Error("Could not find a font-family for the rule '"+Pg(an)+"' and default family '"+jt+"'.");if(St=(function(Tt,Bt){if(Bt[Tt])return Bt[Tt];var En=U0[Tt],Yt=En<=U0.normal?-1:1,gt=Dg(Bt,j5,En,Yt);if(!gt)throw new Error("Could not find a matching font-stretch value for "+Tt);return gt})(an.stretch,St),St=(function(Tt,Bt){if(Bt[Tt])return Bt[Tt];for(var En=A5[Tt],Yt=0;Yt<En.length;++Yt)if(Bt[En[Yt]])return Bt[En[Yt]];throw new Error("Could not find a matching font-style for "+Tt)})(an.style,St),!(St=(function(Tt,Bt){if(Bt[Tt])return Bt[Tt];if(Tt===400&&Bt[500])return Bt[500];if(Tt===500&&Bt[400])return Bt[400];var En=Gw[Tt],Yt=Dg(Bt,E5,En,Tt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+Tt);return Yt})(an.weight,St)))throw new Error("Failed to resolve a font for the rule '"+Pg(an)+"'.");return St})(yt,Gt);this.pdf.setFont(Ut.ref.name,Ut.ref.style)}else{var Ft="";(vt==="bold"||parseInt(vt,10)>=700||Vt==="bold")&&(Ft="bold"),Vt==="italic"&&(Ft+="italic"),Ft.length===0&&(Ft="normal");for(var rn="",Zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<Nt.length;ut++){if(this.pdf.internal.getFont(Nt[ut],Ft,{noFallback:!0,disableWarning:!0})!==void 0){rn=Nt[ut];break}if(Ft==="bolditalic"&&this.pdf.internal.getFont(Nt[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rn=Nt[ut],Ft="bold";else if(this.pdf.internal.getFont(Nt[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rn=Nt[ut],Ft="normal";break}}if(rn===""){for(var It=0;It<Nt.length;It++)if(Zt[Nt[It]]){rn=Zt[Nt[It]];break}}rn=rn===""?"Times":rn,this.pdf.setFont(rn,Ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};A.prototype.setLineDash=function(L){this.lineDash=L},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){U.call(this,"fill",!1)},A.prototype.stroke=function(){U.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(L,I){if(isNaN(L)||isNaN(I))throw Yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new u(L,I));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(L,I)},A.prototype.closePath=function(){var L=new u(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Bn(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){L=new u(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},A.prototype.lineTo=function(L,I){if(isNaN(L)||isNaN(I))throw Yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new u(L,I));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(W.x,W.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),U.call(this,null,!0)},A.prototype.quadraticCurveTo=function(L,I,W,ne){if(isNaN(W)||isNaN(ne)||isNaN(L)||isNaN(I))throw Yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new u(W,ne)),pe=this.ctx.transform.applyToPoint(new u(L,I));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new u(ue.x,ue.y)},A.prototype.bezierCurveTo=function(L,I,W,ne,ue,pe){if(isNaN(ue)||isNaN(pe)||isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne))throw Yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new u(ue,pe)),je=this.ctx.transform.applyToPoint(new u(L,I)),Be=this.ctx.transform.applyToPoint(new u(W,ne));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:Be.x,y2:Be.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new u(ke.x,ke.y)},A.prototype.arc=function(L,I,W,ne,ue,pe){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne)||isNaN(ue))throw Yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new u(L,I));L=ke.x,I=ke.y;var je=this.ctx.transform.applyToPoint(new u(0,W)),Be=this.ctx.transform.applyToPoint(new u(0,0));W=Math.sqrt(Math.pow(je.x-Be.x,2)+Math.pow(je.y-Be.y,2))}Math.abs(ue-ne)>=2*Math.PI&&(ne=0,ue=2*Math.PI),this.path.push({type:"arc",x:L,y:I,radius:W,startAngle:ne,endAngle:ue,counterclockwise:pe})},A.prototype.arcTo=function(L,I,W,ne,ue){throw new Error("arcTo not implemented.")},A.prototype.rect=function(L,I,W,ne){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne))throw Yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,I),this.lineTo(L+W,I),this.lineTo(L+W,I+ne),this.lineTo(L,I+ne),this.lineTo(L,I),this.lineTo(L+W,I),this.lineTo(L,I)},A.prototype.fillRect=function(L,I,W,ne){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne))throw Yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,I,W,ne),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},A.prototype.strokeRect=function(L,I,W,ne){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne))throw Yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(L,I,W,ne),this.stroke())},A.prototype.clearRect=function(L,I,W,ne){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne))throw Yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,I,W,ne))},A.prototype.save=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},A.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(I),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var k=function(L){var I,W,ne,ue;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))I=0,W=0,ne=0,ue=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pe!==null)I=parseInt(pe[1]),W=parseInt(pe[2]),ne=parseInt(pe[3]),ue=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)I=parseInt(pe[1]),W=parseInt(pe[2]),ne=parseInt(pe[3]),ue=parseFloat(pe[4]);else{if(ue=1,typeof L=="string"&&L.charAt(0)!=="#"){var ke=new y5(L);L=ke.ok?ke.toHex():"#000000"}L.length===4?(I=L.substring(1,2),I+=I,W=L.substring(2,3),W+=W,ne=L.substring(3,4),ne+=ne):(I=L.substring(1,3),W=L.substring(3,5),ne=L.substring(5,7)),I=parseInt(I,16),W=parseInt(W,16),ne=parseInt(ne,16)}}return{r:I,g:W,b:ne,a:ue,style:L}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(L,I,W,ne){if(isNaN(I)||isNaN(W)||typeof L!="string")throw Yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!w.call(this)){var ue=ie(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:L,x:I,y:W,scale:pe,angle:ue,align:this.textAlign,maxWidth:ne})}},A.prototype.strokeText=function(L,I,W,ne){if(isNaN(I)||isNaN(W)||typeof L!="string")throw Yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){ne=isNaN(ne)?void 0:ne;var ue=ie(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:L,x:I,y:W,scale:pe,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ne})}},A.prototype.measureText=function(L){if(typeof L!="string")throw Yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,W=this.pdf.internal.scaleFactor,ne=I.internal.getFontSize(),ue=I.getStringUnitWidth(L)*ne/I.internal.scaleFactor;return new function(pe){var ke=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ue*=Math.round(96*W/72*1e4)/1e4})},A.prototype.scale=function(L,I){if(isNaN(L)||isNaN(I))throw Yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new d(L,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.rotate=function(L){if(isNaN(L))throw Yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new d(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},A.prototype.translate=function(L,I){if(isNaN(L)||isNaN(I))throw Yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new d(1,0,0,1,L,I);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.transform=function(L,I,W,ne,ue,pe){if(isNaN(L)||isNaN(I)||isNaN(W)||isNaN(ne)||isNaN(ue)||isNaN(pe))throw Yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new d(L,I,W,ne,ue,pe);this.ctx.transform=this.ctx.transform.multiply(ke)},A.prototype.setTransform=function(L,I,W,ne,ue,pe){L=isNaN(L)?1:L,I=isNaN(I)?0:I,W=isNaN(W)?0:W,ne=isNaN(ne)?1:ne,ue=isNaN(ue)?0:ue,pe=isNaN(pe)?0:pe,this.ctx.transform=new d(L,I,W,ne,ue,pe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(L,I,W,ne,ue,pe,ke,je,Be){var Ge=this.pdf.getImageProperties(L),Qe=1,Xe=1,rt=1,K=1;ne!==void 0&&je!==void 0&&(rt=je/ne,K=Be/ue,Qe=Ge.width/ne*je/ne,Xe=Ge.height/ue*Be/ue),pe===void 0&&(pe=I,ke=W,I=0,W=0),ne!==void 0&&je===void 0&&(je=ne,Be=ue),ne===void 0&&je===void 0&&(je=Ge.width,Be=Ge.height);var Ke=this.ctx.transform.decompose(),Vt=ie(Ke.rotate.shx),vt=new d,ze=(vt=(vt=(vt=vt.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new h(pe-I*rt,ke-W*K,ne*Qe,ue*Xe));if(this.autoPaging){for(var xt,et=T.call(this,ze),Nt=[],yt=0;yt<et.length;yt+=1)Nt.indexOf(et[yt])===-1&&Nt.push(et[yt]);D(Nt);for(var Gt=Nt[0],Ut=Nt[Nt.length-1],Ft=Gt;Ft<Ut+1;Ft++){this.pdf.setPage(Ft);var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=Ft===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ft===1?0:ut+(Ft-2)*It;if(this.ctx.clip_path.length!==0){var Kn=this.path;xt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(xt,this.posX+this.margin[3],-ft+Zt+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=Kn}var tn=JSON.parse(JSON.stringify(ze));tn=B([tn],this.posX+this.margin[3],-ft+Zt+this.ctx.prevPageLastElemOffset)[0];var jt=(Ft>Gt||Ft<Ut)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,It,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,Vt),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Vt)};var T=function(L,I,W){var ne=[];I=I||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ne.push(Math.floor((L.y+ue)/W)+1);break;case"arc":ne.push(Math.floor((L.y+ue-L.radius)/W)+1),ne.push(Math.floor((L.y+ue+L.radius)/W)+1);break;case"qct":var pe=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ne.push(Math.floor((pe.y+ue)/W)+1),ne.push(Math.floor((pe.y+pe.h+ue)/W)+1);break;case"bct":var ke=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ne.push(Math.floor((ke.y+ue)/W)+1),ne.push(Math.floor((ke.y+ke.h+ue)/W)+1);break;case"rect":ne.push(Math.floor((L.y+ue)/W)+1),ne.push(Math.floor((L.y+L.h+ue)/W)+1)}for(var je=0;je<ne.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ne[je];)N.call(this);return ne},N=function(){var L=this.fillStyle,I=this.strokeStyle,W=this.font,ne=this.lineCap,ue=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=I,this.font=W,this.lineCap=ne,this.lineWidth=ue,this.lineJoin=pe},B=function(L,I,W){for(var ne=0;ne<L.length;ne++)switch(L[ne].type){case"bct":L[ne].x2+=I,L[ne].y2+=W;case"qct":L[ne].x1+=I,L[ne].y1+=W;default:L[ne].x+=I,L[ne].y+=W}return L},D=function(L){return L.sort(function(I,W){return I-W})},U=function(L,I){var W=this.fillStyle,ne=this.strokeStyle,ue=this.lineCap,pe=this.lineWidth,ke=Math.abs(pe*this.ctx.transform.scaleX),je=this.lineJoin;if(this.autoPaging){for(var Be,Ge,Qe=JSON.parse(JSON.stringify(this.path)),Xe=JSON.parse(JSON.stringify(this.path)),rt=[],K=0;K<Xe.length;K++)if(Xe[K].x!==void 0)for(var Ke=T.call(this,Xe[K]),Vt=0;Vt<Ke.length;Vt+=1)rt.indexOf(Ke[Vt])===-1&&rt.push(Ke[Vt]);for(var vt=0;vt<rt.length;vt++)for(;this.pdf.internal.getNumberOfPages()<rt[vt];)N.call(this);D(rt);for(var ze=rt[0],xt=rt[rt.length-1],et=ze;et<xt+1;et++){this.pdf.setPage(et),this.fillStyle=W,this.strokeStyle=ne,this.lineCap=ue,this.lineWidth=ke,this.lineJoin=je;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=et===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=et===1?0:Gt+(et-2)*Ut;if(this.ctx.clip_path.length!==0){var rn=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Be,this.posX+this.margin[3],-Ft+yt+this.ctx.prevPageLastElemOffset),le.call(this,L,!0),this.path=rn}if(Ge=JSON.parse(JSON.stringify(Qe)),this.path=B(Ge,this.posX+this.margin[3],-Ft+yt+this.ctx.prevPageLastElemOffset),I===!1||et===0){var Zt=(et>ze||et<xt)&&S.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Ut,null).clip().discardPath()),le.call(this,L,I),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Qe}else this.lineWidth=ke,le.call(this,L,I),this.lineWidth=pe},le=function(L,I){if((L!=="stroke"||I||!j.call(this))&&(L==="stroke"||I||!w.call(this))){for(var W,ne,ue=[],pe=this.path,ke=0;ke<pe.length;ke++){var je=pe[ke];switch(je.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:je,deltas:[],abs:[]});break;case"lt":var Be=ue.length;if(pe[ke-1]&&!isNaN(pe[ke-1].x)&&(W=[je.x-pe[ke-1].x,je.y-pe[ke-1].y],Be>0)){for(;Be>=0;Be--)if(ue[Be-1].close!==!0&&ue[Be-1].begin!==!0){ue[Be-1].deltas.push(W),ue[Be-1].abs.push(je);break}}break;case"bct":W=[je.x1-pe[ke-1].x,je.y1-pe[ke-1].y,je.x2-pe[ke-1].x,je.y2-pe[ke-1].y,je.x-pe[ke-1].x,je.y-pe[ke-1].y],ue[ue.length-1].deltas.push(W);break;case"qct":var Ge=pe[ke-1].x+2/3*(je.x1-pe[ke-1].x),Qe=pe[ke-1].y+2/3*(je.y1-pe[ke-1].y),Xe=je.x+2/3*(je.x1-je.x),rt=je.y+2/3*(je.y1-je.y),K=je.x,Ke=je.y;W=[Ge-pe[ke-1].x,Qe-pe[ke-1].y,Xe-pe[ke-1].x,rt-pe[ke-1].y,K-pe[ke-1].x,Ke-pe[ke-1].y],ue[ue.length-1].deltas.push(W);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(je)}}ne=I?null:L==="stroke"?"stroke":"fill";for(var Vt=!1,vt=0;vt<ue.length;vt++)if(ue[vt].arc)for(var ze=ue[vt].abs,xt=0;xt<ze.length;xt++){var et=ze[xt];et.type==="arc"?$.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,I,!Vt):ae.call(this,et.x,et.y),Vt=!0}else if(ue[vt].close===!0)this.pdf.internal.out("h"),Vt=!1;else if(ue[vt].begin!==!0){var Nt=ue[vt].start.x,yt=ue[vt].start.y;re.call(this,ue[vt].deltas,Nt,yt),Vt=!0}ne&&Y.call(this,ne),I&&ge.call(this)}},ce=function(L){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-W;case"top":return L+I-W;case"hanging":return L+I-2*W;case"middle":return L+I/2-W;default:return L}},te=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(I,W){this.colorStops.push([I,W])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var $=function(L,I,W,ne,ue,pe,ke,je,Be){for(var Ge=ee.call(this,W,ne,ue,pe),Qe=0;Qe<Ge.length;Qe++){var Xe=Ge[Qe];Qe===0&&(Be?M.call(this,Xe.x1+L,Xe.y1+I):ae.call(this,Xe.x1+L,Xe.y1+I)),we.call(this,L,I,Xe.x2,Xe.y2,Xe.x3,Xe.y3,Xe.x4,Xe.y4)}je?ge.call(this):Y.call(this,ke)},Y=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(L,I){this.pdf.internal.out(n(L)+" "+a(I)+" m")},H=function(L){var I;switch(L.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var W,ne,ue,pe=this.pdf.getTextDimensions(L.text),ke=ce.call(this,L.y),je=te.call(this,ke)-pe.h,Be=this.ctx.transform.applyToPoint(new u(L.x,ke));if(this.autoPaging){var Ge=this.ctx.transform.decompose(),Qe=new d;Qe=(Qe=(Qe=Qe.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var Xe=this.ctx.transform.applyToRectangle(new h(L.x,ke,pe.w,pe.h)),rt=Qe.applyToRectangle(new h(L.x,je,pe.w,pe.h)),K=T.call(this,rt),Ke=[],Vt=0;Vt<K.length;Vt+=1)Ke.indexOf(K[Vt])===-1&&Ke.push(K[Vt]);D(Ke);for(var vt=Ke[0],ze=Ke[Ke.length-1],xt=vt;xt<ze+1;xt++){this.pdf.setPage(xt);var et=xt===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],Gt=yt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Ft=Ut-this.margin[3],rn=xt===1?0:Nt+(xt-2)*Gt;if(this.ctx.clip_path.length!==0){var Zt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(W,this.posX+this.margin[3],-1*rn+et),le.call(this,"fill",!0),this.path=Zt}var ut=B([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-rn+et+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale);var It=this.autoPaging!=="text";if(It||ut.y+ut.h<=yt){if(It||ut.y>=et&&ut.x<=Ut){var ft=It?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ut-ut.x)[0],Kn=B([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-rn+et+this.ctx.prevPageLastElemOffset)[0],tn=It&&(xt>vt||xt<ze)&&S.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Gt,null).clip().discardPath()),this.pdf.text(ft,Kn.x,Kn.y,{angle:L.angle,align:I,renderingMode:L.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else ut.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-ut.y);L.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ue)}}else L.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale),this.pdf.text(L.text,Be.x+this.posX,Be.y+this.posY,{angle:L.angle,align:I,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ue)},ae=function(L,I,W,ne){W=W||0,ne=ne||0,this.pdf.internal.out(n(L+W)+" "+a(I+ne)+" l")},re=function(L,I,W){return this.pdf.lines(L,I,W,null,null)},we=function(L,I,W,ne,ue,pe,ke,je){this.pdf.internal.out([e(o(W+L)),e(l(ne+I)),e(o(ue+L)),e(l(pe+I)),e(o(ke+L)),e(l(je+I)),"c"].join(" "))},ee=function(L,I,W,ne){for(var ue=2*Math.PI,pe=Math.PI/2;I>W;)I-=ue;var ke=Math.abs(W-I);ke<ue&&ne&&(ke=ue-ke);for(var je=[],Be=ne?-1:1,Ge=I;ke>1e-5;){var Qe=Ge+Be*Math.min(ke,pe);je.push(X.call(this,L,Ge,Qe)),ke-=Math.abs(Qe-Ge),Ge=Qe}return je},X=function(L,I,W){var ne=(W-I)/2,ue=L*Math.cos(ne),pe=L*Math.sin(ne),ke=ue,je=-pe,Be=ke*ke+je*je,Ge=Be+ke*ue+je*pe,Qe=4/3*(Math.sqrt(2*Be*Ge)-Ge)/(ke*pe-je*ue),Xe=ke-Qe*je,rt=je+Qe*ke,K=Xe,Ke=-rt,Vt=ne+I,vt=Math.cos(Vt),ze=Math.sin(Vt);return{x1:L*Math.cos(I),y1:L*Math.sin(I),x2:Xe*vt-rt*ze,y2:Xe*ze+rt*vt,x3:K*vt-Ke*ze,y3:K*ze+Ke*vt,x4:L*Math.cos(W),y4:L*Math.sin(W)}},ie=function(L){return 180*L/Math.PI},xe=function(L,I,W,ne,ue,pe){var ke=L+.5*(W-L),je=I+.5*(ne-I),Be=ue+.5*(W-ue),Ge=pe+.5*(ne-pe),Qe=Math.min(L,ue,ke,Be),Xe=Math.max(L,ue,ke,Be),rt=Math.min(I,pe,je,Ge),K=Math.max(I,pe,je,Ge);return new h(Qe,rt,Xe-Qe,K-rt)},Le=function(L,I,W,ne,ue,pe,ke,je){var Be,Ge,Qe,Xe,rt,K,Ke,Vt,vt,ze,xt,et,Nt,yt,Gt=W-L,Ut=ne-I,Ft=ue-W,rn=pe-ne,Zt=ke-ue,ut=je-pe;for(Ge=0;Ge<41;Ge++)vt=(Ke=(Qe=L+(Be=Ge/40)*Gt)+Be*((rt=W+Be*Ft)-Qe))+Be*(rt+Be*(ue+Be*Zt-rt)-Ke),ze=(Vt=(Xe=I+Be*Ut)+Be*((K=ne+Be*rn)-Xe))+Be*(K+Be*(pe+Be*ut-K)-Vt),Ge==0?(xt=vt,et=ze,Nt=vt,yt=ze):(xt=Math.min(xt,vt),et=Math.min(et,ze),Nt=Math.max(Nt,vt),yt=Math.max(yt,ze));return new h(Math.round(xt),Math.round(et),Math.round(Nt-xt),Math.round(yt-et))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,I,W=(L=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:I}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(_t.API),(function(r){var e=function(u){var h,d,m,b,A,k,w,j,S,T;for(d=[],m=0,b=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;b>m;m+=4)(A=(u.charCodeAt(m)<<24)+(u.charCodeAt(m+1)<<16)+(u.charCodeAt(m+2)<<8)+u.charCodeAt(m+3))!==0?(k=(A=((A=((A=((A=(A-(T=A%85))/85)-(S=A%85))/85)-(j=A%85))/85)-(w=A%85))/85)%85,d.push(k+33,w+33,j+33,S+33,T+33)):d.push(122);return(function(N,B){for(var D=B;D>0;D--)N.pop()})(d,h.length),String.fromCharCode.apply(String,d)+"~>"},n=function(u){var h,d,m,b,A,k=String,w="length",j=255,S="charCodeAt",T="slice",N="replace";for(u[T](-2),u=u[T](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),m=[],b=0,A=(u+=h="uuuuu"[T](u[w]%5||5))[w];A>b;b+=5)d=52200625*(u[S](b)-33)+614125*(u[S](b+1)-33)+7225*(u[S](b+2)-33)+85*(u[S](b+3)-33)+(u[S](b+4)-33),m.push(j&d>>24,j&d>>16,j&d>>8,j&d);return(function(B,D){for(var U=D;U>0;U--)B.pop()})(m,h[w]),k.fromCharCode.apply(k,m)},a=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var d="",m=0;m<u.length;m+=2)d+=String.fromCharCode("0x"+(u[m]+u[m+1]));return d},l=function(u){for(var h=new Uint8Array(u.length),d=u.length;d--;)h[d]=u.charCodeAt(d);return(h=O0(h)).reduce(function(m,b){return m+String.fromCharCode(b)},"")};r.processDataByFilters=function(u,h){var d=0,m=u||"",b=[];for(typeof(h=h||[])=="string"&&(h=[h]),d=0;d<h.length;d+=1)switch(h[d]){case"ASCII85Decode":case"/ASCII85Decode":m=n(m),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=a(m),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[d]+'" is not implemented')}return{data:m,reverseChain:b.reverse().join(" ")}}})(_t.API),(function(r){r.loadFile=function(e,n,a){return(function(o,l,u){l=l!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(d,m,b){var A=new XMLHttpRequest,k=0,w=function(j){var S=j.length,T=[],N=String.fromCharCode;for(k=0;k<S;k+=1)T.push(N(255&j.charCodeAt(k)));return T.join("")};if(A.open("GET",d,!m),A.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(A.onload=function(){A.status===200?b(w(this.responseText)):b(void 0)}),A.send(null),m&&A.status===200)return w(A.responseText)})(o,l,u)}catch{}return h})(e,n,a)},r.loadImageFile=r.loadFile})(_t.API),(function(r){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):Qd(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):Qd(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var a=function(h){var d=Bn(h);return d==="undefined"?"undefined":d==="string"||h instanceof String?"string":d==="number"||h instanceof Number?"number":d==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":d==="object"?"object":"unknown"},o=function(h,d){var m=document.createElement(h);for(var b in d.className&&(m.className=d.className),d.innerHTML&&d.dompurify&&(m.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)m.style[b]=d.style[b];return m},l=function h(d,m){for(var b=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),A=d.firstChild;A;A=A.nextSibling)m!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||b.appendChild(h(A,m));return d.nodeType===1&&(d.nodeName==="CANVAS"?(b.width=d.width,b.height=d.height,b.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(b.value=d.value),b.addEventListener("load",function(){b.scrollTop=d.scrollTop,b.scrollLeft=d.scrollLeft},!0)),b},u=function h(d){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),b=h.convert(Promise.resolve(),m);return(b=b.setProgress(1,h,1,[h])).set(d)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,d){return h.__proto__=d||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,d){return this.then(function(){switch(d=d||(function(m){switch(a(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),d){case"string":return this.then(n).then(function(m){return this.set({src:o("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,d(this.prop.container,m)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(d){var m=this.opt.jsPDF,b=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,k=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete k.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=b,b)for(var w=0;w<b.length;++w){var j=b[w],S=j.src.find(function(T){return T.format==="truetype"});S&&m.addFont(S.url,j.ref.name,j.ref.style)}return k.windowHeight=k.windowHeight||0,k.windowHeight=k.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):k.windowHeight,m.context2d.save(!0),d(this.prop.container,k)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,d,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,d):this.outputPdf(h,d)},u.prototype.outputPdf=function(h,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,d)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(a(h)!=="object")return this;var d=Object.keys(h||{}).map(function(m){if(m in u.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(d)})},u.prototype.get=function(h,d){return this.then(function(){var m=h in u.template.prop?this.prop[h]:this.opt[h];return d?d(m):m})},u.prototype.setMargin=function(h){return this.then(function(){switch(a(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function d(m,b){return Math.floor(m*b/72*96)}return this.then(function(){(h=h||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:d(h.inner.width,h.k),height:d(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,d,m,b){return h!=null&&(this.progress.val=h),d!=null&&(this.progress.state=d),m!=null&&(this.progress.n=m),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,d,m,b){return this.setProgress(h?this.progress.val+h:null,d||null,m?this.progress.n+m:null,b?this.progress.stack.concat(b):null)},u.prototype.then=function(h,d){var m=this;return this.thenCore(h,d,function(b,A){return m.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(k){return m.updateProgress(null,b),k}).then(b,A).then(function(k){return m.updateProgress(1),k})})},u.prototype.thenCore=function(h,d,m){m=m||Promise.prototype.then;var b=this;h&&(h=h.bind(b)),d&&(d=d.bind(b));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:u.convert(Object.assign({},b),Promise.prototype),k=m.call(A,h,d);return u.convert(k,b.__proto__)},u.prototype.thenExternal=function(h,d){return Promise.prototype.then.call(this,h,d)},u.prototype.thenList=function(h){var d=this;return h.forEach(function(m){d=d.thenCore(m)}),d},u.prototype.catch=function(h){h&&(h=h.bind(this));var d=Promise.prototype.catch.call(this,h);return u.convert(d,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,_t.getPageSize=function(h,d,m){if(Bn(h)==="object"){var b=h;h=b.orientation,d=b.unit||d,m=b.format||m}d=d||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var A,k=(""+m).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+d}var j,S=0,T=0;if(w.hasOwnProperty(k))S=w[k][1]/A,T=w[k][0]/A;else try{S=m[1],T=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",T>S&&(j=T,T=S,S=j);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",S>T&&(j=T,T=S,S=j)}return{width:T,height:S,unit:d,k:A,orientation:h}},r.html=function(h,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(m0):null;var m=new u(d);return d.worker?m:m.from(h).doCallback()}})(_t.API),_t.API.addJS=function(r){return Ug=r,this.internal.events.subscribe("postPutResources",function(){uf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(uf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ug+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){uf!==void 0&&qg!==void 0&&this.internal.out("/Names <</JavaScript "+uf+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),l=0;l<o.length;l++){var u=o[l],h=a.exec(u);if(h!=null){var d=h[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(l=0;l<m;l++){var A=n.internal.newObject();b.push(A);var k=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+k.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<b.length;l++)n.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,o,l){var u={title:o,options:l,children:[]};return a==null&&(a=this.root),a.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var u=a.children[l];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var d=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var m=0;m<a.children.length;m++)this.renderItems(a.children[m])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,o){for(var l=0;l<o.children.length;l++)a.count++,this.count_r(a,o.children[l]);return a.count}}])})(_t.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,a,o,l,u,h){var d,m=this.decode.DCT_DECODE,b=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(A){for(var k,w=256*A.charCodeAt(4)+A.charCodeAt(5),j=A.length,S={width:0,height:0,numcomponents:1},T=4;T<j;T+=2){if(T+=w,e.indexOf(A.charCodeAt(T+1))!==-1){k=256*A.charCodeAt(T+5)+A.charCodeAt(T+6),S={width:256*A.charCodeAt(T+7)+A.charCodeAt(T+8),height:k,numcomponents:A.charCodeAt(T+9)};break}w=256*A.charCodeAt(T+2)+A.charCodeAt(T+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:n,width:d.width,height:d.height,colorSpace:h,bitsPerComponent:8,filter:m,index:a,alias:o}}return b}})(_t.API),_t.API.processPNG=function(r,e,n,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var o,l=Lw(r,{checkCrc:!0}),u=l.width,h=l.height,d=l.channels,m=l.palette,b=l.depth;o=m&&d===1?(function($){for(var Y=$.width,ge=$.height,M=$.data,H=$.palette,ae=$.depth,re=!1,we=[],ee=[],X=void 0,ie=!1,xe=0,Le=0;Le<H.length;Le++){var G=H2(H[Le],4),L=G[0],I=G[1],W=G[2],ne=G[3];we.push(L,I,W),ne!=null&&(ne===0?(xe++,ee.length<1&&ee.push(Le)):ne<255&&(ie=!0))}if(ie||xe>1){re=!0,ee=void 0;var ue=Y*ge;X=new Uint8Array(ue);for(var pe=new DataView(M.buffer),ke=0;ke<ue;ke++){var je=y0(pe,ke,ae),Be=H2(H[je],4)[3];X[ke]=Be}}else xe===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:M,alphaBytes:X,needSMask:re,palette:we,mask:ee}})(l):d===2||d===4?(function($){for(var Y=$.data,ge=$.width,M=$.height,H=$.channels,ae=$.depth,re=H===2?"DeviceGray":"DeviceRGB",we=H-1,ee=ge*M,X=we,ie=ee*X,xe=1*ee,Le=Math.ceil(ie*ae/8),G=Math.ceil(xe*ae/8),L=new Uint8Array(Le),I=new Uint8Array(G),W=new DataView(Y.buffer),ne=new DataView(L.buffer),ue=new DataView(I.buffer),pe=!1,ke=0;ke<ee;ke++){for(var je=ke*H,Be=0;Be<X;Be++)Wg(ne,y0(W,je+Be,ae),ke*X+Be,ae);var Ge=y0(W,je+X,ae);Ge<(1<<ae)-1&&(pe=!0),Wg(ue,Ge,1*ke,ae)}return{colorSpace:re,colorsPerPixel:we,sMaskBitsPerComponent:pe?ae:void 0,colorBytes:L,alphaBytes:I,needSMask:pe}})(l):(function($){var Y=$.data,ge=$.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ge,colorsPerPixel:ge==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(M){for(var H=M.length,ae=new Uint8Array(2*H),re=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),we=0;we<H;we++)re.setUint16(2*we,M[we],!1);return ae})(Y):Y,needSMask:!1}})(l);var A,k,w,j=o,S=j.colorSpace,T=j.colorsPerPixel,N=j.sMaskBitsPerComponent,B=j.colorBytes,D=j.alphaBytes,U=j.needSMask,le=j.palette,ce=j.mask,te=null;return a!==_t.API.image_compression.NONE&&typeof O0=="function"?(te=(function($){var Y;switch($){case _t.API.image_compression.FAST:Y=11;break;case _t.API.image_compression.MEDIUM:Y=13;break;case _t.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(a),A=this.decode.FLATE_DECODE,k="/Predictor ".concat(te," /Colors ").concat(T," /BitsPerComponent ").concat(b," /Columns ").concat(u),r=Hg(B,Math.ceil(u*T*b/8),T,b,a),U&&(w=Hg(D,Math.ceil(u*N/8),1,N,a))):(A=void 0,k=void 0,r=B,U&&(w=D)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:n,data:r,index:e,filter:A,decodeParameters:k,transparency:ce,palette:le,sMask:w,predictor:te,width:u,height:h,bitsPerComponent:b,sMaskBitsPerComponent:N,colorSpace:S}}},(function(r){r.processGIF89A=function(e,n,a,o){var l=new Qw(e),u=l.width,h=l.height,d=[];l.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:u,height:h},b=new b0(100).encode(m,100);return r.processJPEG.call(this,b,n,a,o)},r.processGIF87A=r.processGIF89A})(_t.API),gs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:a,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gs.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(n){Yn.log("bit decode error:"+n)}},gs.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var l=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+8*o*4,h=0;h<8&&8*o+h<this.width;h++){var d=this.palette[l>>7-h&1];this.data[u+4*h]=d.blue,this.data[u+4*h+1]=d.green,this.data[u+4*h+2]=d.red,this.data[u+4*h+3]=255}n!==0&&(this.pos+=4-n)}},gs.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<r;o++){var l=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+2*o*4,h=l>>4,d=15&l,m=this.palette[h];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*o+1>=this.width)break;m=this.palette[d],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},gs.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*a;if(o<this.palette.length){var u=this.palette[o];this.data[l]=u.red,this.data[l+1]=u.green,this.data[l+2]=u.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}r!==0&&(this.pos+=4-r)}},gs.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&e)/e*255|0,d=(l>>10&e)/e*255|0,m=l>>15?255:0,b=a*this.width*4+4*o;this.data[b]=d,this.data[b+1]=h,this.data[b+2]=u,this.data[b+3]=m}this.pos+=r}},gs.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,d=(u>>5&n)/n*255|0,m=(u>>11)/e*255|0,b=o*this.width*4+4*l;this.data[b]=m,this.data[b+1]=d,this.data[b+2]=h,this.data[b+3]=255}this.pos+=r}},gs.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=255}this.pos+=this.width%4}},gs.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}},gs.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,n,a,o){var l=new gs(e,!1),u=l.width,h=l.height,d={data:l.getData(),width:u,height:h},m=new b0(100).encode(d,100);return r.processJPEG.call(this,m,n,a,o)}})(_t.API),Jg.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,n,a,o){var l=new Jg(e),u=l.width,h=l.height,d={data:l.getData(),width:u,height:h},m=new b0(100).encode(d,100);return r.processJPEG.call(this,m,n,a,o)}})(_t.API),_t.API.processRGBA=function(r,e,n){for(var a=r.data,o=a.length,l=new Uint8Array(o/4*3),u=new Uint8Array(o/4),h=0,d=0,m=0;m<o;m+=4){var b=a[m],A=a[m+1],k=a[m+2],w=a[m+3];l[h++]=b,l[h++]=A,l[h++]=k,u[d++]=w}var j=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:j,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},_t.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ic=_t.API,hf=Ic.getCharWidthsArray=function(r,e){var n,a,o=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,d=h.fof?h.fof:1,m=e.kerning?e.kerning:o.metadata.Unicode.kerning,b=m.fof?m.fof:1,A=e.doKerning!==!1,k=0,w=r.length,j=0,S=h[0]||d,T=[];for(n=0;n<w;n++)a=r.charCodeAt(n),typeof o.metadata.widthOfString=="function"?T.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+u*(1e3/l)||0)/1e3):(k=A&&Bn(m[a])==="object"&&!isNaN(parseInt(m[a][j],10))?m[a][j]/b:0,T.push((h[a]||S)/d+k)),j=a;return T},Fg=Ic.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Ic.processArabic&&(r=Ic.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,n,o)/n:hf.apply(this,arguments).reduce(function(l,u){return l+u},0)},Ig=function(r,e,n,a){for(var o=[],l=0,u=r.length,h=0;l!==u&&h+e[l]<n;)h+=e[l],l++;o.push(r.slice(0,l));var d=l;for(h=0;l!==u;)h+e[l]>a&&(o.push(r.slice(d,l)),h=0,d=l),h+=e[l],l++;return d!==l&&o.push(r.slice(d,l)),o},zg=function(r,e,n){n||(n={});var a,o,l,u,h,d,m,b=[],A=[b],k=n.textIndent||0,w=0,j=0,S=r.split(" "),T=hf.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var N=Array(d).join(" "),B=[];S.map(function(U){(U=U.split(/\s*\n/)).length>1?B=B.concat(U.map(function(le,ce){return(ce&&le.length?`
`:"")+le})):B.push(U[0])}),S=B,d=Fg.apply(this,[N,n])}for(l=0,u=S.length;l<u;l++){var D=0;if(a=S[l],d&&a[0]==`
`&&(a=a.substr(1),D=1),k+w+(j=(o=hf.apply(this,[a,n])).reduce(function(U,le){return U+le},0))>e||D){if(j>e){for(h=Ig.apply(this,[a,o,e-(k+w),e]),b.push(h.shift()),b=[h.pop()];h.length;)A.push([h.shift()]);j=o.slice(a.length-(b[0]?b[0].length:0)).reduce(function(U,le){return U+le},0)}else b=[a];A.push(b),k=j+d,w=T}else b.push(a),k+=w+j,w=T}return m=d?function(U,le){return(le?N:"")+U.join(" ")}:function(U){return U.join(" ")},A.map(m)},Ic.splitTextToSize=function(r,e,n){var a,o=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var A=this.internal.getFont(b.fontName,b.fontStyle),k="Unicode";return A.metadata[k]?{widths:A.metadata[k].widths||{0:1},kerning:A.metadata[k].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=n.lineIndent;var h,d,m=[];for(h=0,d=a.length;h<d;h++)m=m.concat(zg.apply(this,[a[h],u,l]));return m},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},o={},l=0;l<16;l++)a[n[l]]=e[l],o[e[l]]=n[l];var u=function(k){return"0x"+parseInt(k,10).toString(16)},h=r.__fontmetrics__.compress=function(k){var w,j,S,T,N=["{"];for(var B in k){if(w=k[B],isNaN(parseInt(B,10))?j="'"+B+"'":(B=parseInt(B,10),j=(j=u(B).slice(2)).slice(0,-1)+o[j.slice(-1)]),typeof w=="number")w<0?(S=u(w).slice(3),T="-"):(S=u(w).slice(2),T=""),S=T+S.slice(0,-1)+o[S.slice(-1)];else{if(Bn(w)!=="object")throw new Error("Don't know what to do with value type "+Bn(w)+".");S=h(w)}N.push(j+S)}return N.push("}"),N.join("")},d=r.__fontmetrics__.uncompress=function(k){if(typeof k!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,j,S,T,N={},B=1,D=N,U=[],le="",ce="",te=k.length-1,$=1;$<te;$+=1)(T=k[$])=="'"?w?(S=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(U.push([D,S]),D={},S=void 0):T=="}"?((j=U.pop())[0][j[1]]=D,S=void 0,D=j[0]):T=="-"?B=-1:S===void 0?a.hasOwnProperty(T)?(le+=a[T],S=parseInt(le,16)*B,B=1,le=""):le+=T:a.hasOwnProperty(T)?(ce+=a[T],D[S]=parseInt(ce,16)*B,B=1,S=void 0,ce=""):ce+=T;return N},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},A={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(k){var w=k.font,j=A.Unicode[w.postScriptName];j&&(w.metadata.Unicode={},w.metadata.Unicode.widths=j.widths,w.metadata.Unicode.kerning=j.kerning);var S=b.Unicode[w.postScriptName];S&&(w.metadata.Unicode.encoding=S,w.encoding=S.codePages[0])}])})(_t.API),(function(r){var e=function(n){for(var a=n.length,o=new Uint8Array(a),l=0;l<a;l++)o[l]=n.charCodeAt(l);return o};r.API.events.push(["addFont",function(n){var a=void 0,o=n.font,l=n.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(vf(h)),u.metadata=r.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,a)}}])})(_t),_t.API.addSvgAsImage=function(r,e,n,a,o,l,u,h){if(isNaN(e)||isNaN(n))throw Yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=o;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return($t.canvg?Promise.resolve($t.canvg):Qd(()=>import("./index.es-BjY-8FZ7.js"),[])).catch(function(k){return Promise.reject(new Error("Could not load canvg: "+k))}).then(function(k){return k.default?k.default:k}).then(function(k){return k.fromString(m,r,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(b)}).then(function(){A.addImage(d.toDataURL("image/jpeg",1),e,n,a,o,u,h)})},_t.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(e,n);return this},_t.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var a,o,l,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),d=[],m=0,b=0,A=0;function k(j,S){var T,N=!1;for(T=0;T<j.length;T+=1)j[T]===S&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=h.length;for(A=0;A<w;A+=1)n[h[A]].value=n[h[A]].defaultValue,n[h[A]].explicitSet=!1}if(Bn(r)==="object"){for(o in r)if(l=r[o],k(h,o)&&l!==void 0){if(n[o].type==="boolean"&&typeof l=="boolean")n[o].value=l;else if(n[o].type==="name"&&k(n[o].valueSet,l))n[o].value=l;else if(n[o].type==="integer"&&Number.isInteger(l))n[o].value=l;else if(n[o].type==="array"){for(m=0;m<l.length;m+=1)if(a=!0,l[m].length===1&&typeof l[m][0]=="number")d.push(String(l[m]-1));else if(l[m].length>1){for(b=0;b<l[m].length;b+=1)typeof l[m][b]!="number"&&(a=!1);a===!0&&d.push([l[m][0]-1,l[m][1]-1].join(" "))}n[o].value="["+d.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,S=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?S.push("/"+j+" /"+n[j].value):S.push("/"+j+" "+n[j].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(r){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=l.length+u.length+h.length+o.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(o+l+u+h+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(a,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(_t.API),(function(r){var e=r.API,n=e.pdfEscape16=function(l,u){for(var h,d=u.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],A=0,k=l.length;A<k;++A){if(h=u.metadata.characterToGlyph(l.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=l.charCodeAt(A),d.indexOf(h)==-1&&(d.push(h),d.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(m[4-h.length],h)}return b.join("")},a=function(l){var u,h,d,m,b,A,k;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],A=0,k=(h=Object.keys(l).sort(function(w,j){return w-j})).length;A<k;A++)u=h[A],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),l[u]!==void 0&&l[u]!==null&&typeof l[u].toString=="function"&&(m=("0000"+l[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),d.push("<"+u+"><"+m+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(u){var h=u.font,d=u.out,m=u.newObject,b=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,k=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",j=0;j<k.length;j++)w+=String.fromCharCode(k[j]);var S=m();b({data:w,addLength1:!0,objectId:S}),d("endobj");var T=m();b({data:a(h.metadata.toUnicode),addLength1:!0,objectId:T}),d("endobj");var N=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Kc(h.fontName)),d("/FontFile2 "+S+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/Flags "+h.metadata.flags),d("/StemV "+h.metadata.stemV),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d(">>"),d("endobj");var B=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+Kc(h.fontName)),d("/FontDescriptor "+N+" 0 R"),d("/W "+r.API.PDFObject.convert(A)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+h.encoding+")"),d(">>"),d(">>"),d("endobj"),h.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+T+" 0 R"),d("/BaseFont /"+Kc(h.fontName)),d("/Encoding /"+h.encoding),d("/DescendantFonts ["+B+" 0 R]"),d(">>"),d("endobj"),h.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(u){var h=u.font,d=u.out,m=u.newObject,b=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,k="",w=0;w<A.length;w++)k+=String.fromCharCode(A[w]);var j=m();b({data:k,addLength1:!0,objectId:j}),d("endobj");var S=m();b({data:a(h.metadata.toUnicode),addLength1:!0,objectId:S}),d("endobj");var T=m();d("<<"),d("/Descent "+h.metadata.decender),d("/CapHeight "+h.metadata.capHeight),d("/StemV "+h.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+j+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),d("/FontName /"+Kc(h.fontName)),d("/ItalicAngle "+h.metadata.italicAngle),d("/Ascent "+h.metadata.ascender),d(">>"),d("endobj"),h.objectNumber=m();for(var N=0;N<h.metadata.hmtx.widths.length;N++)h.metadata.hmtx.widths[N]=parseInt(h.metadata.hmtx.widths[N]*(1e3/h.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Kc(h.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),d("endobj"),h.isAlreadyPutted=!0}})(l)}]);var o=function(l){var u,h=l.text||"",d=l.x,m=l.y,b=l.options||{},A=l.mutex||{},k=A.pdfEscape,w=A.activeFontKey,j=A.fonts,S=w,T="",N=0,B="",D=j[S].encoding;if(j[S].encoding!=="Identity-H")return{text:h,x:d,y:m,options:b,mutex:A};for(B=h,S=w,Array.isArray(h)&&(B=h[0]),N=0;N<B.length;N+=1)j[S].metadata.hasOwnProperty("cmap")&&(u=j[S].metadata.cmap.unicode.codeMap[B[N].charCodeAt(0)]),u||B[N].charCodeAt(0)<256&&j[S].metadata.hasOwnProperty("Unicode")?T+=B[N]:T+="";var U="";return parseInt(S.slice(1))<14||D==="WinAnsiEncoding"?U=k(T,S).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(U=n(T,j[S])),A.isHex=!0,{text:U,x:d,y:m,options:b,mutex:A}};e.events.push(["postProcessText",function(l){var u=l.text||"",h=[],d={text:u,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?h.push([o(Object.assign({},d,{text:u[m][0]})).text,u[m][1],u[m][2]]):h.push(o(Object.assign({},d,{text:u[m]})).text);l.text=h}else l.text=o(Object.assign({},d,{text:u})).text}])})(_t),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(_t.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var o,l,u,h,d,m,b,A=e,k=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,D=0;this.__bidiEngine__={};var U=function(M){var H=M.charCodeAt(),ae=H>>8,re=S[ae];return re!==void 0?A[256*re+(255&H)]:ae===252||ae===253?"AL":N.test(ae)?"L":ae===8?"R":"N"},le=function(M){for(var H,ae=0;ae<M.length;ae++){if((H=U(M.charAt(ae)))==="L")return!1;if(H==="R")return!0}return!1},ce=function(M,H,ae,re){var we,ee,X,ie,xe=H[re];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(xe="AN");break;case"AL":B=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":re<1||re+1>=H.length||(we=ae[re-1])!=="EN"&&we!=="AN"||(ee=H[re+1])!=="EN"&&ee!=="AN"?xe="N":B&&(ee="AN"),xe=ee===we?ee:"N";break;case"ES":xe=(we=re>0?ae[re-1]:"B")==="EN"&&re+1<H.length&&H[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&ae[re-1]==="EN"){xe="EN";break}if(B){xe="N";break}for(X=re+1,ie=H.length;X<ie&&H[X]==="ET";)X++;xe=X<ie&&H[X]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ie=H.length,X=re+1;X<ie&&H[X]==="NSM";)X++;if(X<ie){var Le=M[re],G=Le>=1425&&Le<=2303||Le===64286;if(we=H[X],G&&(we==="R"||we==="AL")){xe="R";break}}}xe=re<1||(we=H[re-1])==="B"?"N":ae[re-1];break;case"B":B=!1,o=!0,xe=D;break;case"S":l=!0,xe="N"}return xe},te=function(M,H,ae){var re=M.split("");return ae&&$(re,ae,{hiLevel:D}),re.reverse(),H&&H.reverse(),re.join("")},$=function(M,H,ae){var re,we,ee,X,ie,xe=-1,Le=M.length,G=0,L=[],I=D?w:k,W=[];for(B=!1,o=!1,l=!1,we=0;we<Le;we++)W[we]=U(M[we]);for(ee=0;ee<Le;ee++){if(ie=G,L[ee]=ce(M,W,L,ee),re=240&(G=I[ie][j[L[ee]]]),G&=15,H[ee]=X=I[G][5],re>0)if(re===16){for(we=xe;we<ee;we++)H[we]=1;xe=-1}else xe=-1;if(I[G][6])xe===-1&&(xe=ee);else if(xe>-1){for(we=xe;we<ee;we++)H[we]=X;xe=-1}W[ee]==="B"&&(H[ee]=0),ae.hiLevel|=X}l&&(function(ne,ue,pe){for(var ke=0;ke<pe;ke++)if(ne[ke]==="S"){ue[ke]=D;for(var je=ke-1;je>=0&&ne[je]==="WS";je--)ue[je]=D}})(W,H,Le)},Y=function(M,H,ae,re,we){if(!(we.hiLevel<M)){if(M===1&&D===1&&!o)return H.reverse(),void(ae&&ae.reverse());for(var ee,X,ie,xe,Le=H.length,G=0;G<Le;){if(re[G]>=M){for(ie=G+1;ie<Le&&re[ie]>=M;)ie++;for(xe=G,X=ie-1;xe<X;xe++,X--)ee=H[xe],H[xe]=H[X],H[X]=ee,ae&&(ee=ae[xe],ae[xe]=ae[X],ae[X]=ee);G=ie}G++}}},ge=function(M,H,ae){var re=M.split(""),we={hiLevel:D};return ae||(ae=[]),$(re,ae,we),(function(ee,X,ie){if(ie.hiLevel!==0&&b)for(var xe,Le=0;Le<ee.length;Le++)X[Le]===1&&(xe=T.indexOf(ee[Le]))>=0&&(ee[Le]=T[xe+1])})(re,ae,we),Y(2,re,H,ae,we),Y(1,re,H,ae,we),re.join("")};return this.__bidiEngine__.doBidiReorder=function(M,H,ae){if((function(we,ee){if(ee)for(var X=0;X<we.length;X++)ee[X]=X;h===void 0&&(h=le(we)),m===void 0&&(m=le(we))})(M,H),u||!d||m)if(u&&d&&h^m)D=h?1:0,M=te(M,H,ae);else if(!u&&d&&m)D=h?1:0,M=ge(M,H,ae),M=te(M,H);else if(!u||h||d||m){if(u&&!d&&h^m)M=te(M,H),h?(D=0,M=ge(M,H,ae)):(D=1,M=ge(M,H,ae),M=te(M,H));else if(u&&h&&!d&&m)D=1,M=ge(M,H,ae),M=te(M,H);else if(!u&&!d&&h^m){var re=b;h?(D=1,M=ge(M,H,ae),D=0,b=!1,M=ge(M,H,ae),b=re):(D=0,M=ge(M,H,ae),M=te(M,H),D=1,b=!1,M=ge(M,H,ae),b=re,M=te(M,H))}}else D=0,M=ge(M,H,ae);else D=h?1:0,M=ge(M,H,ae);return M},this.__bidiEngine__.setOptions=function(M){M&&(u=M.isInputVisual,d=M.isOutputVisual,h=M.isInputRtl,m=M.isOutputRtl,b=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var o=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var u=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var h=0;for(u=[],h=0;h<o.length;h+=1)Object.prototype.toString.call(o[h])==="[object Array]"?u.push([n.doBidiReorder(o[h][0]),o[h][1],o[h][2]]):u.push([n.doBidiReorder(o[h])]);a.text=u}else a.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])})(_t),_t.API.TTFFont=(function(){function r(e){var n;if(this.rawData=e,n=this.contents=new ol(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new d4(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Zw(this.contents),this.head=new t4(this),this.name=new s4(this),this.cmap=new C5(this),this.toUnicode={},this.hhea=new n4(this),this.maxp=new o4(this),this.hmtx=new l4(this),this.post=new r4(this),this.os2=new i4(this),this.loca=new f4(this),this.glyf=new c4(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,a,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,d,m;for(m=[],u=0,h=(d=this.bbox).length;u<h;u++)e=d[u],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,a){var o,l,u,h;for(u=0,l=0,h=(e=""+e).length;0<=h?l<h:l>h;l=0<=h?++l:--l)o=e.charCodeAt(l),u+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/n)||0;return u*(n/1e3)},r.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},r})();var _s,ol=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(e){var n,a,o;for(o=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)o.push(this.writeByte(e.charCodeAt(n)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,a,o,l,u,h,d;return e=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^l)+65536*(255^u)+256*(255^h)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*o+16777216*l+65536*u+256*h+d},r.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},r.prototype.write=function(e){var n,a,o,l;for(l=[],a=0,o=e.length;a<o;a++)n=e[a],l.push(this.writeByte(n));return l},r})(),Zw=(function(){var r;function e(n){var a,o,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,o,l,u,h,d,m,b,A,k,w,j,S;for(S in w=Object.keys(n).length,d=Math.log(2),A=16*Math.floor(Math.log(w)/d),u=Math.floor(A/d),b=16*w-A,(o=new ol).writeInt(this.scalarType),o.writeShort(w),o.writeShort(A),o.writeShort(u),o.writeShort(b),l=16*w,m=o.pos+l,h=null,j=[],n)for(k=n[S],o.writeString(S),o.writeInt(r(k)),o.writeInt(m),o.writeInt(k.length),j=j.concat(k),S==="head"&&(h=m),m+=k.length;m%4;)j.push(0),m++;return o.write(j),a=2981146554-r(o.data),o.pos=h+8,o.writeUInt32(a),o.data},r=function(n){var a,o,l,u;for(n=T5.call(n);n.length%4;)n.push(0);for(l=new ol(n),o=0,a=0,u=n.length;a<u;a=a+=4)o+=l.readUInt32();return 4294967295&o},e})(),e4={}.hasOwnProperty,Hs=function(r,e){for(var n in e)e4.call(e,n)&&(r[n]=e[n]);function a(){this.constructor=r}return a.prototype=e.prototype,r.prototype=new a,r.__super__=e.prototype,r};_s=(function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var t4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new ol).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r})(),Xg=(function(){function r(e,n){var a,o,l,u,h,d,m,b,A,k,w,j,S,T,N,B,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),k=w/2,e.pos+=6,l=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),e.pos+=2,S=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),m=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),b=(function(){var U,le;for(le=[],d=U=0;0<=k?U<k:U>k;d=0<=k?++U:--U)le.push(e.readUInt16());return le})(),o=(this.length-e.pos+this.offset)/2,h=(function(){var U,le;for(le=[],d=U=0;0<=o?U<o:U>o;d=0<=o?++U:--U)le.push(e.readUInt16());return le})(),d=N=0,D=l.length;N<D;d=++N)for(T=l[d],a=B=j=S[d];j<=T?B<=T:B>=T;a=j<=T?++B:--B)b[d]===0?u=a+m[d]:(u=h[b[d]/2+(a-j)-(k-d)]||0)!==0&&(u+=m[d]),this.codeMap[a]=65535&u}e.pos=A}return r.encode=function(e,n){var a,o,l,u,h,d,m,b,A,k,w,j,S,T,N,B,D,U,le,ce,te,$,Y,ge,M,H,ae,re,we,ee,X,ie,xe,Le,G,L,I,W,ne,ue,pe,ke,je,Be,Ge,Qe;switch(re=new ol,u=Object.keys(e).sort(function(Xe,rt){return Xe-rt}),n){case"macroman":for(S=0,T=(function(){var Xe=[];for(j=0;j<256;++j)Xe.push(0);return Xe})(),B={0:0},l={},we=0,xe=u.length;we<xe;we++)B[je=e[o=u[we]]]==null&&(B[je]=++S),l[o]={old:e[o],new:B[e[o]]},T[o]=B[e[o]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(T),{charMap:l,subtable:re.data,maxGlyphID:S+1};case"unicode":for(H=[],A=[],D=0,B={},a={},N=m=null,ee=0,Le=u.length;ee<Le;ee++)B[le=e[o=u[ee]]]==null&&(B[le]=++D),a[o]={old:le,new:B[le]},h=B[le]-o,N!=null&&h===m||(N&&A.push(N),H.push(o),m=h),N=o;for(N&&A.push(N),A.push(65535),H.push(65535),ge=2*(Y=H.length),$=2*Math.pow(Math.log(Y)/Math.LN2,2),k=Math.log($/2)/Math.LN2,te=2*Y-$,d=[],ce=[],w=[],j=X=0,G=H.length;X<G;j=++X){if(M=H[j],b=A[j],M===65535){d.push(0),ce.push(0);break}if(M-(ae=a[M].new)>=32768)for(d.push(0),ce.push(2*(w.length+Y-j)),o=ie=M;M<=b?ie<=b:ie>=b;o=M<=b?++ie:--ie)w.push(a[o].new);else d.push(ae-M),ce.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*Y+2*w.length),re.writeUInt16(0),re.writeUInt16(ge),re.writeUInt16($),re.writeUInt16(k),re.writeUInt16(te),pe=0,L=A.length;pe<L;pe++)o=A[pe],re.writeUInt16(o);for(re.writeUInt16(0),ke=0,I=H.length;ke<I;ke++)o=H[ke],re.writeUInt16(o);for(Be=0,W=d.length;Be<W;Be++)h=d[Be],re.writeUInt16(h);for(Ge=0,ne=ce.length;Ge<ne;Ge++)U=ce[Ge],re.writeUInt16(U);for(Qe=0,ue=w.length;Qe<ue;Qe++)S=w[Qe],re.writeUInt16(S);return{charMap:a,subtable:re.data,maxGlyphID:D+1}}},r})(),C5=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,a,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)n=new Xg(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var a,o;return n==null&&(n="macroman"),a=Xg.encode(e,n),(o=new ol).writeUInt16(0),o.writeUInt16(1),a.table=o.data.concat(a.subtable),a},r})(),n4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),i4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),r4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="post",r.prototype.parse=function(e){var n,a,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var u,h,d;for(d=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)d.push(e.readUInt32());return d}).call(this)}},r})(),a4=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},s4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="name",r.prototype.parse=function(e){var n,a,o,l,u,h,d,m,b,A,k;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(d={},l=b=0,A=a.length;b<A;l=++b)o=a[l],e.pos=o.offset,m=e.readString(o.length),u=new a4(m,o),d[k=o.nameID]==null&&(d[k]=[]),d[o.nameID].push(u);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),o4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),l4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,a,o,l,u,h,d;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,b;for(b=[],n=m=0;0<=o?m<o:m>o;n=0<=o?++m:--m)b.push(e.readInt16());return b})(),this.widths=(function(){var m,b,A,k;for(k=[],m=0,b=(A=this.metrics).length;m<b;m++)l=A[m],k.push(l.advance);return k}).call(this),a=this.widths[this.widths.length-1],d=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)d.push(this.widths.push(a));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),T5=[].slice,c4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,a,o,l,u,h,d,m,b,A;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(e),(o=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,u=(h=new ol(n.read(o))).readShort(),m=h.readShort(),A=h.readShort(),d=h.readShort(),b=h.readShort(),this.cache[e]=u===-1?new h4(h,m,A,d,b):new u4(h,u,m,A,d,b),this.cache[e]))},r.prototype.encode=function(e,n,a){var o,l,u,h,d;for(u=[],l=[],h=0,d=n.length;h<d;h++)o=e[n[h]],l.push(u.length),o&&(u=u.concat(o.encode(a)));return l.push(u.length),{table:u,offsets:l}},r})(),u4=(function(){function r(e,n,a,o,l,u){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=o,this.xMax=l,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),h4=(function(){function r(e,n,a,o,l){var u,h;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return r.prototype.encode=function(){var e,n,a;for(n=new ol(T5.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},r})(),f4=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Hs(r,_s),r.prototype.tag="loca",r.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],a=0,o=this.length;a<o;a+=4)l.push(e.readUInt32());return l}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<a.length;++u)if(a[u]=o,l<n.length&&n[l]==u){++l,a[u]=o;var h=this.offsets[u],d=this.offsets[u+1]-h;d>0&&(o+=d)}for(var m=new Array(4*a.length),b=0;b<a.length;++b)m[4*b+3]=255&a[b],m[4*b+2]=(65280&a[b])>>8,m[4*b+1]=(16711680&a[b])>>16,m[4*b]=(4278190080&a[b])>>24;return m},r})(),d4=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,a,o,l;for(n in o=this.font.cmap.tables[0].codeMap,e={},l=this.subset)a=l[n],e[n]=o[a];return e},r.prototype.glyphsFor=function(e){var n,a,o,l,u,h,d;for(o={},u=0,h=e.length;u<h;u++)o[l=e[u]]=this.font.glyf.glyphFor(l);for(l in n=[],o)(a=o[l])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(l in d=this.glyphsFor(n))a=d[l],o[l]=a;return o},r.prototype.encode=function(e,n){var a,o,l,u,h,d,m,b,A,k,w,j,S,T,N;for(o in a=C5.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},N=a.charMap)w[(d=N[o]).old]=d.new;for(j in k=a.maxGlyphID,u)j in w||(w[j]=k++);return b=(function(B){var D,U;for(D in U={},B)U[B[D]]=D;return U})(w),A=Object.keys(b).sort(function(B,D){return B-D}),S=(function(){var B,D,U;for(U=[],B=0,D=A.length;B<D;B++)h=A[B],U.push(b[h]);return U})(),l=this.font.glyf.encode(u,S,w),m=this.font.loca.encode(l.offsets,S),T={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();_t.API.PDFObject=(function(){var r;function e(){}return r=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,o,l,u;if(Array.isArray(n))return"["+(function(){var h,d,m;for(m=[],h=0,d=n.length;h<d;h++)a=n[h],m.push(e.convert(a));return m})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in l=["<<"],n)u=n[o],l.push("/"+o+" "+e.convert(u));return l.push(">>"),l.join(`
`)}return""+n},e})();const Ht={slateBlue:[50,65,104],craftsmanOrange:[224,104,41],skyBlue:[175,207,228],deepNavy:[10,17,42],charcoal:[44,44,44],workshopCream:[245,241,232],white:[255,255,255]},Qg=[[224,104,41],[50,65,104],[175,207,228],[139,90,43],[107,142,35],[205,133,63],[70,130,180],[210,105,30],[112,128,144],[188,143,143]],F0={Walnut:[93,64,55],"Walnut - Natural":[109,76,65],"Walnut - Prime":[78,52,46],Cherry:[198,40,40],"Cherry - Select":[211,47,47],"Maple - Hard":[255,204,128],"Maple - Soft":[255,224,178],"Maple - Ambrosia":[255,171,145],"Maple - Birds Eye":[255,243,224],"Maple - Curly":[255,224,130],"Oak - Red":[191,54,12],"Oak - Red QS":[230,74,25],"Oak - Red Rift":[255,87,34],"Oak - White":[215,204,200],"Oak - White QS":[239,235,233],"Oak - White Rift":[251,233,231],"Ash - White":[245,245,245],Poplar:[197,225,165],"Hickory - Calico":[188,170,164],"Hickory - Heart":[161,136,127],"Alder - Knotty":[255,171,145],Basswood:[255,248,225],Beech:[255,228,196],"Birch - Yellow":[255,245,157],Butternut:[212,165,116],Catalpa:[230,221,209],"Cedar - Aromatic":[212,161,144],"Cedar - Western Red":[205,127,50],"Douglas Fir":[222,184,135],"Sycamore - QS":[240,234,214],Beli:[141,110,99],"Black Limba":[62,39,35],Bloodwood:[139,0,0],Canarywood:[255,213,79],Ebiara:[121,85,72],Iroko:[166,124,82],Jatoba:[139,69,19],Leopardwood:[205,133,63],"Mahogany - African":[192,64,0],Olivewood:[128,128,0],"Osage Orange":[255,140,0],Padauk:[255,69,0],"Peruvian Walnut":[101,67,33],"Purple Heart":[153,50,204],"Sapele - QS":[160,82,45],"Spanish Cedar":[210,105,30],Wenge:[28,28,28],Other:[158,158,158]};function L5(r){return F0[r]||F0.Other}function Zg(r){return(.299*r[0]+.587*r[1]+.114*r[2])/255>.5?[0,0,0]:[255,255,255]}function em(r,e){return r.species&&F0[r.species]?L5(r.species):Qg[e%Qg.length]}function tm(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?1:n}function nm(r,e,n){return r*e*n/144}function p4(r){const e=new _t({orientation:"portrait",unit:"pt",format:"letter"}),n=e.internal.pageSize.getWidth(),a=e.internal.pageSize.getHeight(),o=40,l=n-o*2;let u=o;const h=j=>u+j>a-o?(e.addPage(),u=o,!0):!1;if(e.setFillColor(...Ht.deepNavy),e.rect(0,0,n,80,"F"),e.setTextColor(...Ht.white),e.setFontSize(24),e.setFont("helvetica","bold"),e.text(r.name,o,45),r.description&&(e.setFontSize(12),e.setFont("helvetica","normal"),e.text(r.description,o,65)),u=100,e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Stock Boards",o,u),u+=20,r.boards&&r.boards.length>0){e.setFillColor(...Ht.skyBlue),e.rect(o,u,l,20,"F"),e.setTextColor(...Ht.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const j=[o+5,o+150,o+250,o+320,o+380,o+450];e.text("Name",j[0],u+14),e.text("Dimensions",j[1],u+14),e.text("Thickness",j[2],u+14),e.text("Qty",j[3],u+14),e.text("BF Each",j[4],u+14),e.text("Total BF",j[5],u+14),u+=20,e.setFont("helvetica","normal");let S=0,T=0;r.boards.forEach((N,B)=>{h(20),B%2===0&&(e.setFillColor(250,250,250),e.rect(o,u,l,18,"F"));const D=N.quantity||1,U=tm(N.thickness),le=nm(U,N.width,N.length),ce=le*D;S+=ce,T+=D,e.setTextColor(...Ht.charcoal),e.text(N.name||"Unnamed",j[0],u+12),e.text(`${N.length}"  ${N.width}"`,j[1],u+12),e.text(N.thickness,j[2],u+12),e.text(D.toString(),j[3],u+12),e.text(le.toFixed(2),j[4],u+12),e.text(ce.toFixed(2),j[5],u+12),u+=18}),e.setFillColor(...Ht.craftsmanOrange),e.rect(o,u,l,22,"F"),e.setTextColor(...Ht.white),e.setFont("helvetica","bold"),e.text("TOTAL",j[0],u+15),e.text(`${T} pcs`,j[3],u+15),e.text(`${S.toFixed(2)} BF`,j[5],u+15),u+=35}else e.setTextColor(...Ht.charcoal),e.setFontSize(11),e.text("No stock boards defined.",o,u+5),u+=25;h(60),e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Cut List",o,u),u+=20;const d=r.cutPieces||[];if(d.length>0){e.setFillColor(...Ht.skyBlue),e.rect(o,u,l,20,"F"),e.setTextColor(...Ht.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const j=[o+5,o+150,o+280,o+350,o+420];e.text("Piece Name",j[0],u+14),e.text("Dimensions",j[1],u+14),e.text("Thickness",j[2],u+14),e.text("Quantity",j[3],u+14),e.text("Board Feet",j[4],u+14),u+=20,e.setFont("helvetica","normal");let S=0,T=0;d.forEach((N,B)=>{h(20),B%2===0&&(e.setFillColor(250,250,250),e.rect(o,u,l,18,"F"));const D=N.quantity||1,U=tm(N.thickness),le=nm(U,N.width,N.length)*D;S+=le,T+=D,e.setTextColor(...Ht.charcoal),e.text(N.name||"Unnamed",j[0],u+12),e.text(`${N.length}"  ${N.width}"`,j[1],u+12),e.text(N.thickness,j[2],u+12),e.text(D.toString(),j[3],u+12),e.text(le.toFixed(2),j[4],u+12),u+=18}),e.setFillColor(...Ht.craftsmanOrange),e.rect(o,u,l,22,"F"),e.setTextColor(...Ht.white),e.setFont("helvetica","bold"),e.text("TOTAL",j[0],u+15),e.text(`${T} pcs`,j[3],u+15),e.text(`${S.toFixed(2)} BF`,j[4],u+15),u+=35}else e.setTextColor(...Ht.charcoal),e.setFontSize(11),e.text("No cut pieces defined.",o,u+5),u+=25;const m=r.cutPlan;if(m&&m.assignments&&m.assignments.length>0){h(80),e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Cut Plan",o,u),u+=25,e.setFillColor(...Ht.deepNavy),e.rect(o,u,l,35,"F");const j=l/3;e.setTextColor(...Ht.white),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`${m.efficiency.toFixed(1)}%`,o+j*.5,u+15,{align:"center"}),e.text(`${m.waste.toFixed(2)} BF`,o+j*1.5,u+15,{align:"center"}),e.text(`${m.boardsUsed}/${m.totalStockBoards}`,o+j*2.5,u+15,{align:"center"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("EFFICIENCY",o+j*.5,u+28,{align:"center"}),e.text("WASTE",o+j*1.5,u+28,{align:"center"}),e.text("BOARDS USED",o+j*2.5,u+28,{align:"center"}),u+=50,m.warnings&&m.warnings.length>0&&m.warnings.forEach(S=>{h(25),e.setFillColor(255,243,205),e.rect(o,u,l,20,"F"),e.setDrawColor(255,193,7),e.rect(o,u,l,20,"S"),e.setTextColor(133,100,4),e.setFontSize(9),e.text(S,o+10,u+13),u+=25}),m.assignments.forEach((S,T)=>{const N=l,B=150,D=N/S.length,U=B/S.width,le=Math.min(D,U,4),ce=S.length*le,te=S.width*le;h(te+50),e.setTextColor(...Ht.deepNavy),e.setFontSize(11),e.setFont("helvetica","bold");let $=S.stockBoardName;S.stockBoardIndex>0&&($+=` (#${S.stockBoardIndex+1})`),e.text($,o,u+12),e.setFont("helvetica","normal"),e.setTextColor(...Ht.charcoal);let Y=` - ${S.length}"  ${S.width}"  ${S.thickness}`;if(e.text(Y,o+e.getTextWidth($),u+12),S.species){const M=o+e.getTextWidth($)+e.getTextWidth(Y)+10,H=L5(S.species);e.setFillColor(...H),e.circle(M+4,u+9,4,"F"),e.setTextColor(...Ht.charcoal),e.text(` ${S.species}`,M+10,u+12)}u+=20;const ge=o+(l-ce)/2;e.setFillColor(...Ht.workshopCream),e.setDrawColor(...Ht.charcoal),e.rect(ge,u,ce,te,"FD"),S.cuts.forEach((M,H)=>{const ae=ge+M.x*le,re=u+M.y*le,we=M.length*le,ee=M.width*le,X=em(M,H),ie=Zg(X);if(e.setFillColor(...X),e.setDrawColor(...Ht.deepNavy),e.rect(ae,re,we,ee,"FD"),we>30&&ee>12){e.setTextColor(...ie),e.setFontSize(Math.min(9,ee*.5)),e.setFont("helvetica","bold");let xe=M.cutPieceName;M.cutPieceIndex>0&&(xe+=` #${M.cutPieceIndex+1}`);const Le=we-6;for(;e.getTextWidth(xe)>Le&&xe.length>3;)xe=xe.slice(0,-4)+"...";e.text(xe,ae+we/2,re+ee/2+3,{align:"center"})}}),u+=te+20})}const b=r.sheetGoods||[],A=r.sheetCutPieces||[];if(b.length>0||A.length>0){if(h(60),e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Stock",o,u),u+=20,b.length>0){e.setFillColor(...Ht.skyBlue),e.rect(o,u,l,20,"F"),e.setTextColor(...Ht.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const S=[o+5,o+150,o+280,o+350,o+420];e.text("Name",S[0],u+14),e.text("Dimensions",S[1],u+14),e.text("Thickness",S[2],u+14),e.text("Qty",S[3],u+14),e.text("Sq Ft",S[4],u+14),u+=20,e.setFont("helvetica","normal");let T=0,N=0;b.forEach((B,D)=>{h(20),D%2===0&&(e.setFillColor(250,250,250),e.rect(o,u,l,18,"F"));const U=B.quantity||1,le=B.length*B.width/144*U;T+=le,N+=U,e.setTextColor(...Ht.charcoal),e.text(B.name||`${B.product} ${B.thickness}"`,S[0],u+12),e.text(`${B.length}"  ${B.width}"`,S[1],u+12),e.text(`${B.thickness}"`,S[2],u+12),e.text(U.toString(),S[3],u+12),e.text(le.toFixed(1),S[4],u+12),u+=18}),e.setFillColor(...Ht.craftsmanOrange),e.rect(o,u,l,22,"F"),e.setTextColor(...Ht.white),e.setFont("helvetica","bold"),e.text("TOTAL",S[0],u+15),e.text(`${N} sheets`,S[3],u+15),e.text(`${T.toFixed(1)} sq ft`,S[4],u+15),u+=35}if(A.length>0){h(60),e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Cut List",o,u),u+=20,e.setFillColor(...Ht.skyBlue),e.rect(o,u,l,20,"F"),e.setTextColor(...Ht.deepNavy),e.setFontSize(10),e.setFont("helvetica","bold");const S=[o+5,o+130,o+250,o+320,o+380,o+440];e.text("Piece Name",S[0],u+14),e.text("Dimensions",S[1],u+14),e.text("Thickness",S[2],u+14),e.text("Product",S[3],u+14),e.text("Qty",S[4],u+14),e.text("Sq Ft",S[5],u+14),u+=20,e.setFont("helvetica","normal");let T=0,N=0;A.forEach((B,D)=>{h(20),D%2===0&&(e.setFillColor(250,250,250),e.rect(o,u,l,18,"F"));const U=B.quantity||1,le=B.length*B.width/144*U;T+=le,N+=U,e.setTextColor(...Ht.charcoal),e.text(B.name||"Unnamed",S[0],u+12),e.text(`${B.length}"  ${B.width}"`,S[1],u+12),e.text(`${B.thickness}"`,S[2],u+12),e.text(B.product||"",S[3],u+12),e.text(U.toString(),S[4],u+12),e.text(le.toFixed(1),S[5],u+12),u+=18}),e.setFillColor(...Ht.craftsmanOrange),e.rect(o,u,l,22,"F"),e.setTextColor(...Ht.white),e.setFont("helvetica","bold"),e.text("TOTAL",S[0],u+15),e.text(`${N} pcs`,S[4],u+15),e.text(`${T.toFixed(1)} sq ft`,S[5],u+15),u+=35}const j=r.sheetCutPlan;if(j&&j.assignments&&j.assignments.length>0){h(80),e.setTextColor(...Ht.slateBlue),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("Sheet Cut Plan",o,u),u+=25,e.setFillColor(...Ht.deepNavy),e.rect(o,u,l,35,"F");const S=l/3;e.setTextColor(...Ht.white),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(`${j.efficiency.toFixed(1)}%`,o+S*.5,u+15,{align:"center"}),e.text(`${j.waste.toFixed(2)} sq ft`,o+S*1.5,u+15,{align:"center"}),e.text(`${j.boardsUsed}/${j.totalStockBoards}`,o+S*2.5,u+15,{align:"center"}),e.setFontSize(8),e.setFont("helvetica","normal"),e.text("EFFICIENCY",o+S*.5,u+28,{align:"center"}),e.text("WASTE",o+S*1.5,u+28,{align:"center"}),e.text("SHEETS USED",o+S*2.5,u+28,{align:"center"}),u+=50,j.warnings&&j.warnings.length>0&&j.warnings.forEach(T=>{h(25),e.setFillColor(255,243,205),e.rect(o,u,l,20,"F"),e.setDrawColor(255,193,7),e.rect(o,u,l,20,"S"),e.setTextColor(133,100,4),e.setFontSize(9),e.text(T,o+10,u+13),u+=25}),j.assignments.forEach((T,N)=>{const B=l,D=150,U=B/T.length,le=D/T.width,ce=Math.min(U,le,4),te=T.length*ce,$=T.width*ce;h($+50),e.setTextColor(...Ht.deepNavy),e.setFontSize(11),e.setFont("helvetica","bold");let Y=T.stockBoardName||"Sheet";T.stockBoardIndex>0&&(Y+=` (#${T.stockBoardIndex+1})`),e.text(Y,o,u+12),e.setFont("helvetica","normal"),e.setTextColor(...Ht.charcoal);let ge=` - ${T.length}"  ${T.width}"  ${T.thickness}`;if(e.text(ge,o+e.getTextWidth(Y),u+12),T.species){const H=o+e.getTextWidth(Y)+e.getTextWidth(ge)+10;e.setTextColor(...Ht.charcoal),e.text(` ${T.species}`,H,u+12)}u+=20;const M=o+(l-te)/2;e.setFillColor(...Ht.workshopCream),e.setDrawColor(...Ht.charcoal),e.rect(M,u,te,$,"FD"),T.cuts.forEach((H,ae)=>{const re=M+H.x*ce,we=u+H.y*ce,ee=H.length*ce,X=H.width*ce,ie=em(H,ae),xe=Zg(ie);if(e.setFillColor(...ie),e.setDrawColor(...Ht.deepNavy),e.rect(re,we,ee,X,"FD"),ee>30&&X>12){e.setTextColor(...xe),e.setFontSize(Math.min(9,X*.5)),e.setFont("helvetica","bold");let Le=H.cutPieceName;H.cutPieceIndex>0&&(Le+=` #${H.cutPieceIndex+1}`);const G=ee-6;for(;e.getTextWidth(Le)>G&&Le.length>3;)Le=Le.slice(0,-4)+"...";e.text(Le,re+ee/2,we+X/2+3,{align:"center"})}}),u+=$+20})}}const k=a-25;e.setTextColor(...Ht.charcoal),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Generated: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,o,k),e.text("CutSmart by The Joinery",n-o,k,{align:"right"});const w=`${r.name.replace(/[^a-z0-9]/gi,"_")}_cut_plan.pdf`;e.save(w)}function Of(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function g4(r,e,n,a){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{m(a.next(b))}catch(A){u(A)}}function d(b){try{m(a.throw(b))}catch(A){u(A)}}function m(b){b.done?l(b.value):o(b.value).then(h,d)}m((a=a.apply(r,e||[])).next())})}const m4=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class op extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class v4 extends op{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends op{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class rm extends op{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(I0||(I0={}));class y4{constructor(e,{headers:n={},customFetch:a,region:o=I0.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=m4(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return g4(this,arguments,void 0,function*(n,a={}){var o;let l,u;try{const{headers:h,method:d,body:m,signal:b,timeout:A}=a;let k={},{region:w}=a;w||(w=this.region);const j=new URL(`${this.url}/${n}`);w&&w!=="any"&&(k["x-region"]=w,j.searchParams.set("forceFunctionRegion",w));let S;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(k["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(k["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(k["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let T=b;A&&(u=new AbortController,l=setTimeout(()=>u.abort(),A),b?(T=u.signal,b.addEventListener("abort",()=>u.abort())):T=u.signal);const N=yield this.fetch(j.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},k),this.headers),h),body:S,signal:T}).catch(le=>{throw new v4(le)}),B=N.headers.get("x-relay-error");if(B&&B==="true")throw new im(N);if(!N.ok)throw new rm(N);let D=((o=N.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return D==="application/json"?U=yield N.json():D==="application/octet-stream"||D==="application/pdf"?U=yield N.blob():D==="text/event-stream"?U=N:D==="multipart/form-data"?U=yield N.formData():U=yield N.text(),{data:U,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof rm||h instanceof im?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var b4=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},w4=class{constructor(r){var e,n;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(n=r.isMaybeSingle)!==null&&n!==void 0?n:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,d=null,m=l.status,b=l.statusText;if(l.ok){var A,k;if(n.method!=="HEAD"){var w;const N=await l.text();N===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=N:h=JSON.parse(N))}const S=(A=n.headers.get("Prefer"))===null||A===void 0?void 0:A.match(/count=(exact|planned|estimated)/),T=(k=l.headers.get("content-range"))===null||k===void 0?void 0:k.split("/");S&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,m=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var j;const S=await l.text();try{u=JSON.parse(S),Array.isArray(u)&&l.status===404&&(h=[],u=null,m=200,b="OK")}catch{l.status===404&&S===""?(m=204,b="No Content"):u={message:S}}if(u&&n.isMaybeSingle&&(!(u==null||(j=u.details)===null||j===void 0)&&j.includes("0 rows"))&&(u=null,m=200,b="OK"),u&&n.shouldThrowOnError)throw new b4(u)}return{error:u,data:h,count:d,status:m,statusText:b}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let h="";const d=l?.cause;if(d){var m,b,A,k;const j=(m=d?.message)!==null&&m!==void 0?m:"",S=(b=d?.code)!==null&&b!==void 0?b:"";h=`${(A=l?.name)!==null&&A!==void 0?A:"FetchError"}: ${l?.message}`,h+=`

Caused by: ${(k=d?.name)!==null&&k!==void 0?k:"Error"}: ${j}`,S&&(h+=` (${S})`),d?.stack&&(h+=`
${d.stack}`)}else{var w;h=(w=l?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},_4=class extends w4{select(r){let e=!1;const n=(r??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:n=e}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,e,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(l,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var u;const h=[r?"analyze":null,e?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${d}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const am=new RegExp("[,()]");var Jc=class extends _4{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&am.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${n})`),this}notIn(r,e){const n=Array.from(new Set(e)).map(a=>typeof a=="string"&&am.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${n})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(r,`${o}fts${l}.${e}`),this}match(r){return Object.entries(r).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(r,e,n){return this.url.searchParams.append(r,`not.${e}.${n}`),this}or(r,{foreignTable:e,referencedTable:n=e}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,e,n){return this.url.searchParams.append(r,`${e}.${n}`),this}},x4=class{constructor(r,{headers:e={},schema:n,fetch:a}){this.url=r,this.headers=new Headers(e),this.schema=n,this.fetch=a}select(r,e){const{head:n=!1,count:a}=e??{},o=n?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new Jc({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:n=!0}={}){var a;const o="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const l=r.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jc({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new Jc({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(r,{count:e}={}){var n;const a="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Jc({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:r}={}){var e;const n="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new Jc({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},S4=class O5{constructor(e,{headers:n={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new x4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new O5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:a=!1,get:o=!1,count:l}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let m;a||o?(h=a?"HEAD":"GET",Object.entries(n).filter(([A,k])=>k!==void 0).map(([A,k])=>[A,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([A,k])=>{d.searchParams.append(A,k)})):(h="POST",m=n);const b=new Headers(this.headers);return l&&b.set("Prefer",`count=${l}`),new Jc({method:h,url:d,headers:b,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class N4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const A4="2.89.0",j4=`realtime-js/${A4}`,R5="1.0.0",E4="2.0.0",sm=R5,z0=1e4,k4=1e3,C4=100;var rl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(rl||(rl={}));var Qi;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Qi||(Qi={}));var ys;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ys||(ys={}));var H0;(function(r){r.websocket="websocket"})(H0||(H0={}));var Il;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Il||(Il={}));class T4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,a;const o=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,a){var o,l;const u=e.topic,h=(o=e.ref)!==null&&o!==void 0?o:"",d=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},A=Object.keys(b).length===0?"":JSON.stringify(b);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`metadata length ${A.length} exceeds maximum of 255`);const k=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+u.length+m.length+A.length,w=new ArrayBuffer(this.HEADER_LENGTH+k);let j=new DataView(w),S=0;j.setUint8(S++,this.KINDS.userBroadcastPush),j.setUint8(S++,d.length),j.setUint8(S++,h.length),j.setUint8(S++,u.length),j.setUint8(S++,m.length),j.setUint8(S++,A.length),j.setUint8(S++,n),Array.from(d,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(h,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(u,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(m,N=>j.setUint8(S++,N.charCodeAt(0))),Array.from(A,N=>j.setUint8(S++,N.charCodeAt(0)));var T=new Uint8Array(w.byteLength+a.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(a),w.byteLength),T.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,l,u,h,d]=a;return n({join_ref:o,ref:l,topic:u,event:h,payload:d})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,a){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let d=this.HEADER_LENGTH+4;const m=a.decode(e.slice(d,d+o));d=d+o;const b=a.decode(e.slice(d,d+l));d=d+l;const A=a.decode(e.slice(d,d+u));d=d+u;const k=e.slice(d,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(a.decode(k)):k,j={type:this.BROADCAST_EVENT,event:b,payload:w};return u>0&&(j.meta=JSON.parse(A)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>n.includes(a)))}}class D5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Wn||(Wn={}));const om=(r,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=L4(u,r,e,o),l),{}):{}},L4=(r,e,n,a)=>{const o=e.find(h=>h.name===r),l=o?.type,u=n[r];return l&&!a.includes(l)?B5(l,u):$0(u)},B5=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return B4(e,n)}switch(r){case Wn.bool:return O4(e);case Wn.float4:case Wn.float8:case Wn.int2:case Wn.int4:case Wn.int8:case Wn.numeric:case Wn.oid:return R4(e);case Wn.json:case Wn.jsonb:return D4(e);case Wn.timestamp:return P4(e);case Wn.abstime:case Wn.date:case Wn.daterange:case Wn.int4range:case Wn.int8range:case Wn.money:case Wn.reltime:case Wn.text:case Wn.time:case Wn.timestamptz:case Wn.timetz:case Wn.tsrange:case Wn.tstzrange:return $0(e);default:return $0(e)}},$0=r=>r,O4=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},R4=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},D4=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},B4=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>B5(e,h))}return r},P4=r=>typeof r=="string"?r.replace(" ","T"):r,P5=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class w0{constructor(e,n,a={},o=z0){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(lm||(lm={}));class Xu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xu.syncState(this.state,o,l,u),this.pendingDiffs.forEach(d=>{this.state=Xu.syncDiff(this.state,d,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xu.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const l=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(l,(m,b)=>{u[m]||(d[m]=b)}),this.map(u,(m,b)=>{const A=l[m];if(A){const k=b.map(T=>T.presence_ref),w=A.map(T=>T.presence_ref),j=b.filter(T=>w.indexOf(T.presence_ref)<0),S=A.filter(T=>k.indexOf(T.presence_ref)<0);j.length>0&&(h[m]=j),S.length>0&&(d[m]=S)}else h[m]=b}),this.syncDiff(l,{joins:h,leaves:d},a,o)}static syncDiff(e,n,a,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,d)=>{var m;const b=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(d),b.length>0){const A=e[h].map(w=>w.presence_ref),k=b.filter(w=>A.indexOf(w.presence_ref)<0);e[h].unshift(...k)}a(h,b,d)}),this.map(u,(h,d)=>{let m=e[h];if(!m)return;const b=d.map(A=>A.presence_ref);m=m.filter(A=>b.indexOf(A.presence_ref)<0),e[h]=m,o(h,m,d),m.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(cm||(cm={}));var Qu;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Qu||(Qu={}));var bo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(bo||(bo={}));class eu{constructor(e,n={config:{}},a){var o,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Qi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new w0(this,ys.join,this.params,this.timeout),this.rejoinTimer=new D5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qi.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Qi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ys.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Xu(this),this.broadcastEndpointURL=P5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Qi.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Qu.PRESENCE]&&this.bindings[Qu.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,A={},k={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:b}),postgres_changes:m,private:d};this.socket.accessTokenValue&&(A.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(bo.CHANNEL_ERROR,w)),this._onClose(()=>e?.(bo.CLOSED)),this.updateJoinPayload(Object.assign({config:k},A)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(bo.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,T=(j=S?.length)!==null&&j!==void 0?j:0,N=[];for(let B=0;B<T;B++){const D=S[B],{filter:{event:U,schema:le,table:ce,filter:te}}=D,$=w&&w[B];if($&&$.event===U&&eu.isFilterValueEqual($.schema,le)&&eu.isFilterValueEqual($.table,ce)&&eu.isFilterValueEqual($.filter,te))N.push(Object.assign(Object.assign({},D),{id:$.id}));else{this.unsubscribe(),this.state=Qi.errored,e?.(bo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(bo.SUBSCRIBED);return}}).receive("error",w=>{this.state=Qi.errored,e?.(bo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(bo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Qi.joined&&e===Qu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const m=await h.json();d=m.error||m.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,d;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ys.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new w0(this,ys.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qi.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new w0(this,e,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>C4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,l;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:m,join:b}=ys;if(a&&[h,d,m,b].indexOf(u)>=0&&a!==this._joinRef())return;let k=this._onMessage(u,n,a);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var j,S,T;return((j=w.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(S=w.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(w=>w.callback(k,a)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var j,S,T,N,B,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const U=w.id,le=(j=w.filter)===null||j===void 0?void 0:j.event;return U&&((S=n.ids)===null||S===void 0?void 0:S.includes(U))&&(le==="*"||le?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(B=(N=w?.filter)===null||N===void 0?void 0:N.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return U==="*"||U===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof k=="object"&&"ids"in k){const j=k.data,{schema:S,table:T,commit_timestamp:N,type:B,errors:D}=j;k=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:N,eventType:B,new:{},old:{},errors:D}),this._getPayloadRecords(j))}w.callback(k,a)})}_isClosed(){return this.state===Qi.closed}_isJoined(){return this.state===Qi.joined}_isJoining(){return this.state===Qi.joining}_isLeaving(){return this.state===Qi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&eu.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ys.close,{},e)}_onError(e){this._on(ys.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=om(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=om(e.columns,e.old_record)),n}}const _0=()=>{},ff={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M4=[1e3,2e3,5e3,1e4],q4=1e4,U4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F4{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=z0,this.transport=null,this.heartbeatIntervalMs=ff.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_0,this.ref=0,this.reconnectTimer=null,this.vsn=sm,this.logger=_0,this.conn=null,this.sendBuffer=[],this.serializer=new T4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${H0.websocket}`,this.httpEndpoint=P5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=N4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case rl.connecting:return Il.Connecting;case rl.open:return Il.Open;case rl.closing:return Il.Closing;default:return Il.Closed}}isConnected(){return this.connectionState()===Il.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new eu(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:o,ref:l}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(k4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ff.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:l,ref:u}=n,h=u?`(${u})`:"",d=l.status||"";this.log("receive",`${d} ${a} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===rl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rl.open||this.conn.readyState===rl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ys.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([U4],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,a=!1;if(e)n=e,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:j4};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(ys.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new D5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ff.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,o,l,u,h,d,m,b,A,k,w;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:z0,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:ff.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:_0,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:sm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(j=>M4[j-1]||q4),this.vsn){case R5:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((j,S)=>S(JSON.stringify(j))),this.decode=(A=e?.decode)!==null&&A!==void 0?A:((j,S)=>S(JSON.parse(j)));break;case E4:this.encode=(k=e?.encode)!==null&&k!==void 0?k:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var th=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I4(r,e,n){const a=new URL(e,r);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function z4(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function H4(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:l,headers:u}){const h=I4(r.baseUrl,a,o),d=await z4(r.auth),m=await e(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...d,...u},body:l?JSON.stringify(l):void 0}),b=await m.text(),A=(m.headers.get("content-type")||"").includes("application/json"),k=A&&b?JSON.parse(b):b;if(!m.ok){const w=A?k:void 0,j=w?.error;throw new th(j?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:j?.type,icebergCode:j?.code,details:w})}return{status:m.status,headers:m.headers,data:k}}}}function df(r){return r.join("")}var $4=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:df(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const n={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${df(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${df(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${df(r.namespace)}`}),!0}catch(e){if(e instanceof th&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(n){if(n instanceof th&&n.status===409)return;throw n}}};function zc(r){return r.join("")}var G4=class{constructor(r,e="",n){this.client=r,this.prefix=e,this.accessDelegation=n}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(r,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zc(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(n){if(n instanceof th&&n.status===404)return!1;throw n}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(n){if(n instanceof th&&n.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw n}}},V4=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const n=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=H4({baseUrl:n,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new $4(this.client,e),this.tableOps=new G4(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Rf=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function pi(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Y4=class extends Rf{constructor(r,e,n){super(r),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G0=class extends Rf{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const lp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),W4=()=>Response,V0=r=>{if(Array.isArray(r))return r.map(n=>V0(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=V0(a)}),e},K4=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},J4=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function nh(r){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(r)}function X4(r,e){if(nh(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(nh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Q4(r){var e=X4(r,"string");return nh(e)=="symbol"?e:e+""}function Z4(r,e,n){return(e=Q4(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function um(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function qt(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?um(Object(n),!0).forEach(function(a){Z4(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const x0=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},e3=async(r,e,n)=>{r instanceof await W4()&&!n?.noResolveJson?r.json().then(a=>{const o=r.status||500,l=a?.statusCode||o+"";e(new Y4(x0(a),o,l))}).catch(a=>{e(new G0(x0(a),a))}):e(new G0(x0(r),r))},t3=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"||!a?o:(K4(a)?(o.headers=qt({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,e?.duplex&&(o.duplex=e.duplex),qt(qt({},o),n))};async function ch(r,e,n,a,o,l){return new Promise((u,h)=>{r(n,t3(e,a,o,l)).then(d=>{if(!d.ok)throw d;return a?.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>e3(d,h,a))})}async function ih(r,e,n,a){return ch(r,"GET",e,n,a)}async function vs(r,e,n,a,o){return ch(r,"POST",e,a,o,n)}async function Y0(r,e,n,a,o){return ch(r,"PUT",e,a,o,n)}async function n3(r,e,n,a){return ch(r,"HEAD",e,qt(qt({},n),{},{noResolveJson:!0}),a)}async function cp(r,e,n,a,o){return ch(r,"DELETE",e,a,o,n)}var i3=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(pi(e))return{data:null,error:e};throw e}}};let M5;M5=Symbol.toStringTag;var r3=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[M5]="BlobDownloadBuilder",this.promise=null}asStream(){return new i3(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(pi(e))return{data:null,error:e};throw e}}};const a3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var s3=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=n,this.fetch=lp(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,n,a){var o=this;try{let l;const u=qt(qt({},hm),a);let h=qt(qt({},o.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),d&&l.append("metadata",o.encodeMetadata(d)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),d&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(d))):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(d))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(h=qt(qt({},h),a.headers));const m=o._removeEmptyFolders(e),b=o._getFinalPath(m),A=await(r=="PUT"?Y0:vs)(o.fetch,`${o.url}/object/${b}`,l,qt({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:A.Id,fullPath:A.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(pi(l))return{data:null,error:l};throw l}}async upload(r,e,n){return this.uploadOrUpdate("POST",r,e,n)}async uploadToSignedUrl(r,e,n,a){var o=this;const l=o._removeEmptyFolders(r),u=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let d;const m=qt({upsert:hm.upsert},a),b=qt(qt({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",m.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",m.cacheControl)):(d=n,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType),{data:{path:l,fullPath:(await Y0(o.fetch,h.toString(),d,{headers:b})).Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(pi(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(r,e){var n=this;try{let a=n._getFinalPath(r);const o=qt({},n.headers);e?.upsert&&(o["x-upsert"]="true");const l=await vs(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(n.url+l.url),h=u.searchParams.get("token");if(!h)throw new Rf("No token returned by API");return{data:{signedUrl:u.toString(),path:r,token:h},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pi(a))return{data:null,error:a};throw a}}async update(r,e,n){return this.uploadOrUpdate("PUT",r,e,n)}async move(r,e,n){var a=this;try{return{data:await vs(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pi(o))return{data:null,error:o};throw o}}async copy(r,e,n){var a=this;try{return{data:{path:(await vs(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pi(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,n){var a=this;try{let o=a._getFinalPath(r),l=await vs(a.fetch,`${a.url}/object/sign/${o}`,qt({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pi(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,n){var a=this;try{const o=await vs(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:r},{headers:a.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>qt(qt({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pi(o))return{data:null,error:o};throw o}}download(r,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),o=a?`?${a}`:"",l=this._getFinalPath(r),u=()=>ih(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new r3(u,this.shouldThrowOnError)}async info(r){var e=this;const n=e._getFinalPath(r);try{return{data:V0(await ih(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pi(a))return{data:null,error:a};throw a}}async exists(r){var e=this;const n=e._getFinalPath(r);try{return await n3(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(pi(a)&&a instanceof G0){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,e){const n=this._getFinalPath(r),a=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const l=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async list(r,e,n){var a=this;try{const o=qt(qt(qt({},a3),e),{},{prefix:r||""});return{data:await vs(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(pi(o))return{data:null,error:o};throw o}}async listV2(r,e){var n=this;try{const a=qt({},r);return{data:await vs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},e),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pi(a))return{data:null,error:a};throw a}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const q5="2.89.0",U5={"X-Client-Info":`storage-js/${q5}`};var o3=class{constructor(r,e={},n,a){this.shouldThrowOnError=!1;const o=new URL(r);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=qt(qt({},U5),e),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const n=e.listBucketOptionsToQueryString(r);return{data:await ih(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await ih(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async createBucket(r,e={public:!1}){var n=this;try{return{data:await vs(n.fetch,`${n.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pi(a))return{data:null,error:a};throw a}}async updateBucket(r,e){var n=this;try{return{data:await Y0(n.fetch,`${n.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(pi(a))return{data:null,error:a};throw a}}async emptyBucket(r){var e=this;try{return{data:await vs(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},l3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=qt(qt({},U5),e),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await vs(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async listBuckets(r){var e=this;try{const n=new URLSearchParams;r?.limit!==void 0&&n.set("limit",r.limit.toString()),r?.offset!==void 0&&n.set("offset",r.offset.toString()),r?.sortColumn&&n.set("sortColumn",r.sortColumn),r?.sortOrder&&n.set("sortOrder",r.sortOrder),r?.search&&n.set("search",r.search);const a=n.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return{data:await ih(e.fetch,o,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await cp(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(pi(n))return{data:null,error:n};throw n}}from(r){var e=this;if(!J4(r))throw new Rf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new V4({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(d){if(a)throw d;return{data:null,error:d}}}}})}};const up={"X-Client-Info":`storage-js/${q5}`,"Content-Type":"application/json"};var F5=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xa(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var S0=class extends F5{constructor(r,e,n){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},c3=class extends F5{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const hp=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),u3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},fm=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),h3=async(r,e,n)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const a=r.status||500,o=r;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||a+"";e(new S0(fm(l),a,u))}).catch(()=>{const l=a+"";e(new S0(o.statusText||`HTTP ${a} error`,a,l))});else{const l=a+"";e(new S0(o.statusText||`HTTP ${a} error`,a,l))}}else e(new c3(fm(r),r))},f3=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return a?(u3(a)?(o.headers=qt({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(a)):o.body=a,qt(qt({},o),n)):o};async function d3(r,e,n,a,o,l){return new Promise((u,h)=>{r(n,f3(e,a,o,l)).then(d=>{if(!d.ok)throw d;if(a?.noResolveJson)return d;const m=d.headers.get("content-type");return!m||!m.includes("application/json")?{}:d.json()}).then(d=>u(d)).catch(d=>h3(d,h,a))})}async function Sa(r,e,n,a,o){return d3(r,"POST",e,a,o,n)}var p3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=qt(qt({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getIndex(r,e){var n=this;try{return{data:await Sa(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}async listIndexes(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteIndex(r,e){var n=this;try{return{data:await Sa(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xa(a))return{data:null,error:a};throw a}}},g3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=qt(qt({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sa(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getVectors(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Sa(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async queryVectors(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sa(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},m3=class{constructor(r,e={},n){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=qt(qt({},up),e),this.fetch=hp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async getBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listBuckets(r={}){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async deleteBucket(r){var e=this;try{return{data:await Sa(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},v3=class extends m3{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new y3(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,n=this;return e().call(n,r)}async getBucket(r){var e=()=>super.getBucket,n=this;return e().call(n,r)}async listBuckets(r={}){var e=()=>super.listBuckets,n=this;return e().call(n,r)}async deleteBucket(r){var e=()=>super.deleteBucket,n=this;return e().call(n,r)}},y3=class extends p3{constructor(r,e,n,a){super(r,e,a),this.vectorBucketName=n}async createIndex(r){var e=()=>super.createIndex,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,r)}index(r){return new b3(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},b3=class extends g3{constructor(r,e,n,a,o){super(r,e,o),this.vectorBucketName=n,this.indexName=a}async putVectors(r){var e=()=>super.putVectors,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(r){var e=()=>super.getVectors,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,n=this;return e().call(n,qt(qt({},r),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},w3=class extends o3{constructor(r,e={},n,a){super(r,e,n,a)}from(r){return new s3(this.url,this.headers,r,this.fetch)}get vectors(){return new v3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new l3(this.url+"/iceberg",this.headers,this.fetch)}};const I5="2.89.0",Xc=30*1e3,W0=3,N0=W0*Xc,_3="http://localhost:9999",x3="supabase.auth.token",S3={"X-Client-Info":`gotrue-js/${I5}`},K0="X-Supabase-Api-Version",z5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A3=600*1e3;class rh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function wt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class j3 extends rh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function E3(r){return wt(r)&&r.name==="AuthApiError"}class zl extends rh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _o extends rh{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}}class _a extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k3(r){return wt(r)&&r.name==="AuthSessionMissingError"}class Hc extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pf extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gf extends _o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C3(r){return wt(r)&&r.name==="AuthImplicitGrantRedirectError"}class dm extends _o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class T3 extends _o{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class J0 extends _o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function A0(r){return wt(r)&&r.name==="AuthRetryableFetchError"}class pm extends _o{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class X0 extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gm=` 	
\r=`.split(""),L3=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<gm.length;e+=1)r[gm[e].charCodeAt(0)]=-2;for(let e=0;e<Ef.length;e+=1)r[Ef[e].charCodeAt(0)]=e;return r})();function mm(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Ef[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Ef[a]),e.queuedBits-=6}}function H5(r,e,n){const a=L3[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function vm(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{D3(u,a,n)};for(let u=0;u<r.length;u+=1)H5(r.charCodeAt(u),o,l);return e.join("")}function O3(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function R3(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}O3(a,e)}}function D3(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function au(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)H5(r.charCodeAt(o),n,a);return new Uint8Array(e)}function B3(r){const e=[];return R3(r,n=>e.push(n)),new Uint8Array(e)}function Hl(r){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return r.forEach(o=>mm(o,n,a)),mm(null,n,a),e.join("")}function P3(r){return Math.round(Date.now()/1e3)+r}function M3(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",Pl={tested:!1,writable:!1},$5=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pl.tested)return Pl.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Pl.tested=!0,Pl.writable=!0}catch{Pl.tested=!0,Pl.writable=!1}return Pl.writable};function q3(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const G5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),U3=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Qc=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},Ml=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wr=async(r,e)=>{await r.removeItem(e)};class Df{constructor(){this.promise=new Df.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Df.promiseConstructor=Promise;function j0(r){const e=r.split(".");if(e.length!==3)throw new X0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!N3.test(e[a]))throw new X0("JWT not in base64url format");return{header:JSON.parse(vm(e[0])),payload:JSON.parse(vm(e[1])),signature:au(e[2]),raw:{header:e[0],payload:e[1]}}}async function F3(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function I3(r,e){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function z3(r){return("0"+r.toString(16)).substr(-2)}function H3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,z3).join("")}async function $3(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function G3(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await $3(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $c(r,e,n=!1){const a=H3();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await Qc(r,`${e}-code-verifier`,o);const l=await G3(a);return[l,a===l?"plain":"s256"]}const V3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Y3(r){const e=r.headers.get(K0);if(!e||!e.match(V3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function W3(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function K3(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gc(r){if(!J3.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function E0(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X3(r,e){return new Proxy(r,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,o)}})}function ym(r){return JSON.parse(JSON.stringify(r))}const Ul=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Q3=[502,503,504];async function bm(r){var e;if(!U3(r))throw new J0(Ul(r),0);if(Q3.includes(r.status))throw new J0(Ul(r),r.status);let n;try{n=await r.json()}catch(l){throw new zl(Ul(l),l)}let a;const o=Y3(r);if(o&&o.getTime()>=z5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new pm(Ul(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new _a}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new pm(Ul(n),r.status,n.weak_password.reasons);throw new j3(Ul(n),r.status||500,a)}const Z3=(r,e,n,a)=>{const o={method:r,headers:e?.headers||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Mt(r,e,n,a){var o;const l=Object.assign({},a?.headers);l[K0]||(l[K0]=z5["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await e_(r,e,n+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(d):{data:Object.assign({},d),error:null}}async function e_(r,e,n,a,o,l){const u=Z3(e,a,o,l);let h;try{h=await r(n,Object.assign({},u))}catch(d){throw console.error(d),new J0(Ul(d),0)}if(h.ok||await bm(h),a?.noResolveJson)return h;try{return await h.json()}catch(d){await bm(d)}}function ms(r){var e;let n=null;i_(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=P3(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function wm(r){const e=ms(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function al(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function t_(r){return{data:r,error:null}}function n_(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l}=r,u=Of(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function _m(r){return r}function i_(r){return r.access_token&&r.refresh_token&&r.expires_in}const k0=["global","local","others"];class r_{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=G5(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=k0[0]){if(k0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${k0.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(wt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:al})}catch(a){if(wt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Of(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:n_,redirectTo:n?.redirectTo})}catch(n){if(wt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:al})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,l,u,h,d;try{const m={nextPage:null,lastPage:0,total:0},b=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_m});if(b.error)throw b.error;const A=await b.json(),k=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(d=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);m[`${T}Page`]=S}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},A),m),error:null}}catch(m){if(wt(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Gc(e);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:al})}catch(n){if(wt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Gc(e);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:al})}catch(a){if(wt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Gc(e);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:al})}catch(a){if(wt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Gc(e.userId);try{const{data:n,error:a}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Gc(e.userId),Gc(e.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,o,l,u,h,d;try{const m={nextPage:null,lastPage:0,total:0},b=await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_m});if(b.error)throw b.error;const A=await b.json(),k=(u=b.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(d=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(j=>{const S=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);m[`${T}Page`]=S}),m.total=parseInt(k)),{data:Object.assign(Object.assign({},A),m),error:null}}catch(m){if(wt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(wt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(wt(n))return{data:null,error:n};throw n}}}function xm(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Vc={debug:!!(globalThis&&$5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class a_ extends V5{}async function s_(r,e,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new a_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Vc.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function o_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Y5(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function l_(r){return parseInt(r,16)}function c_(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function u_(r){var e;const{chainId:n,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:d,resources:m,scheme:b,uri:A,version:k}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!A)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(k!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${k}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=Y5(r.address),j=b?`${b}://${a}`:a,S=r.statement?`${r.statement}
`:"",T=`${j} wants you to sign in with your Ethereum account:
${w}

${S}`;let N=`URI: ${A}
Version: ${k}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),d&&(N+=`
Request ID: ${d}`),m){let B=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);B+=`
- ${D}`}N+=B}return`${T}
${N}`}class zi extends Error{constructor({message:e,code:n,cause:a,name:o}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class kf extends zi{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function h_({error:r,options:e}){var n,a,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new zi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new zi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new zi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new zi({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new zi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new zi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(W5(u)){if(l.rp.id!==u)return new zi({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new zi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new zi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function f_({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new zi({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(W5(a)){if(n.rpId!==a)return new zi({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new zi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new zi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new zi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class d_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const p_=new d_;function g_(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,o=Of(r,["challenge","user","excludeCredentials"]),l=au(e).buffer,u=Object.assign(Object.assign({},n),{id:au(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const m=a[d];h.excludeCredentials[d]=Object.assign(Object.assign({},m),{id:au(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function m_(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=Of(r,["challenge","allowCredentials"]),o=au(e).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:au(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function v_(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:Hl(new Uint8Array(r.response.attestationObject)),clientDataJSON:Hl(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function y_(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Hl(new Uint8Array(o.authenticatorData)),clientDataJSON:Hl(new Uint8Array(o.clientDataJSON)),signature:Hl(new Uint8Array(o.signature)),userHandle:o.userHandle?Hl(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function W5(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Sm(){var r,e;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function b_(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:h_({error:e,options:r})}}}async function w_(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kf("Browser returned unexpected credential type",e)}:{data:null,error:new kf("Empty credential response",e)}}catch(e){return{data:null,error:f_({error:e,options:r})}}}const __={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},x_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cf(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const h=a[l];e(h)?a[l]=Cf(h,u):a[l]=Cf(u)}else a[l]=u}return a}function S_(r,e){return Cf(__,r,e||{})}function N_(r,e){return Cf(x_,r,e||{})}class A_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:o},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:h};const d=o??p_.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=S_(u.webauthn.credential_options.publicKey,l?.create),{data:b,error:A}=await b_({publicKey:m,signal:d});return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:A}}case"request":{const m=N_(u.webauthn.credential_options.publicKey,l?.request),{data:b,error:A}=await w_(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:d}));return b?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:b}},error:null}:{data:null,error:A}}}}catch(u){return wt(u)?{data:null,error:u}:{data:null,error:new zl("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new rh("rpId is required for WebAuthn authentication")};try{if(!Sm())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:d}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:a,credential_response:d.credential_response}})}catch(u){return wt(u)?{data:null,error:u}:{data:null,error:new zl("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new rh("rpId is required for WebAuthn registration")};try{if(!Sm())return{data:null,error:new zl("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(b=>{var A;return(A=b.data)===null||A===void 0?void 0:A.all.find(k=>k.factor_type==="webauthn"&&k.friendly_name===e&&k.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:h};const{data:d,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:l});return d?this._verify({factorId:u.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:a,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:m}}catch(u){return wt(u)?{data:null,error:u}:{data:null,error:new zl("Unexpected error in register",u)}}}}o_();const j_={url:_3,storageKey:x3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Nm(r,e,n){return await n()}const Yc={};class ah{get jwks(){var e,n;return(n=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Yc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yc[this.storageKey]=Object.assign(Object.assign({},Yc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},j_),e);if(this.storageKey=l.storageKey,this.instanceID=(n=ah.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ah.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&_r()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new r_({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=G5(l.fetch),this.lock=l.lock||Nm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&_r()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=s_:this.lock=Nm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:$5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=xm(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(_r()&&(n=q3(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),_r()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),C3(l)){const d=(e=l.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return wt(n)?this._returnResult({error:n}):this._returnResult({error:new zl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const l=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ms}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const d=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(l){if(wt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,a,o;try{let l;if("email"in e){const{email:b,password:A,options:k}=e;let w=null,j=null;this.flowType==="pkce"&&([w,j]=await $c(this.storage,this.storageKey)),l=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:b,password:A,data:(n=k?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:w,code_challenge_method:j},xform:ms})}else if("phone"in e){const{phone:b,password:A,options:k}=e;l=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:A,data:(a=k?.data)!==null&&a!==void 0?a:{},channel:(o=k?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:ms})}else throw new pf("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await wr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(l){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:h}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wm})}else if("phone"in e){const{phone:l,password:u,options:h}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:wm})}else throw new pf("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Hc;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(wt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,o,l,u,h,d,m,b,A,k;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:S,wallet:T,statement:N,options:B}=e;let D;if(_r())if(typeof T=="object")D=T;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")D=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const U=new URL((n=B?.url)!==null&&n!==void 0?n:window.location.href),le=await D.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ce=Y5(le[0]);let te=(a=B?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!te){const Y=await D.request({method:"eth_chainId"});te=l_(Y)}const $={domain:U.host,address:ce,statement:N,uri:U.href,version:"1",chainId:te,nonce:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=B?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(b=B?.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=u_($),j=await D.request({method:"personal_sign",params:[c_(w),ce]})}try{const{data:S,error:T}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:j},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:ms});if(T)throw T;if(!S||!S.session||!S.user){const N=new Hc;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(wt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,a,o,l,u,h,d,m,b,A,k,w;let j,S;if("message"in e)j=e.message,S=e.signature;else{const{chain:T,wallet:N,statement:B,options:D}=e;let U;if(_r())if(typeof N=="object")U=N;else{const ce=window;if("solana"in ce&&typeof ce.solana=="object"&&("signIn"in ce.solana&&typeof ce.solana.signIn=="function"||"signMessage"in ce.solana&&typeof ce.solana.signMessage=="function"))U=ce.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=N}const le=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const ce=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),B?{statement:B}:null));let te;if(Array.isArray(ce)&&ce[0]&&typeof ce[0]=="object")te=ce[0];else if(ce&&typeof ce=="object"&&"signedMessage"in ce&&"signature"in ce)te=ce;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),S=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${le.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(o=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=D?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((A=(b=D?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||A===void 0)&&A.length?["Resources",...D.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const ce=await U.signMessage(new TextEncoder().encode(j),"utf8");if(!ce||!(ce instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=ce}}try{const{data:T,error:N}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Hl(S)},!((k=e.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ms});if(N)throw N;if(!T||!T.session||!T.user){const B=new Hc;return this._returnResult({data:{user:null,session:null},error:B})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:N})}catch(T){if(wt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new T3;const{data:l,error:u}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ms});if(await wr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new Hc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:l,nonce:u}=e,h=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ms}),{data:d,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d||!d.session||!d.user){const b=new Hc;return this._returnResult({data:{user:null,session:null},error:b})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:m})}catch(n){if(wt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,o,l,u;try{if("email"in e){const{email:h,options:d}=e;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await $c(this.storage,this.storageKey));const{error:A}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d?.data)!==null&&n!==void 0?n:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}if("phone"in e){const{phone:h,options:d}=e,{data:m,error:b}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(l=d?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(u=d?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:b})}throw new pf("You must provide either an email or phone number.")}catch(h){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,a;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ms});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,m=u.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:m,session:d},error:null})}catch(o){if(wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,a,o,l,u;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await $c(this.storage,this.storageKey));const m=await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:t_});return!((l=m.data)===null||l===void 0)&&l.url&&_r()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new _a;const{error:o}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(wt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:l}=e,{error:u}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:l}=e,{data:u,error:h}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new pf("You must provide either an email or phone number and a type")}catch(n){if(wt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<N0:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Ml(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=E0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=X3(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:al}):await this._useSession(async n=>{var a,o,l;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _a}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:al})})}catch(n){if(wt(n))return k3(n)&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new _a;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await $c(this.storage,this.storageKey));const{data:m,error:b}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:al});if(b)throw b;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _a;const n=Date.now()/1e3;let a=n,o=!0,l=null;const{payload:u}=j0(e.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(wt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new _a;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(wt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_r())throw new gf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dm("No code detected.");const{data:B,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:d,token_type:m}=e;if(!l||!h||!u||!m)throw new gf("No session defined in URL");const b=Math.round(Date.now()/1e3),A=parseInt(h);let k=b+A;d&&(k=parseInt(d));const w=k-b;w*1e3<=Xc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${A}s`);const j=k-A;b-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,k,b):b-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,k,b);const{data:S,error:T}=await this._getUser(l);if(T)throw T;const N={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:A,expires_at:k,refresh_token:u,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(a){if(wt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ml(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(E3(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=M3(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await $c(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,d,m,b;const{data:A,error:k}=l;if(k)throw k;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(m=A.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return _r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(wt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:h,token:d,access_token:m,nonce:b}=e,A=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:d,access_token:m,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ms}),{data:k,error:w}=A;return w?this._returnResult({data:{user:null,session:null},error:w}):!k||!k.session||!k.user?this._returnResult({data:{user:null,session:null},error:new Hc}):(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:w}))}catch(o){if(await wr(this.storage,`${this.storageKey}-code-verifier`),wt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)throw u;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await I3(async o=>(o>0&&await F3(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ms})),(o,l)=>{const u=200*Math.pow(2,o);return l&&A0(l)&&Date.now()+u-a<Xc})}catch(a){if(this._debug(n,"error",a),wt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),_r()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ml(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Qc(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:E0()}else if(o&&!o.user&&!o.user){const u=await Ml(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await wr(this.storage,this.storageKey+"-user"),await Qc(this.storage,this.storageKey,o)):o.user=E0()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<N0;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${N0}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),A0(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new _a;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Df;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new _a;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),wt(l)){const u={data:null,error:l};return A0(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){l.push(d)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Qc(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=ym(o);await Qc(this.storage,this.storageKey,l)}else{const o=ym(n);await Qc(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wr(this.storage,this.storageKey),await wr(this.storage,this.storageKey+"-code-verifier"),await wr(this.storage,this.storageKey+"-user"),this.userStorage&&await wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_r()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/Xc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xc}ms, refresh threshold is ${W0} ticks`),o<=W0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await $c(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await Mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:m}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?v_(e.webauthn.credential_response):y_(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=j0(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new _a})})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new _a});const u=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&_r()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(wt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new _a});const u=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&_r()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(wt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new _a})})}catch(e){if(wt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await Mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _a})})}catch(n){if(wt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+A3>o)return a;const{data:l,error:u}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:w,error:j}=await this.getSession();if(j||!w.session)return this._returnResult({data:null,error:j});a=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:d}}=j0(a);n?.allowExpired||W3(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const b=K3(o.alg),A=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,A,u,B3(`${h}.${d}`)))throw new X0("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(wt(a))return this._returnResult({data:null,error:a});throw a}}}ah.nextInstanceID={};const E_=ah,k_="2.89.0";let Wu="";typeof Deno<"u"?Wu="deno":typeof document<"u"?Wu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wu="react-native":Wu="node";const C_={"X-Client-Info":`supabase-js-${Wu}/${k_}`},T_={headers:C_},L_={schema:"public"},O_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R_={};function sh(r){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(r)}function D_(r,e){if(sh(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var a=n.call(r,e);if(sh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function B_(r){var e=D_(r,"string");return sh(e)=="symbol"?e:e+""}function P_(r,e,n){return(e=B_(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Am(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,a)}return n}function Ai(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Am(Object(n),!0).forEach(function(a){P_(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}const M_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),q_=()=>Headers,U_=(r,e,n)=>{const a=M_(n),o=q_();return async(l,u)=>{var h;const d=(h=await e())!==null&&h!==void 0?h:r;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${d}`),a(l,Ai(Ai({},u),{},{headers:m}))}};function F_(r){return r.endsWith("/")?r:r+"/"}function I_(r,e){var n,a;const{db:o,auth:l,realtime:u,global:h}=r,{db:d,auth:m,realtime:b,global:A}=e,k={db:Ai(Ai({},d),o),auth:Ai(Ai({},m),l),realtime:Ai(Ai({},b),u),storage:{},global:Ai(Ai(Ai({},A),h),{},{headers:Ai(Ai({},(n=A?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?k.accessToken=r.accessToken:delete k.accessToken,k}function z_(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var H_=class extends E_{constructor(r){super(r)}},$_=class{constructor(r,e,n){var a,o;this.supabaseUrl=r,this.supabaseKey=e;const l=z_(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:L_,realtime:R_,auth:Ai(Ai({},O_),{},{storageKey:u}),global:T_},d=I_(n??{},h);if(this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(b,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=d.auth)!==null&&m!==void 0?m:{},this.headers,d.global.fetch)}this.fetch=U_(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Ai({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new S4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new w3(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new y4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,n)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,n;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(e=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:l,flowType:u,lock:h,debug:d,throwOnError:m},b,A){const k={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H_({url:this.authUrl.href,headers:Ai(Ai({},k),b),storageKey:l,autoRefreshToken:r,persistSession:e,detectSessionInUrl:n,storage:a,userStorage:o,flowType:u,lock:h,debug:d,throwOnError:m,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new F4(this.realtimeUrl.href,Ai(Ai({},r),{},{params:Ai(Ai({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,n){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const G_=(r,e,n)=>new $_(r,e,n);function V_(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}V_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y_="https://qhttbhpsqnncbpyourar.supabase.co",W_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFodHRiaHBzcW5uY2JweW91cmFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNzM0NjYsImV4cCI6MjA4MTc0OTQ2Nn0.ruty7opAUE7z7_ZZmzybry3IfKfjc-b6JUz_5DiahNo",Ct=G_(Y_,W_);function K_(){const[r,e]=Ye.useState(!1),[n,a]=Ye.useState(""),[o,l]=Ye.useState(""),[u,h]=Ye.useState(!1),[d,m]=Ye.useState(null),[b,A]=Ye.useState(null),k=async w=>{w.preventDefault(),e(!0),A(null),m(null);try{if(u){const{error:j}=await Ct.auth.signUp({email:n,password:o,options:{emailRedirectTo:"https://cutsmart.thejoinery.club/"}});if(j)throw j;m("Check your email for a confirmation link!")}else{const{error:j}=await Ct.auth.signInWithPassword({email:n,password:o});if(j)throw j}}catch(j){A(j.message)}finally{e(!1)}};return g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-card",children:[g.jsx("img",{src:"/logo.png",alt:"CutSmart by The Joinery",className:"auth-logo"}),g.jsx("p",{className:"auth-subtitle",children:u?"Create an account to save your projects":"Sign in to access your projects"}),g.jsxs("form",{onSubmit:k,className:"auth-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"email",children:"Email"}),g.jsx("input",{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:w=>a(w.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Password"}),g.jsx("input",{id:"password",type:"password",placeholder:"Your password",value:o,onChange:w=>l(w.target.value),required:!0,minLength:6})]}),b&&g.jsx("div",{className:"auth-error",children:b}),d&&g.jsx("div",{className:"auth-message",children:d}),g.jsx("button",{type:"submit",className:"btn-primary auth-btn",disabled:r,children:r?"Loading...":u?"Sign Up":"Sign In"})]}),g.jsx("div",{className:"auth-toggle",children:u?g.jsxs("p",{children:["Already have an account?"," ",g.jsx("button",{onClick:()=>h(!1),className:"link-btn",children:"Sign In"})]}):g.jsxs("p",{children:["Don't have an account?"," ",g.jsx("button",{onClick:()=>h(!0),className:"link-btn",children:"Sign Up"})]})})]})})}const Yu={"Alder - Knotty":{"4/4":4.95,category:"Domestic",grade:"Premium Knotty"},"Ash - White":{"4/4":4.95,"8/4":5.95,category:"Domestic",grade:"Select & Better"},Basswood:{"4/4":3.95,"8/4":4.95,category:"Domestic",grade:"Select & Better"},Beech:{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Birch - Yellow":{"4/4":5.45,category:"Domestic",grade:"Select & Better"},Butternut:{"4/4":12.95,category:"Domestic",grade:"Select & Better"},Catalpa:{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Cedar - Aromatic":{"4/4":5.95,category:"Domestic",grade:"#1 Com & Better"},"Cedar - Western Red":{"4/4":7.95,category:"Domestic",grade:"Select Tight Knot"},Cherry:{"4/4":5.95,"6/4":6.45,"8/4":6.95,category:"Domestic",grade:"FAS/F1F/S&B"},"Cherry - Select":{"4/4":4.45,category:"Domestic",grade:"Select 90/70"},"Douglas Fir":{"4/4":14.95,category:"Domestic",grade:"Clear Vertical Grain"},"Hickory - Calico":{"4/4":5.95,"8/4":6.95,category:"Domestic",grade:"Select & Better"},"Hickory - Heart":{"4/4":6.45,"6/4":6.45,category:"Domestic",grade:"Select & Better 90/70"},"Maple - Ambrosia":{"4/4":7.95,category:"Domestic",grade:"Select & Better"},"Maple - Birds Eye":{"4/4":9.95,category:"Domestic",grade:"Select & Better"},"Maple - Curly":{"4/4":8.95,category:"Domestic",grade:"Select & Better"},"Maple - Hard":{"4/4":5.95,"6/4":5.95,"8/4":6.95,"10/4":7.95,category:"Domestic",grade:"Select & Better"},"Maple - Soft":{"4/4":4.95,category:"Domestic",grade:"Select & Better"},"Oak - Red":{"4/4":4.95,"8/4":5.95,category:"Domestic",grade:"FAS/S&B"},"Oak - Red QS":{"4/4":6.95,category:"Domestic",grade:"Select & Better"},"Oak - Red Rift":{"4/4":6.95,category:"Domestic",grade:"Select & Better"},"Oak - White":{"4/4":10.95,"6/4":11.95,"8/4":14.95,category:"Domestic",grade:"Select & Better"},"Oak - White QS":{"4/4":12.95,category:"Domestic",grade:"Select & Better"},"Oak - White Rift":{"4/4":16.95,category:"Domestic",grade:"Select & Better"},Poplar:{"4/4":3.95,"8/4":4.45,category:"Domestic",grade:"Select & Better"},"Sycamore - QS":{"5/4":7.95,category:"Domestic",grade:"Select & Better"},"Walnut - Natural":{"4/4":9.95,category:"Domestic",grade:"Select & Better"},Walnut:{"4/4":10.95,"6/4":13.45,"8/4":15.95,category:"Domestic",grade:"Select & Better"},"Walnut - Prime":{"4/4":12.95,"6/4":15.95,category:"Domestic",grade:"F1F & Better - Prime"},Beli:{"4/4":14.95,category:"Exotic",grade:"FEQ"},"Black Limba":{"4/4":11.95,"8/4":13.95,category:"Exotic",grade:"FEQ"},Bloodwood:{"4/4":10.95,category:"Exotic",grade:"FEQ"},Canarywood:{"4/4":14.95,category:"Exotic",grade:"FEQ"},Ebiara:{"4/4":9.95,category:"Exotic",grade:"FEQ"},Iroko:{"4/4":12.95,"8/4":13.95,category:"Exotic",grade:"FEQ"},Jatoba:{"4/4":11.95,category:"Exotic",grade:"FEQ"},Leopardwood:{"4/4":18.95,category:"Exotic",grade:"FEQ"},"Mahogany - African":{"4/4":9.95,"8/4":10.95,category:"Exotic",grade:"FEQ"},Olivewood:{"4/4":23.95,"8/4":24.95,category:"Exotic",grade:"FEQ"},"Osage Orange":{"4/4":15.95,category:"Exotic",grade:"FEQ"},Padauk:{"4/4":10.95,category:"Exotic",grade:"FEQ"},"Peruvian Walnut":{"4/4":11.95,category:"Exotic",grade:"FEQ"},"Purple Heart":{"4/4":13.95,category:"Exotic",grade:"FEQ"},"Sapele - QS":{"4/4":9.95,"8/4":12.95,category:"Exotic",grade:"FEQ"},"Spanish Cedar":{"8/4":9.95,category:"Exotic",grade:"FEQ"},Wenge:{"4/4":22.95,category:"Exotic",grade:"FEQ"},"Wenge - Shorts":{"4/4":17.95,category:"Exotic",grade:"FEQ"}};function J_(r,e){if(Yu[r]&&Yu[r][e])return Yu[r][e];const n=r.toLowerCase();for(const[o,l]of Object.entries(Yu))if((o.toLowerCase().includes(n)||n.includes(o.toLowerCase()))&&l[e])return l[e];const a=Yu[r];if(a){const o=jm(e);if(o){let l=null,u=1/0;for(const h of Object.keys(a)){if(h==="category"||h==="grade")continue;const d=jm(h);if(d){const m=Math.abs(d-o);m<u&&(u=m,l=h)}}if(l)return a[l]}}return null}function jm(r){const e=r.match(/^(\d+)\/4$/);return e?parseInt(e[1]):null}function Em({label:r,icon:e,items:n,className:a=""}){const[o,l]=Ye.useState(!1),u=Ye.useRef(null);return Ye.useEffect(()=>{const h=d=>{u.current&&!u.current.contains(d.target)&&l(!1)};return o&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[o]),g.jsxs("div",{className:`dropdown ${a}`,ref:u,children:[g.jsxs("button",{className:`dropdown-toggle ${o?"open":""}`,onClick:()=>l(!o),children:[e&&g.jsx("span",{className:"dropdown-icon",children:e}),r&&g.jsx("span",{children:r}),g.jsx("span",{className:"dropdown-arrow",children:""})]}),g.jsx("div",{className:`dropdown-menu ${o?"open":""}`,children:n.map((h,d)=>h.divider?g.jsx("div",{className:"dropdown-divider"},d):g.jsxs("button",{className:"dropdown-menu-item",onClick:()=>{h.onClick(),l(!1)},children:[h.icon&&g.jsx("span",{className:"dropdown-menu-item-icon",children:h.icon}),g.jsx("span",{children:h.label})]},d))})]})}function X_({isOpen:r,title:e,message:n,onConfirm:a,onCancel:o,confirmText:l="Delete",confirmStyle:u="danger"}){return r?g.jsx("div",{className:"modal-overlay",onClick:o,children:g.jsxs("div",{className:"modal-content confirm-dialog",onClick:h=>h.stopPropagation(),children:[g.jsx("h3",{children:e}),g.jsx("p",{children:n}),g.jsxs("div",{className:"confirm-dialog-actions",children:[g.jsx("button",{onClick:o,className:"btn-secondary",children:"Cancel"}),g.jsx("button",{onClick:a,className:u==="danger"?"btn-delete":"btn-primary",children:l})]})]})}):null}const Q0={Walnut:"#5D4037","Walnut - Natural":"#6D4C41","Walnut - Prime":"#4E342E",Cherry:"#C62828","Cherry - Select":"#D32F2F","Maple - Hard":"#FFCC80","Maple - Soft":"#FFE0B2","Maple - Ambrosia":"#FFAB91","Maple - Birds Eye":"#FFF3E0","Maple - Curly":"#FFE082","Oak - Red":"#BF360C","Oak - Red QS":"#E64A19","Oak - Red Rift":"#FF5722","Oak - White":"#D7CCC8","Oak - White QS":"#EFEBE9","Oak - White Rift":"#FBE9E7","Ash - White":"#F5F5F5",Poplar:"#C5E1A5","Hickory - Calico":"#BCAAA4","Hickory - Heart":"#A1887F","Alder - Knotty":"#FFAB91",Basswood:"#FFF8E1",Beech:"#FFE4C4","Birch - Yellow":"#FFF59D",Butternut:"#D4A574",Catalpa:"#E6DDD1","Cedar - Aromatic":"#D4A190","Cedar - Western Red":"#CD7F32","Douglas Fir":"#DEB887","Sycamore - QS":"#F0EAD6",Beli:"#8D6E63","Black Limba":"#3E2723",Bloodwood:"#8B0000",Canarywood:"#FFD54F",Ebiara:"#795548",Iroko:"#A67C52",Jatoba:"#8B4513",Leopardwood:"#CD853F","Mahogany - African":"#C04000",Olivewood:"#808000","Osage Orange":"#FF8C00",Padauk:"#FF4500","Peruvian Walnut":"#654321","Purple Heart":"#9932CC","Sapele - QS":"#A0522D","Spanish Cedar":"#D2691E",Wenge:"#1C1C1C",Other:"#9E9E9E"};function km(r){return Q0[r]||Q0.Other}function Q_(r){const e=parseInt(r.slice(1,3),16),n=parseInt(r.slice(3,5),16),a=parseInt(r.slice(5,7),16);return(.299*e+.587*n+.114*a)/255>.5?"#000000":"#FFFFFF"}const Cm=[{id:1,name:'8ft  5"',length:96,width:5},{id:2,name:'8ft  6"',length:96,width:6},{id:3,name:'8ft  7"',length:96,width:7},{id:4,name:'8ft  8"',length:96,width:8},{id:5,name:'10ft  6"',length:120,width:6},{id:6,name:'6ft  6"',length:72,width:6}],Z_=["4/4","5/4","6/4","8/4","10/4","12/4","16/4"],K5=["1/4","1/2","3/4","1"],J5=["Baltic Birch","MDF","Plywood - Birch","Plywood - Maple","Plywood - Oak","Plywood - Walnut","Plywood - Cherry","Melamine","Particle Board","Other"],Tm=[{name:"48 (Standard)",length:96,width:48},{name:"55 (Baltic Birch)",length:60,width:60},{name:"44",length:48,width:48},{name:"Custom",length:null,width:null}],Z0=[{value:"any",label:"Any Direction",description:"Optimizer can rotate freely"},{value:"length",label:"With Grain",description:"Piece length along 8' (grain direction)"},{value:"width",label:"Cross Grain",description:"Piece length across grain"}],X5=["Walnut","Walnut - Natural","Walnut - Prime","Cherry","Cherry - Select","Maple - Hard","Maple - Soft","Maple - Ambrosia","Maple - Birds Eye","Maple - Curly","Oak - Red","Oak - Red QS","Oak - Red Rift","Oak - White","Oak - White QS","Oak - White Rift","Ash - White","Poplar","Hickory - Calico","Hickory - Heart","Alder - Knotty","Basswood","Beech","Birch - Yellow","Butternut","Catalpa","Cedar - Aromatic","Cedar - Western Red","Douglas Fir","Sycamore - QS","Beli","Black Limba","Bloodwood","Canarywood","Ebiara","Iroko","Jatoba","Leopardwood","Mahogany - African","Olivewood","Osage Orange","Padauk","Peruvian Walnut","Purple Heart","Sapele - QS","Spanish Cedar","Wenge","Other"];function Gl(r){const e=r.match(/^(\d+)\/(\d+)$/);if(e)return parseInt(e[1])/parseInt(e[2]);const n=parseFloat(r);return isNaN(n)?null:n}function ex(r,e,n){return r*e*n/144}function Lm({onSubmit:r,initialData:e,onCancel:n}){const[a,o]=Ye.useState(e?.name||""),[l,u]=Ye.useState(e?.length||""),[h,d]=Ye.useState(e?.width||""),[m,b]=Ye.useState(e?.thickness||"4/4"),[A,k]=Ye.useState(e?.species||"Walnut"),[w,j]=Ye.useState(e?.quantity||1),[S,T]=Ye.useState(""),N=["4/4","5/4","6/4","8/4","10/4","12/4","16/4"];Ye.useEffect(()=>{e?(o(e.name||""),u(e.length||""),d(e.width||""),b(e.thickness||"4/4"),k(e.species||"Walnut"),j(e.quantity||1)):(o(""),u(""),d(""),b("4/4"),k("Walnut"),j(1)),T("")},[e]);const B=D=>{D.preventDefault(),T("");const U=Gl(m);if(U===null){T("Invalid thickness notation");return}const le=parseFloat(l),ce=parseFloat(h),te=parseInt(w);if(isNaN(le)||le<=0){T("Please enter a valid length");return}if(isNaN(ce)||ce<=0){T("Please enter a valid width");return}if(isNaN(te)||te<1){T("Please enter a valid quantity (at least 1)");return}const $=ex(U,ce,le),Y=$*te;r({id:e?.id||Date.now(),name:a||`Board ${Date.now()}`,length:le,width:ce,thickness:m,thicknessInches:U,species:A,quantity:te,boardFeetPerPiece:$,boardFeet:Y}),e||(o(""),u(""),d(""),b("4/4"),k("Walnut"),j(1))};return g.jsxs("form",{onSubmit:B,className:"board-form",children:[g.jsx("h3",{children:e?"Edit Stock Board":"Add Stock Board"}),S&&g.jsx("div",{className:"error",children:S}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"boardName",children:"Board Name"}),g.jsx("input",{id:"boardName",type:"text",value:a,onChange:D=>o(D.target.value),placeholder:"e.g., Walnut Plank, Oak Board"})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"length",children:"Length (inches)"}),g.jsx("input",{id:"length",type:"number",step:"0.125",value:l,onChange:D=>u(D.target.value),placeholder:"e.g., 96",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"width",children:"Width (inches)"}),g.jsx("input",{id:"width",type:"number",step:"0.125",value:h,onChange:D=>d(D.target.value),placeholder:"e.g., 8",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"thickness",children:"Thickness"}),g.jsx("select",{id:"thickness",value:m,onChange:D=>b(D.target.value),children:N.map(D=>g.jsxs("option",{value:D,children:[D," (",Gl(D),'")']},D))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"quantity",children:"Quantity"}),g.jsx("input",{id:"quantity",type:"number",min:"1",value:w,onChange:D=>j(D.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"species",children:"Species"}),g.jsx("select",{id:"species",value:A,onChange:D=>k(D.target.value),children:X5.map(D=>g.jsx("option",{value:D,children:D},D))})]})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Board":"Add Board"}),n&&g.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function Om({onSubmit:r,initialData:e,onCancel:n}){const[a,o]=Ye.useState(e?.name||""),[l,u]=Ye.useState(e?.product||"Baltic Birch"),[h,d]=Ye.useState(e?.thickness||"3/4"),[m,b]=Ye.useState(e?"Custom":"48 (Standard)"),[A,k]=Ye.useState(e?.length||96),[w,j]=Ye.useState(e?.width||48),[S,T]=Ye.useState(e?.quantity||1),[N,B]=Ye.useState(e?.pricePerSheet||""),[D,U]=Ye.useState("");Ye.useEffect(()=>{e?(o(e.name||""),u(e.product||"Baltic Birch"),d(e.thickness||"3/4"),k(e.length||96),j(e.width||48),T(e.quantity||1),B(e.pricePerSheet||""),b("Custom")):(o(""),u("Baltic Birch"),d("3/4"),b("48 (Standard)"),k(96),j(48),T(1),B("")),U("")},[e]);const le=te=>{b(te);const $=Tm.find(Y=>Y.name===te);$&&$.length&&(k($.length),j($.width))},ce=te=>{te.preventDefault(),U("");const $=parseFloat(A),Y=parseFloat(w),ge=parseInt(S),M=N?parseFloat(N):null;if(isNaN($)||$<=0){U("Please enter a valid length");return}if(isNaN(Y)||Y<=0){U("Please enter a valid width");return}if(isNaN(ge)||ge<1){U("Please enter a valid quantity");return}const H=$*Y/144;r({id:e?.id||Date.now(),name:a||`${l} ${h}" ${$}"${Y}"`,product:l,thickness:h,length:$,width:Y,quantity:ge,pricePerSheet:M,sqFtPerSheet:H,materialType:"sheet"}),e||(o(""),u("Baltic Birch"),d("3/4"),b("48 (Standard)"),k(96),j(48),T(1),B(""))};return g.jsxs("form",{onSubmit:ce,className:"board-form sheet-goods-form",children:[g.jsx("h3",{children:e?"Edit Sheet":"Add Sheet Stock"}),D&&g.jsx("div",{className:"error",children:D}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetName",children:"Name (optional)"}),g.jsx("input",{id:"sheetName",type:"text",value:a,onChange:te=>o(te.target.value),placeholder:"e.g., Cabinet Sides"})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"product",children:"Product Type"}),g.jsx("select",{id:"product",value:l,onChange:te=>u(te.target.value),children:J5.map(te=>g.jsx("option",{value:te,children:te},te))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetThickness",children:"Thickness"}),g.jsx("select",{id:"sheetThickness",value:h,onChange:te=>d(te.target.value),children:K5.map(te=>g.jsxs("option",{value:te,children:[te,'"']},te))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetQuantity",children:"Quantity"}),g.jsx("input",{id:"sheetQuantity",type:"number",min:"1",value:S,onChange:te=>T(te.target.value),required:!0})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetSize",children:"Sheet Size"}),g.jsx("select",{id:"sheetSize",value:m,onChange:te=>le(te.target.value),children:Tm.map(te=>g.jsx("option",{value:te.name,children:te.name},te.name))})]}),m==="Custom"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetLength",children:"Length (in)"}),g.jsx("input",{id:"sheetLength",type:"number",step:"0.125",value:A,onChange:te=>k(te.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetWidth",children:"Width (in)"}),g.jsx("input",{id:"sheetWidth",type:"number",step:"0.125",value:w,onChange:te=>j(te.target.value),required:!0})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"pricePerSheet",children:"Price/Sheet ($)"}),g.jsx("input",{id:"pricePerSheet",type:"number",step:"0.01",min:"0",value:N,onChange:te=>B(te.target.value),placeholder:"Optional"})]})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Sheet":"Add Sheet"}),n&&g.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function tx({sheet:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:u,isDragging:h,isDragOver:d}){const m=r.quantity||1;return g.jsxs("div",{className:`board-item sheet-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:u,children:[g.jsx("div",{className:"drag-handle",children:""}),g.jsxs("div",{className:"board-info",children:[g.jsx("h4",{children:r.name||`${r.product} ${r.thickness}"`}),g.jsxs("p",{children:[r.length,'"  ',r.width,'"  ',r.thickness,'"',m>1&&` (${m})`]}),g.jsxs("p",{className:"board-feet",children:[(r.sqFtPerSheet*m).toFixed(1)," sq ft total",r.pricePerSheet&&`  $${(r.pricePerSheet*m).toFixed(2)}`]})]}),g.jsxs("div",{className:"board-actions",children:[g.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),g.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function Rm({onSubmit:r,initialData:e,onCancel:n,availableProducts:a,availableThicknesses:o}){const[l,u]=Ye.useState(e?.name||""),[h,d]=Ye.useState(e?.length||""),[m,b]=Ye.useState(e?.width||""),[A,k]=Ye.useState(e?.thickness||o?.[0]||"3/4"),[w,j]=Ye.useState(e?.product||a?.[0]||"Baltic Birch"),[S,T]=Ye.useState(e?.quantity||1),[N,B]=Ye.useState(e?.grainDirection||"any"),[D,U]=Ye.useState("");Ye.useEffect(()=>{e?(u(e.name||""),d(e.length||""),b(e.width||""),k(e.thickness||"3/4"),j(e.product||"Baltic Birch"),T(e.quantity||1),B(e.grainDirection||"any")):(u(""),d(""),b(""),k(o?.[0]||"3/4"),j(a?.[0]||"Baltic Birch"),T(1),B("any")),U("")},[e,a,o]);const le=$=>{$.preventDefault(),U("");const Y=parseFloat(h),ge=parseFloat(m),M=parseInt(S);if(isNaN(Y)||Y<=0){U("Please enter a valid length");return}if(isNaN(ge)||ge<=0){U("Please enter a valid width");return}if(isNaN(M)||M<1){U("Please enter a valid quantity");return}r({id:e?.id||Date.now(),name:l||`Sheet Part ${Date.now()}`,length:Y,width:ge,thickness:A,product:w,quantity:M,grainDirection:N,materialType:"sheet"}),e||(u(""),d(""),b(""),T(1),B("any"))},ce=o?.length>0?o:K5,te=a?.length>0?a:J5;return g.jsxs("form",{onSubmit:le,className:"cut-piece-form sheet-cut-piece-form",children:[g.jsx("h3",{children:e?"Edit Sheet Cut Piece":"Add Sheet Cut Piece"}),D&&g.jsx("div",{className:"error",children:D}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceName",children:"Piece Name"}),g.jsx("input",{id:"sheetPieceName",type:"text",value:l,onChange:$=>u($.target.value),placeholder:"e.g., Cabinet Side, Shelf",required:!0})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceLength",children:"Length (in)"}),g.jsx("input",{id:"sheetPieceLength",type:"number",step:"0.125",value:h,onChange:$=>d($.target.value),placeholder:"e.g., 24",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceWidth",children:"Width (in)"}),g.jsx("input",{id:"sheetPieceWidth",type:"number",step:"0.125",value:m,onChange:$=>b($.target.value),placeholder:"e.g., 12",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceThickness",children:"Thickness"}),g.jsx("select",{id:"sheetPieceThickness",value:A,onChange:$=>k($.target.value),children:ce.map($=>g.jsxs("option",{value:$,children:[$,'"']},$))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceQty",children:"Quantity"}),g.jsx("input",{id:"sheetPieceQty",type:"number",min:"1",value:S,onChange:$=>T($.target.value),required:!0})]})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"sheetPieceProduct",children:"Product Type"}),g.jsx("select",{id:"sheetPieceProduct",value:w,onChange:$=>j($.target.value),children:te.map($=>g.jsx("option",{value:$,children:$},$))})]}),g.jsxs("div",{className:"form-group grain-direction-group",children:[g.jsx("label",{htmlFor:"grainDirection",children:"Grain Direction"}),g.jsx("select",{id:"grainDirection",value:N,onChange:$=>B($.target.value),className:"grain-select",children:Z0.map($=>g.jsx("option",{value:$.value,children:$.label},$.value))}),g.jsx("span",{className:"grain-hint",children:Z0.find($=>$.value===N)?.description})]})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Piece":"Add Piece"}),n&&g.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function nx({piece:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:u,isDragging:h,isDragOver:d}){const m=Z0.find(b=>b.value===r.grainDirection)?.label||"Any";return g.jsxs("div",{className:`cut-piece-item sheet-cut-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:u,children:[g.jsx("div",{className:"drag-handle",children:""}),g.jsxs("div",{className:"cut-piece-info",children:[g.jsx("h4",{children:r.name}),g.jsxs("p",{children:[r.length,'"  ',r.width,'"  ',r.thickness,'"',r.quantity>1&&` (${r.quantity})`]}),g.jsxs("p",{className:"piece-details",children:[r.product,r.grainDirection!=="any"&&g.jsx("span",{className:"grain-badge",children:m})]})]}),g.jsxs("div",{className:"cut-piece-actions",children:[g.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),g.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function ix({board:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:u,isDragging:h,isDragOver:d}){const m=r.quantity||1,b=r.boardFeetPerPiece||r.boardFeet;return g.jsxs("div",{className:`board-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:A=>a(A,r.id),onDragOver:A=>o(A,r.id),onDrop:A=>l(A,r.id),onDragEnd:u,children:[g.jsx("div",{className:"drag-handle",children:""}),g.jsxs("div",{className:"board-info",children:[g.jsx("h4",{children:r.name}),g.jsxs("p",{className:"board-dimensions",children:[r.length,'"  ',r.width,'"  ',r.thickness,m>1&&g.jsxs("span",{className:"board-quantity",children:["  ",m," pcs"]})]}),r.species&&g.jsx("p",{className:"board-species",children:r.species}),g.jsxs("p",{className:"board-feet",children:[g.jsx("strong",{children:r.boardFeet.toFixed(2)})," board feet",m>1&&g.jsxs("span",{className:"per-piece",children:[" (",b.toFixed(2)," each)"]})]})]}),g.jsxs("div",{className:"board-actions",children:[g.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),g.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function Dm({onSubmit:r,initialData:e,onCancel:n,availableThicknesses:a,availableSpecies:o}){const[l,u]=Ye.useState(e?.name||""),[h,d]=Ye.useState(e?.length||""),[m,b]=Ye.useState(e?.width||""),[A,k]=Ye.useState(e?.thickness||a[0]||"4/4"),[w,j]=Ye.useState(e?.species||o[0]||"Walnut"),[S,T]=Ye.useState(e?.quantity||1),[N,B]=Ye.useState(""),D=a.length>0?a:["4/4","5/4","6/4","8/4","10/4","12/4","16/4"],U=o.length>0?o:X5;Ye.useEffect(()=>{e?(u(e.name||""),d(e.length||""),b(e.width||""),k(e.thickness||a[0]||"4/4"),j(e.species||o[0]||"Walnut"),T(e.quantity||1)):(u(""),d(""),b(""),k(a[0]||"4/4"),j(o[0]||"Walnut"),T(1)),B("")},[e,a,o]);const le=ce=>{ce.preventDefault(),B("");const te=parseFloat(h),$=parseFloat(m),Y=parseInt(S);if(isNaN(te)||te<=0){B("Please enter a valid length");return}if(isNaN($)||$<=0){B("Please enter a valid width");return}if(isNaN(Y)||Y<1){B("Please enter a valid quantity (at least 1)");return}r({id:e?.id||Date.now(),name:l||`Cut Piece ${Date.now()}`,length:te,width:$,thickness:A,species:w,quantity:Y}),e||(u(""),d(""),b(""),T(1))};return g.jsxs("form",{onSubmit:le,className:"cut-piece-form",children:[g.jsx("h3",{children:e?"Edit Cut Piece":"Add Cut Piece"}),N&&g.jsx("div",{className:"error",children:N}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutName",children:"Piece Name"}),g.jsx("input",{id:"cutName",type:"text",value:l,onChange:ce=>u(ce.target.value),placeholder:"e.g., Table Leg, Shelf"})]}),g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutLength",children:"Length (inches)"}),g.jsx("input",{id:"cutLength",type:"number",step:"0.125",value:h,onChange:ce=>d(ce.target.value),placeholder:"e.g., 30",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutWidth",children:"Width (inches)"}),g.jsx("input",{id:"cutWidth",type:"number",step:"0.125",value:m,onChange:ce=>b(ce.target.value),placeholder:"e.g., 3",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutThickness",children:"Thickness"}),g.jsx("select",{id:"cutThickness",value:A,onChange:ce=>k(ce.target.value),children:D.map(ce=>g.jsxs("option",{value:ce,children:[ce," (",Gl(ce),'")']},ce))})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutQuantity",children:"Quantity"}),g.jsx("input",{id:"cutQuantity",type:"number",min:"1",value:S,onChange:ce=>T(ce.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"cutSpecies",children:"Species"}),g.jsx("select",{id:"cutSpecies",value:w,onChange:ce=>j(ce.target.value),children:U.map(ce=>g.jsx("option",{value:ce,children:ce},ce))})]})]}),g.jsxs("div",{className:"form-actions",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:e?"Update Piece":"Add Piece"}),n&&g.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"})]})]})}function rx({piece:r,onEdit:e,onDelete:n,onDragStart:a,onDragOver:o,onDrop:l,onDragEnd:u,isDragging:h,isDragOver:d}){const m=r.quantity||1;return g.jsxs("div",{className:`cut-piece-item ${h?"dragging":""} ${d?"drag-over":""}`,draggable:!0,onDragStart:b=>a(b,r.id),onDragOver:b=>o(b,r.id),onDrop:b=>l(b,r.id),onDragEnd:u,children:[g.jsx("div",{className:"drag-handle",children:""}),g.jsxs("div",{className:"cut-piece-info",children:[g.jsx("h4",{children:r.name}),g.jsxs("p",{className:"cut-piece-dimensions",children:[r.length,'"  ',r.width,'"  ',r.thickness,m>1&&g.jsxs("span",{className:"cut-piece-quantity",children:["  ",m," pcs"]})]}),r.species&&g.jsx("p",{className:"cut-piece-species",children:r.species})]}),g.jsxs("div",{className:"cut-piece-actions",children:[g.jsx("button",{onClick:()=>e(r),className:"btn-edit",children:"Edit"}),g.jsx("button",{onClick:()=>n(r.id),className:"btn-delete",children:"Delete"})]})]})}function ax(r){const e=new Set(r.map(n=>n.species).filter(Boolean));return Array.from(e)}function sx({cutPieces:r,onApplyStock:e,projectQuantity:n=1}){const[a,o]=Ye.useState("4/4"),[l,u]=Ye.useState(""),[h,d]=Ye.useState(null),[m,b]=Ye.useState(!1),[A,k]=Ye.useState(96),[w,j]=Ye.useState(6),[S,T]=Ye.useState([]),[N,B]=Ye.useState(null),[D,U]=Ye.useState(null),[le,ce]=Ye.useState(!1),te=wy(r),$=ax(r);Ye.useEffect(()=>{te.length>0&&!a&&o(te[0]),$.length>0&&!l&&u($[0])},[te,$]);const ge=(()=>{const X=new Set;r.forEach(Le=>{const G=`${Le.thickness}|${Le.species||""}`;X.add(G)});const ie=new Set;S.forEach(Le=>{const G=`${Le.thickness}|${Le.species||""}`;ie.add(G)});const xe=[];return X.forEach(Le=>{if(!ie.has(Le)){const[G,L]=Le.split("|");xe.push({thickness:G,species:L||null})}}),xe})(),M=()=>{if(!a)return;let X;if(m){if(!A||!w)return;const ie=Gl(a)||1,xe=A*w*ie/144;X={id:Date.now(),name:`${A}"  ${w}"`,length:A,width:w,thickness:a,species:l||null,boardFeet:xe,isCustom:!0}}else{if(!h)return;const ie=Cm.find(G=>G.id===h);if(!ie)return;const xe=Gl(a)||1,Le=ie.length*ie.width*xe/144;X={id:Date.now(),name:ie.name,length:ie.length,width:ie.width,thickness:a,species:l||null,boardFeet:Le,isCustom:!1}}T([...S,X]),U(null),B(X.id),setTimeout(()=>B(null),2e3),d(null),b(!1)},H=X=>{T(S.filter(ie=>ie.id!==X)),U(null)},ae=()=>{if(S.length===0)return;ce(!0);const X=S.map(ie=>({name:`${ie.name} (${ie.thickness}${ie.species?` - ${ie.species}`:""})`,length:ie.length,width:ie.width,thickness:ie.thickness,species:ie.species}));setTimeout(()=>{const ie=qm(r,X);U(ie),ce(!1)},100)},re=()=>{D&&D.boards.length>0&&e(D.boards,D.cutPlan)},we=()=>D?D.boards.reduce((X,ie)=>X+ie.boardFeet,0):0,ee=Gl(a)||1;return g.jsxs("div",{className:"stock-calculator",children:[g.jsx("h3",{children:"Calculate Stock Needed"}),n>1&&g.jsxs("div",{className:"project-quantity-notice",children:["Calculating for ",g.jsxs("strong",{children:[n," items"]})," (quantities multiplied)"]}),g.jsx("p",{className:"stock-calculator-intro",children:"Add board types you can purchase. The calculator will determine how many of each you need."}),g.jsxs("div",{className:"board-type-builder",children:[g.jsx("div",{className:"builder-header",children:S.length===0?g.jsx("span",{className:"builder-title",children:"Add a Board Type"}):g.jsx("span",{className:"builder-title",children:"Add Another Board Type"})}),g.jsxs("div",{className:"builder-step",children:[g.jsx("label",{className:"builder-label",children:"1. Thickness"}),g.jsx("div",{className:"thickness-options",children:Z_.map(X=>g.jsx("button",{className:`thickness-btn ${a===X?"active":""}`,onClick:()=>o(X),children:X},X))})]}),$.length>0&&g.jsxs("div",{className:"builder-step",children:[g.jsx("label",{className:"builder-label",children:"2. Species"}),g.jsx("div",{className:"species-options",children:$.map(X=>g.jsx("button",{className:`species-btn ${l===X?"active":""}`,onClick:()=>u(X),children:X},X))})]}),g.jsxs("div",{className:"builder-step",children:[g.jsxs("label",{className:"builder-label",children:[$.length>0?"3":"2",". Size"]}),g.jsxs("div",{className:"size-toggle",children:[g.jsx("button",{className:`toggle-btn ${m?"":"active"}`,onClick:()=>b(!1),children:"Standard"}),g.jsx("button",{className:`toggle-btn ${m?"active":""}`,onClick:()=>b(!0),children:"Custom"})]}),m?g.jsxs("div",{className:"custom-size-inputs",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Length (in)"}),g.jsx("input",{type:"number",value:A,onChange:X=>k(parseFloat(X.target.value)||0),step:"1"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Width (in)"}),g.jsx("input",{type:"number",value:w,onChange:X=>j(parseFloat(X.target.value)||0),step:"0.5"})]})]}):g.jsx("div",{className:"size-options",children:Cm.map(X=>{const ie=X.length*X.width*ee/144;return g.jsxs("button",{className:`size-btn ${h===X.id?"active":""}`,onClick:()=>d(X.id),children:[g.jsx("span",{className:"size-name",children:X.name}),g.jsxs("span",{className:"size-bf",children:[ie.toFixed(2)," BF"]})]},X.id)})})]}),g.jsx("button",{onClick:M,className:"btn-add-board-type",disabled:!a||!m&&!h||m&&(!A||!w),children:"+ Add Board Type"})]}),S.length>0&&g.jsxs("div",{className:"board-types-list",children:[g.jsx("div",{className:"board-types-header",children:g.jsxs("h4",{children:["Board Types Added (",S.length,")"]})}),S.map(X=>g.jsxs("div",{className:`board-type-item ${N===X.id?"just-added":""}`,children:[g.jsxs("div",{className:"board-type-info",children:[g.jsx("span",{className:"board-type-name",children:X.name}),g.jsxs("span",{className:"board-type-details",children:[X.thickness,X.species?`  ${X.species}`:"","  ",X.boardFeet.toFixed(2)," BF"]})]}),g.jsx("button",{onClick:()=>H(X.id),className:"btn-remove",children:""})]},X.id)),ge.length>0&&g.jsxs("div",{className:"warning",style:{marginTop:"0.75rem",marginBottom:"0.75rem"},children:["Still need: ",ge.map(X=>`${X.thickness}${X.species?` ${X.species}`:""}`).join(", ")]}),g.jsx("button",{onClick:ae,className:"btn-primary btn-calculate",disabled:le,children:le?"Calculating...":"Calculate Stock Needed"})]}),D&&g.jsxs("div",{className:"stock-result",children:[g.jsx("div",{className:"stock-result-header",children:g.jsx("h4",{children:"Shopping List"})}),D.boardsByTemplate&&D.boardsByTemplate.length>0&&g.jsx("div",{className:"stock-breakdown",children:D.boardsByTemplate.map((X,ie)=>g.jsxs("div",{className:"breakdown-item",children:[g.jsxs("span",{className:"breakdown-count",children:[X.count,""]}),g.jsxs("span",{className:"breakdown-desc",children:[X.template.name||`${X.template.length}"  ${X.template.width}"`,g.jsxs("span",{className:"breakdown-thickness",children:[" (",X.template.thickness,X.template.species&&`  ${X.template.species}`,")"]})]})]},ie))}),g.jsxs("div",{className:"stock-result-stats",children:[g.jsxs("div",{className:"result-stat",children:[g.jsx("span",{className:"result-value",children:D.boardsNeeded}),g.jsx("span",{className:"result-label",children:"Total Boards"})]}),g.jsxs("div",{className:"result-stat",children:[g.jsx("span",{className:"result-value",children:we().toFixed(1)}),g.jsx("span",{className:"result-label",children:"Total Board Feet"})]}),g.jsxs("div",{className:"result-stat",children:[g.jsxs("span",{className:"result-value",children:[D.cutPlan?.efficiency.toFixed(0)||0,"%"]}),g.jsx("span",{className:"result-label",children:"Efficiency"})]})]}),D.cutPlan?.warnings?.length>0&&g.jsx("div",{className:"stock-result-warnings",children:D.cutPlan.warnings.map((X,ie)=>g.jsx("div",{className:"warning",children:X},ie))}),g.jsx("button",{onClick:re,className:"btn-primary btn-large",children:"Use These Boards & Generate Cut Plan"})]})]})}function ox({assignment:r,scale:e}){const n=r.width*e,a=r.length*e,o=["#E06829","#324168","#AFCFE4","#8B5A2B","#6B8E23","#CD853F","#4682B4","#D2691E","#708090","#BC8F8F"],l=(u,h)=>u.species&&Q0[u.species]?km(u.species):o[h%o.length];return g.jsxs("div",{className:"cut-plan-board",children:[g.jsxs("div",{className:"cut-plan-board-label",children:[r.stockBoardName,r.stockBoardIndex>0&&` (#${r.stockBoardIndex+1})`,g.jsxs("span",{className:"cut-plan-board-dims",children:[r.length,'"  ',r.width,'"  ',r.thickness]}),r.species&&g.jsxs("span",{className:"cut-plan-board-species",children:[g.jsx("span",{className:"species-color-dot",style:{backgroundColor:km(r.species)}}),r.species]})]}),g.jsxs("svg",{width:a+2,height:n+2,className:"cut-plan-svg",children:[g.jsx("rect",{x:1,y:1,width:a,height:n,fill:"#F5F1E8",stroke:"#2C2C2C",strokeWidth:1}),r.cuts.map((u,h)=>{const d=l(u,h),m=Q_(d);return g.jsxs("g",{children:[g.jsx("rect",{x:1+u.x*e,y:1+u.y*e,width:u.length*e,height:u.width*e,fill:d,stroke:"#0A112A",strokeWidth:1,opacity:.9}),g.jsxs("text",{x:1+u.x*e+u.length*e/2,y:1+u.y*e+u.width*e/2,textAnchor:"middle",dominantBaseline:"middle",fill:m,fontSize:Math.min(12,Math.min(u.length,u.width)*e*.4),fontWeight:"500",children:[u.cutPieceName,u.cutPieceIndex>0&&` #${u.cutPieceIndex+1}`]})]},h)})]}),g.jsx("div",{className:"cut-dimensions-list",children:g.jsxs("table",{className:"cut-dimensions-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Piece"}),g.jsx("th",{children:"Rip Width"}),g.jsx("th",{children:"Crosscut Length"})]})}),g.jsx("tbody",{children:r.cuts.map((u,h)=>g.jsxs("tr",{children:[g.jsxs("td",{children:[g.jsx("span",{className:"cut-color-indicator",style:{backgroundColor:l(u,h)}}),u.cutPieceName,u.cutPieceIndex>0&&` #${u.cutPieceIndex+1}`]}),g.jsxs("td",{children:[u.width,'"']}),g.jsxs("td",{children:[u.length,'"']})]},h))})]})})]})}function Bm({cutPlan:r,boards:e,onRegenerate:n,isRegenerating:a,workflowType:o,materialType:l}){const u=l==="sheet",[h,d]=Ye.useState({});if(!r)return null;const m=3,b=o==="known",A=()=>{if(!r.assignments)return{};const S={};return r.assignments.forEach(T=>{T.stockBoardId&&(S[T.stockBoardId]=(S[T.stockBoardId]||0)+1)}),S},k=()=>{if(!e||e.length===0)return null;const S=b?A():null,T={};e.forEach(U=>{const le=U.quantity||1;let ce=le;if(b&&S&&(ce=S[U.id]||0,ce===0))return;const te=U.boardFeet/le,$=`${U.thickness}|${U.species||""}|${U.length}|${U.width}`;T[$]||(T[$]={key:$,thickness:U.thickness,species:U.species,length:U.length,width:U.width,count:0,totalBF:0}),T[$].count+=ce,T[$].totalBF+=te*ce});const N=[];let B=0,D=!1;return Object.values(T).forEach((U,le)=>{const ce=J_(U.species||"",U.thickness),te=h[U.key]!==void 0?h[U.key]:ce;if(te!==null&&te!==""){const $=U.totalBF*parseFloat(te);B+=$,N.push({...U,pricePerBF:parseFloat(te),defaultPrice:ce,cost:$,isCustom:h[U.key]!==void 0})}else D=!0,N.push({...U,pricePerBF:null,defaultPrice:ce,cost:null,isCustom:!1})}),{items:N,totalCost:B,hasUnpricedItems:D,isUsedOnly:b,boardsUsed:r.boardsUsed,totalBoards:r.totalStockBoards}},w=(S,T)=>{if(T===""||T===null){const N={...h};delete N[S],d(N)}else d({...h,[S]:parseFloat(T)||0})},j=k();return g.jsxs("div",{className:"cut-plan-display",children:[g.jsxs("div",{className:"cut-plan-header",children:[g.jsx("h3",{children:"Cut Plan"}),g.jsx("button",{onClick:n,className:`btn-secondary ${a?"btn-loading":""}`,disabled:a,children:a?"Regenerating...":"Regenerate Plan"})]}),g.jsxs("div",{className:"cut-plan-stats",children:[g.jsxs("div",{className:`cut-plan-stat ${r.efficiency>=80?"stat-good":r.efficiency>=60?"stat-moderate":"stat-poor"}`,children:[g.jsxs("span",{className:"stat-value",children:[r.efficiency.toFixed(1),"%"]}),g.jsx("span",{className:"stat-label",children:"Efficiency"})]}),g.jsxs("div",{className:`cut-plan-stat ${r.waste<=1?"stat-good":r.waste<=3?"stat-moderate":"stat-poor"}`,children:[g.jsx("span",{className:"stat-value",children:r.waste.toFixed(2)}),g.jsx("span",{className:"stat-label",children:u?"Waste (sq ft)":"Waste (BF)"})]}),g.jsxs("div",{className:"cut-plan-stat",children:[g.jsxs("span",{className:"stat-value",children:[r.boardsUsed,"/",r.totalStockBoards]}),g.jsx("span",{className:"stat-label",children:u?"Sheets Used":"Boards Used"})]}),j&&j.totalCost>0&&g.jsxs("div",{className:"cut-plan-stat stat-highlight",children:[g.jsxs("span",{className:"stat-value",children:["$",j.totalCost.toFixed(2)]}),g.jsx("span",{className:"stat-label",children:j.isUsedOnly?"Cost (Used)":"Est. Cost"})]})]}),r.warnings.length>0&&g.jsx("div",{className:"cut-plan-warnings",children:r.warnings.map((S,T)=>g.jsx("div",{className:"warning",children:S},T))}),g.jsx("div",{className:"cut-plan-boards",children:r.assignments.map((S,T)=>g.jsx(ox,{assignment:S,scale:m},T))}),r.assignments.length===0&&r.warnings.length===0&&g.jsx("p",{className:"cut-plan-empty",children:"No cuts to display. Add cut pieces and generate a plan."}),j&&j.items.length>0&&g.jsxs("div",{className:"cut-plan-pricing",children:[g.jsx("h4",{children:"Estimated Material Cost"}),j.isUsedOnly&&g.jsxs("p",{className:"pricing-context",children:["Showing cost for ",g.jsxs("strong",{children:[j.boardsUsed," of ",j.totalBoards]})," ",u?"sheets":"boards"," used in this cut plan."]}),g.jsxs("table",{className:"pricing-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Qty"}),g.jsx("th",{children:u?"Sheet":"Board"}),g.jsx("th",{children:u?"Sq Ft":"BF"}),g.jsx("th",{children:u?"$/Sheet":"$/BF"}),g.jsx("th",{children:"Cost"})]})}),g.jsx("tbody",{children:j.items.map((S,T)=>g.jsxs("tr",{className:S.isCustom?"custom-price":"",children:[g.jsxs("td",{className:"qty-col",children:[S.count,""]}),g.jsxs("td",{className:"desc-col",children:[S.length,'"  ',S.width,'"',g.jsxs("span",{className:"breakdown-details",children:[S.thickness,u?'"':"",S.species&&`  ${S.species}`]})]}),g.jsx("td",{className:"bf-col",children:u?(S.length*S.width/144*S.count).toFixed(1):S.totalBF.toFixed(1)}),g.jsx("td",{className:"price-col",children:g.jsxs("div",{className:"price-input-wrapper",children:[g.jsx("span",{className:"price-symbol",children:"$"}),g.jsx("input",{type:"number",className:"price-input",value:S.pricePerBF!==null?S.pricePerBF:"",onChange:N=>w(S.key,N.target.value),placeholder:S.defaultPrice!==null?S.defaultPrice.toFixed(2):"0.00",step:"0.01",min:"0"})]})}),g.jsx("td",{className:"cost-col",children:S.cost!==null?`$${S.cost.toFixed(2)}`:""})]},T))}),g.jsx("tfoot",{children:g.jsxs("tr",{className:"total-row",children:[g.jsx("td",{colSpan:"4",className:"total-label",children:"Estimated Total:"}),g.jsxs("td",{className:"total-cost",children:["$",j.totalCost.toFixed(2),j.hasUnpricedItems&&"*"]})]})})]}),j.hasUnpricedItems&&g.jsx("p",{className:"pricing-note",children:"* Enter a price to include in total"}),g.jsx("p",{className:"pricing-disclaimer",children:"Default prices are estimates only. Update with your most current prices."})]})]})}function lx({project:r}){const e=r.boards.reduce((S,T)=>S+T.boardFeet,0),n=r.boards.reduce((S,T)=>S+(T.quantity||1),0),a=r.cutPieces||[],o=r.quantity||1,l=a.reduce((S,T)=>S+(T.quantity||1),0),u=l*o,h=r.sheetGoods||[],d=r.sheetCutPieces||[],m=h.reduce((S,T)=>S+(T.quantity||1),0),b=h.reduce((S,T)=>S+T.length*T.width/144*(T.quantity||1),0),A=d.reduce((S,T)=>S+(T.quantity||1),0),k=d.reduce((S,T)=>S+T.length*T.width/144*(T.quantity||1),0),w=o>1?a.map(S=>({...S,quantity:(S.quantity||1)*o})):a,j=tp(w);return g.jsxs("div",{className:"project-summary",children:[g.jsx("h3",{children:"Project Summary"}),o>1&&g.jsxs("div",{className:"summary-quantity-badge",children:["Making ",o," items"]}),g.jsx("div",{className:"summary-section-label",children:"Stock Boards"}),g.jsxs("div",{className:"summary-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:n}),g.jsx("span",{className:"stat-label",children:"Pieces"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:e.toFixed(1)}),g.jsx("span",{className:"stat-label",children:"Board Feet"})]})]}),a.length>0&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"summary-section-label",children:["Cut List ",o>1&&"(Total)"]}),g.jsxs("div",{className:"summary-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:u}),g.jsxs("span",{className:"stat-label",children:["Pieces",o>1&&g.jsxs("span",{className:"stat-per-item",children:["(",l,"/item)"]})]})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:j.toFixed(1)}),g.jsx("span",{className:"stat-label",children:"Board Feet"})]})]})]}),r.cutPlan&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-section-label",children:"Cut Plan"}),g.jsx("div",{className:"summary-stats",children:g.jsxs("div",{className:"stat total",children:[g.jsxs("span",{className:"stat-value",children:[r.cutPlan.efficiency.toFixed(0),"%"]}),g.jsx("span",{className:"stat-label",children:"Efficiency"})]})})]}),r.boards.length>0&&g.jsxs("div",{className:"board-list-summary",children:[g.jsx("h4",{children:"Stock Board List"}),g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Dims"}),g.jsx("th",{children:"Qty"})]})}),g.jsx("tbody",{children:r.boards.map(S=>g.jsxs("tr",{children:[g.jsx("td",{children:S.name}),g.jsxs("td",{children:[S.length,'"',S.width,'"']}),g.jsx("td",{children:S.quantity||1})]},S.id))})]})]}),(h.length>0||d.length>0)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-divider"}),h.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-section-label",children:"Sheet Stock"}),g.jsxs("div",{className:"summary-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:m}),g.jsx("span",{className:"stat-label",children:"Sheets"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:b.toFixed(1)}),g.jsx("span",{className:"stat-label",children:"Sq Ft"})]})]})]}),d.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-section-label",children:"Sheet Cut List"}),g.jsxs("div",{className:"summary-stats",children:[g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:A}),g.jsx("span",{className:"stat-label",children:"Pieces"})]}),g.jsxs("div",{className:"stat",children:[g.jsx("span",{className:"stat-value",children:k.toFixed(1)}),g.jsx("span",{className:"stat-label",children:"Sq Ft"})]})]})]}),r.sheetCutPlan&&h.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"summary-section-label",children:"Sheet Cut Plan"}),g.jsx("div",{className:"summary-stats",children:g.jsxs("div",{className:"stat total",children:[g.jsxs("span",{className:"stat-value",children:[r.sheetCutPlan.efficiency.toFixed(0),"%"]}),g.jsx("span",{className:"stat-label",children:"Efficiency"})]})})]}),h.length>0&&g.jsxs("div",{className:"board-list-summary",children:[g.jsx("h4",{children:"Sheet Stock List"}),g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Name"}),g.jsx("th",{children:"Dims"}),g.jsx("th",{children:"Qty"})]})}),g.jsx("tbody",{children:h.map(S=>g.jsxs("tr",{children:[g.jsx("td",{children:S.name||`${S.product} ${S.thickness}"`}),g.jsxs("td",{children:[S.length,'"',S.width,'"']}),g.jsx("td",{children:S.quantity||1})]},S.id))})]})]})]})]})}function cx({onSubmit:r}){const[e,n]=Ye.useState(""),[a,o]=Ye.useState(""),[l,u]=Ye.useState(1),[h,d]=Ye.useState("calculate"),m=b=>{b.preventDefault(),e.trim()&&r({id:Date.now(),name:e.trim(),description:a.trim(),quantity:parseInt(l)||1,boards:[],cutPieces:[],cutPlan:null,workflow:h,createdAt:new Date().toISOString()})};return g.jsxs("form",{onSubmit:m,className:"project-form",children:[g.jsx("h2",{children:"Create New Project"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"projectName",children:"Project Name *"}),g.jsx("input",{id:"projectName",type:"text",value:e,onChange:b=>n(b.target.value),placeholder:"e.g., Dining Chair, Bookshelf",required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"projectDescription",children:"Description"}),g.jsx("textarea",{id:"projectDescription",value:a,onChange:b=>o(b.target.value),placeholder:"Describe your project...",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"projectQuantity",children:"How many are you making?"}),g.jsxs("div",{className:"quantity-input-row",children:[g.jsx("input",{id:"projectQuantity",type:"number",min:"1",max:"100",value:l,onChange:b=>u(b.target.value),className:"quantity-input"}),g.jsx("span",{className:"quantity-hint",children:l>1?`Making ${l} identical items`:"Making 1 item"})]})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"How would you like to start?"}),g.jsxs("div",{className:"workflow-selector",children:[g.jsxs("div",{className:`workflow-option ${h==="calculate"?"selected":""}`,onClick:()=>d("calculate"),children:[g.jsx("div",{className:"workflow-icon",children:""}),g.jsxs("div",{className:"workflow-content",children:[g.jsx("h4",{children:"Calculate Stock Needed"}),g.jsx("p",{children:"Start with your cut list, then calculate how much lumber to buy"}),g.jsx("span",{className:"workflow-steps",children:"Cut List  Calculate Stock  Cut Plan"})]})]}),g.jsxs("div",{className:`workflow-option ${h==="known"?"selected":""}`,onClick:()=>d("known"),children:[g.jsx("div",{className:"workflow-icon",children:""}),g.jsxs("div",{className:"workflow-content",children:[g.jsx("h4",{children:"I Have My Lumber"}),g.jsx("p",{children:"Start with lumber you already have, then plan your cuts"}),g.jsx("span",{className:"workflow-steps",children:"Stock Boards  Cut List  Cut Plan"})]})]})]})]}),g.jsx("button",{type:"submit",className:"btn-primary",children:"Create Project"})]})}function ux({isOpen:r,onClose:e}){return r?g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content help-modal",onClick:n=>n.stopPropagation(),children:[g.jsx("button",{className:"modal-close",onClick:e,children:""}),g.jsxs("div",{className:"help-content",children:[g.jsx("h2",{children:"User Manual"}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Getting Started"}),g.jsxs("ol",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Sign up"})," for an account or ",g.jsx("strong",{children:"sign in"})," if you already have one"]}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"+ New Project"'})," to create a project"]}),g.jsx("li",{children:"Enter a project name and optional description"}),g.jsxs("li",{children:["Choose your workflow:",g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Calculate Stock Workflow"})," (recommended): Start with cut pieces, then calculate what lumber to buy"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Manual Stock Entry"}),": Enter your existing lumber inventory manually"]})]})]})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"The Three Tabs"}),g.jsxs("p",{children:["Navigate between ",g.jsx("strong",{children:"Cut List"}),", ",g.jsx("strong",{children:"Stock Boards"}),", and ",g.jsx("strong",{children:"Cut Plan"})," tabs at any time."]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Tab 1: Cut List"}),g.jsx("p",{children:"Define all the pieces you need to cut for your project."}),g.jsxs("table",{className:"help-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Field"}),g.jsx("th",{children:"Description"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{children:"Piece Name"}),g.jsx("td",{children:'Descriptive name (e.g., "Table Leg", "Apron")'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Length"}),g.jsx("td",{children:"Final length in inches"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Width"}),g.jsx("td",{children:"Final width in inches"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Thickness"}),g.jsx("td",{children:'Lumber notation: 4/4 (1"), 5/4 (1.25"), 6/4 (1.5"), 8/4 (2"), etc.'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Species"}),g.jsx("td",{children:"Wood type (Walnut, Cherry, Oak, etc.)"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Quantity"}),g.jsx("td",{children:"How many pieces needed"})]})]})]}),g.jsx("p",{children:g.jsx("strong",{children:"Tips:"})}),g.jsxs("ul",{children:[g.jsx("li",{children:"Add all pieces before calculating stock"}),g.jsx("li",{children:"Group similar pieces by species and thickness for efficient cutting"}),g.jsx("li",{children:'The optimizer accounts for 1/8" saw kerf between cuts'})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Tab 2: Stock Boards"}),g.jsx("h4",{children:"Option A: Calculate Stock Needed (Recommended)"}),g.jsx("p",{children:"Use the built-in calculator to determine what lumber to purchase:"}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Select ",g.jsx("strong",{children:"Thickness"})," (4/4, 5/4, 6/4, 8/4, etc.)"]}),g.jsxs("li",{children:["Select ",g.jsx("strong",{children:"Species"})," (matches species from your cut list)"]}),g.jsxs("li",{children:["Choose ",g.jsx("strong",{children:"Size"}),' (standard sizes like 8ft x 6" or custom dimensions)']}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"+ Add Board Type"'})]}),g.jsx("li",{children:"Repeat for each thickness/species combination in your cut list"}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"Calculate Stock Needed"'})]}),g.jsx("li",{children:"Review the shopping list showing quantity needed for each board type"}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"Use These Boards & Generate Cut Plan"'})," to apply"]})]}),g.jsx("h4",{children:"Option B: Manual Entry"}),g.jsx("p",{children:"If you already have lumber on hand, enter it manually with board name, length, width, thickness, species, and quantity."})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Tab 3: Cut Plan"}),g.jsx("p",{children:"Generate and view optimized cutting layouts:"}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"Generate Cut Plan"'})," (or use Calculate Stock workflow)"]}),g.jsxs("li",{children:["View statistics:",g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Efficiency"}),": Percentage of stock used vs. wasted"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Waste"}),": Board feet of material lost"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Boards Used"}),": How many stock boards needed"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Est. Cost"}),": Estimated material cost"]})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Visual diagrams"})," show exactly where each piece is placed on each board"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Estimated Material Cost"})," table shows quantity, dimensions, board feet, and costs"]}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"Regenerate Plan"'})," to recalculate if needed"]})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Pricing"}),g.jsx("p",{children:"The app includes default lumber prices for common species. To use your own prices:"}),g.jsxs("ol",{children:[g.jsx("li",{children:"Generate a cut plan"}),g.jsx("li",{children:'Scroll to "Estimated Material Cost"'}),g.jsx("li",{children:"Click any price field and enter your supplier's price per board foot"}),g.jsx("li",{children:"Total cost updates automatically"})]}),g.jsx("p",{children:g.jsx("em",{children:"Note: Default prices are estimates only. Update with your most current prices."})})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Exporting to PDF"}),g.jsxs("p",{children:["Click ",g.jsx("strong",{children:'"Export Project to PDF"'})," to generate a professional document containing:"]}),g.jsxs("ul",{children:[g.jsx("li",{children:"Project name and date"}),g.jsx("li",{children:"Stock boards table with dimensions and board feet"}),g.jsx("li",{children:"Cut list table with all pieces"}),g.jsx("li",{children:"Visual cut diagrams for each board"}),g.jsx("li",{children:"Efficiency statistics"})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Project Quantity (Building Multiples)"}),g.jsx("p",{children:"Making multiple identical items? Use the quantity feature to automatically calculate total materials:"}),g.jsxs("ol",{children:[g.jsxs("li",{children:["Create your project with the cut list for ",g.jsx("strong",{children:"one item"})]}),g.jsxs("li",{children:["Find the ",g.jsx("strong",{children:'"Building X"'})," selector in the project header"]}),g.jsx("li",{children:"Enter how many you're making (e.g., 4 chairs)"}),g.jsx("li",{children:"Stock boards are automatically recalculated to match"}),g.jsx("li",{children:"Cut plan regenerates with the correct quantities"})]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Note:"})," The stock board dimensions stay the same - only the quantities increase to accommodate the additional pieces."]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Purchase Orders"}),g.jsx("p",{children:"Generate a printable shopping list for the lumber yard:"}),g.jsxs("ol",{children:[g.jsx("li",{children:"Set up your project with stock boards"}),g.jsxs("li",{children:["Click the ",g.jsx("strong",{children:'"Purchase Order"'})," button"]}),g.jsx("li",{children:"Review your lumber shopping list grouped by species, thickness, and dimensions"}),g.jsxs("li",{children:["Click ",g.jsx("strong",{children:'"Print / Save as PDF"'})," to print or save"]})]}),g.jsx("p",{children:"The purchase order includes:"}),g.jsxs("ul",{children:[g.jsx("li",{children:"Your contact information (set in Settings)"}),g.jsx("li",{children:"Project name and date"}),g.jsx("li",{children:"Quantity, species, dimensions, and board feet for each board type"}),g.jsx("li",{children:"Total piece count and board feet"})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Settings"}),g.jsxs("p",{children:["Click ",g.jsx("strong",{children:'"Settings"'})," in the header to configure your profile:"]}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Name / Company"}),": Your name or business name"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Address"}),": Street address, city, state, zip"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Phone"}),": Contact phone number"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Email"}),": Contact email address"]})]}),g.jsx("p",{children:"This information appears on your purchase orders and syncs with your account across all devices."})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Kerf and Rough Lumber"}),g.jsx("p",{children:"The optimizer accounts for realistic woodworking conditions:"}),g.jsxs("ul",{children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Saw kerf"}),': 1/8" (0.125") material loss between each cut']}),g.jsxs("li",{children:[g.jsx("strong",{children:"Rough lumber edges"}),': Additional 1/8" on each edge for jointing/straightening']}),g.jsx("li",{children:'A 6" wide piece requires at least 6.25" of rough stock width'})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Formulas"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Board Feet"})," = (Thickness x Width x Length) / 144"]}),g.jsxs("table",{className:"help-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Notation"}),g.jsx("th",{children:"Thickness"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{children:"4/4"}),g.jsx("td",{children:'1.00"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"5/4"}),g.jsx("td",{children:'1.25"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"6/4"}),g.jsx("td",{children:'1.50"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"8/4"}),g.jsx("td",{children:'2.00"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"10/4"}),g.jsx("td",{children:'2.50"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"12/4"}),g.jsx("td",{children:'3.00"'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"16/4"}),g.jsx("td",{children:'4.00"'})]})]})]})]}),g.jsxs("section",{className:"help-section",children:[g.jsx("h3",{children:"Troubleshooting"}),g.jsxs("table",{className:"help-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Issue"}),g.jsx("th",{children:"Solution"})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{children:[g.jsx("td",{children:'"Still need: 4/4 Walnut" warning'}),g.jsx("td",{children:"Add a board type with that thickness and species"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Low efficiency percentage"}),g.jsx("td",{children:"Try different board sizes, or add smaller pieces to use scraps"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Pieces not fitting"}),g.jsx("td",{children:"Ensure stock boards are large enough; check species/thickness match"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Missing price"}),g.jsx("td",{children:"Enter a custom price in the $/BF field"})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Login issues"}),g.jsx("td",{children:'Check email confirmation; use "Forgot Password" if needed'})]}),g.jsxs("tr",{children:[g.jsx("td",{children:"Sync error"}),g.jsx("td",{children:"Check internet connection; data syncs automatically when restored"})]})]})]})]})]})]})}):null}function hx({isOpen:r,onClose:e,userProfile:n,onSave:a}){const[o,l]=Ye.useState(n);if(Ye.useEffect(()=>{l(n)},[n,r]),!r)return null;const u=d=>{d.preventDefault(),a(o),e()},h=(d,m)=>{l(b=>({...b,[d]:m}))};return g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content settings-modal",onClick:d=>d.stopPropagation(),children:[g.jsx("button",{className:"modal-close",onClick:e,children:""}),g.jsxs("div",{className:"settings-content",children:[g.jsx("h2",{children:"Settings"}),g.jsxs("form",{onSubmit:u,children:[g.jsxs("div",{className:"settings-section",children:[g.jsx("h3",{children:"Contact Information"}),g.jsx("p",{className:"settings-description",children:"This information will appear on your purchase orders."}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"profile-name",children:"Name / Company"}),g.jsx("input",{type:"text",id:"profile-name",value:o.name,onChange:d=>h("name",d.target.value),placeholder:"Your name or company name"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"profile-address",children:"Address"}),g.jsx("textarea",{id:"profile-address",value:o.address,onChange:d=>h("address",d.target.value),placeholder:"Street address, city, state, zip",rows:3})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"profile-phone",children:"Phone"}),g.jsx("input",{type:"tel",id:"profile-phone",value:o.phone,onChange:d=>h("phone",d.target.value),placeholder:"(555) 123-4567"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"profile-email",children:"Email"}),g.jsx("input",{type:"email",id:"profile-email",value:o.email,onChange:d=>h("email",d.target.value),placeholder:"you@example.com"})]})]}),g.jsxs("div",{className:"settings-actions",children:[g.jsx("button",{type:"submit",className:"btn-primary",children:"Save Settings"}),g.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"})]})]})]})]})})}function fx({isOpen:r,onClose:e,project:n,boards:a,userProfile:o}){if(!r||!n)return null;const l=()=>{if(!a||a.length===0)return[];const T={};return a.forEach(N=>{const B=`${N.thickness}|${N.species||""}|${N.length}|${N.width}`;T[B]||(T[B]={thickness:N.thickness,species:N.species||"Unspecified",length:N.length,width:N.width,count:0,totalBF:0}),T[B].count+=N.quantity||1,T[B].totalBF+=N.boardFeet*(N.quantity||1)}),Object.values(T).sort((N,B)=>N.species!==B.species?N.species.localeCompare(B.species):N.thickness.localeCompare(B.thickness))},u=()=>{const T=n.sheetGoods||[];if(T.length===0)return[];const N={};return T.forEach(B=>{const D=`${B.product}|${B.thickness}|${B.length}|${B.width}`;N[D]||(N[D]={product:B.product,thickness:B.thickness,length:B.length,width:B.width,count:0,totalSqFt:0,pricePerSheet:B.pricePerSheet});const U=B.quantity||1;N[D].count+=U,N[D].totalSqFt+=B.length*B.width/144*U}),Object.values(N).sort((B,D)=>B.product!==D.product?B.product.localeCompare(D.product):B.thickness.localeCompare(D.thickness))},h=l(),d=u(),m=h.reduce((T,N)=>T+N.totalBF,0),b=h.reduce((T,N)=>T+N.count,0),A=d.reduce((T,N)=>T+N.count,0),k=d.reduce((T,N)=>T+N.totalSqFt,0),w=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),j=()=>{window.print()},S=T=>`${T.length>=12?`${Math.round(T.length/12)}'`:`${T.length}"`}  ${T.width}"  ${T.thickness}`;return g.jsx("div",{className:"modal-overlay",onClick:e,children:g.jsxs("div",{className:"modal-content purchase-order-modal",onClick:T=>T.stopPropagation(),children:[g.jsx("button",{className:"modal-close no-print",onClick:e,children:""}),g.jsxs("div",{className:"purchase-order",children:[g.jsx("div",{className:"po-header",children:g.jsxs("div",{className:"po-header-row",children:[g.jsxs("div",{className:"po-title-section",children:[g.jsx("h2",{children:d.length>0&&h.length>0?"Material Purchase Order":d.length>0?"Sheet Goods Purchase Order":"Lumber Purchase Order"}),g.jsxs("div",{className:"po-meta",children:[g.jsxs("p",{children:[g.jsx("strong",{children:"Project:"})," ",n.name]}),n.quantity>1&&g.jsxs("p",{children:[g.jsx("strong",{children:"Quantity:"})," ",n.quantity," items"]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Date:"})," ",w]})]})]}),o?.name||o?.address||o?.phone||o?.email?g.jsxs("div",{className:"po-customer-info",children:[o.name&&g.jsx("p",{className:"po-customer-name",children:o.name}),o.address&&g.jsx("p",{className:"po-customer-address",children:o.address}),o.phone&&g.jsx("p",{children:o.phone}),o.email&&g.jsx("p",{children:o.email})]}):g.jsx("div",{className:"po-customer-info po-customer-hint no-print",children:g.jsx("p",{className:"po-hint-text",children:"Add your contact info in Settings"})})]})}),h.length>0&&g.jsxs(g.Fragment,{children:[d.length>0&&g.jsx("h3",{className:"po-section-title",children:"Lumber"}),g.jsxs("table",{className:"po-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Qty"}),g.jsx("th",{children:"Species"}),g.jsx("th",{children:"Dimensions"}),g.jsx("th",{children:"Board Feet"})]})}),g.jsx("tbody",{children:h.map((T,N)=>g.jsxs("tr",{children:[g.jsx("td",{className:"po-qty",children:T.count}),g.jsx("td",{className:"po-species",children:T.species}),g.jsx("td",{className:"po-dims",children:S(T)}),g.jsx("td",{className:"po-bf",children:T.totalBF.toFixed(2)})]},N))}),g.jsx("tfoot",{children:g.jsxs("tr",{className:"po-total-row",children:[g.jsx("td",{className:"po-qty",children:g.jsx("strong",{children:b})}),g.jsx("td",{colSpan:"2",children:g.jsx("strong",{children:"Total"})}),g.jsx("td",{className:"po-bf",children:g.jsxs("strong",{children:[m.toFixed(2)," BF"]})})]})})]})]}),d.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"po-section-title",children:"Sheet Goods"}),g.jsxs("table",{className:"po-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Qty"}),g.jsx("th",{children:"Product"}),g.jsx("th",{children:"Dimensions"}),g.jsx("th",{children:"Sq Ft"})]})}),g.jsx("tbody",{children:d.map((T,N)=>g.jsxs("tr",{children:[g.jsx("td",{className:"po-qty",children:T.count}),g.jsxs("td",{className:"po-species",children:[T.product," ",T.thickness,'"']}),g.jsxs("td",{className:"po-dims",children:[T.length,'"  ',T.width,'"']}),g.jsx("td",{className:"po-bf",children:T.totalSqFt.toFixed(1)})]},N))}),g.jsx("tfoot",{children:g.jsxs("tr",{className:"po-total-row",children:[g.jsx("td",{className:"po-qty",children:g.jsx("strong",{children:A})}),g.jsx("td",{colSpan:"2",children:g.jsx("strong",{children:"Total"})}),g.jsx("td",{className:"po-bf",children:g.jsxs("strong",{children:[k.toFixed(1)," sq ft"]})})]})})]})]}),n.description&&g.jsx("div",{className:"po-notes",children:g.jsxs("p",{children:[g.jsx("strong",{children:"Notes:"})," ",n.description]})}),g.jsx("div",{className:"po-footer",children:g.jsx("p",{children:"Generated by CutSmart"})})]}),g.jsxs("div",{className:"po-actions no-print",children:[g.jsx("button",{onClick:j,className:"btn-primary",children:"Print / Save as PDF"}),g.jsx("button",{onClick:e,className:"btn-secondary",children:"Close"})]})]})})}function dx(){return g.jsxs("div",{className:"skeleton-project-card",children:[g.jsx("div",{className:"skeleton skeleton-title"}),g.jsx("div",{className:"skeleton skeleton-text"}),g.jsx("div",{className:"skeleton skeleton-meta"})]})}function px({count:r=3}){return g.jsxs("div",{className:"project-list",children:[g.jsx("h2",{children:"Your Projects"}),[...Array(r)].map((e,n)=>g.jsx(dx,{},n))]})}function gx(){const[r,e]=Ye.useState(null),[n,a]=Ye.useState(!0),[o,l]=Ye.useState([]),[u,h]=Ye.useState(null),[d,m]=Ye.useState(null),[b,A]=Ye.useState(null),[k,w]=Ye.useState(!1),[j,S]=Ye.useState("cutlist"),[T,N]=Ye.useState("synced"),[B,D]=Ye.useState(!0),[U,le]=Ye.useState(!1),[ce,te]=Ye.useState(null),[$,Y]=Ye.useState(null),[ge,M]=Ye.useState(null),[H,ae]=Ye.useState(null),[re,we]=Ye.useState(!1),[ee,X]=Ye.useState(!1),[ie,xe]=Ye.useState("lumber"),[Le,G]=Ye.useState(null),[L,I]=Ye.useState(null),[W,ne]=Ye.useState(null),[ue,pe]=Ye.useState(null),[ke,je]=Ye.useState(null),[Be,Ge]=Ye.useState(null),[Qe,Xe]=Ye.useState(!1),[rt,K]=Ye.useState({name:"",address:"",phone:"",email:""}),[Ke,Vt]=Ye.useState({isOpen:!1,title:"",message:"",onConfirm:null}),vt=(se,ve,He)=>{Vt({isOpen:!0,title:se,message:ve,onConfirm:He})},ze=()=>{Vt({isOpen:!1,title:"",message:"",onConfirm:null})},xt=se=>{const He=u?.boards.find(We=>We.id===se)?.name||"this board";vt("Delete Board?",`Are you sure you want to delete "${He}"?`,()=>{Kn(se),ze()})},et=se=>{const He=u?.cutPieces?.find(We=>We.id===se)?.name||"this cut piece";vt("Delete Cut Piece?",`Are you sure you want to delete "${He}"?`,()=>{Tt(se),ze()})};Ye.useEffect(()=>{Ct.auth.getSession().then(({data:{session:ve}})=>{e(ve),a(!1)});const{data:{subscription:se}}=Ct.auth.onAuthStateChange((ve,He)=>{e(He)});return()=>se.unsubscribe()},[]),Ye.useEffect(()=>{r?(Gt(),Nt()):(l([]),K({name:"",address:"",phone:"",email:""}))},[r]),Ye.useEffect(()=>{ie==="lumber"?j==="sheetStock"?S("stock"):j==="sheetCutlist"?S("cutlist"):j==="sheetPlan"&&S("plan"):j==="stock"?S("sheetStock"):j==="cutlist"?S("sheetCutlist"):j==="plan"&&S("sheetPlan")},[ie]);const Nt=async()=>{try{const{data:se,error:ve}=await Ct.from("user_profiles").select("name, address, phone, email").single();if(ve&&ve.code!=="PGRST116"){console.error("Failed to load profile:",ve);return}se&&K({name:se.name||"",address:se.address||"",phone:se.phone||"",email:se.email||""})}catch(se){console.error("Failed to load profile:",se)}},yt=async se=>{if(K(se),!!r)try{const{error:ve}=await Ct.from("user_profiles").upsert({user_id:r.user.id,name:se.name,address:se.address,phone:se.phone,email:se.email,updated_at:new Date().toISOString()},{onConflict:"user_id"});ve&&console.error("Failed to save profile:",ve)}catch(ve){console.error("Failed to save profile:",ve)}},Gt=async()=>{N("syncing"),D(!0);try{const{data:se,error:ve}=await Ct.from("projects").select("*").order("created_at",{ascending:!1});if(ve)throw ve;const He=se.map(Ie=>Ie.id);let We=[],mt=[],tt=[],pn=[];if(He.length>0){const[Ie,Ze,hr,Ei]=await Promise.all([Ct.from("boards").select("*").in("project_id",He),Ct.from("cut_pieces").select("*").in("project_id",He),Ct.from("sheet_goods").select("*").in("project_id",He),Ct.from("sheet_cut_pieces").select("*").in("project_id",He)]);if(Ie.error)throw Ie.error;if(Ze.error)throw Ze.error;if(hr.error)throw hr.error;if(Ei.error)throw Ei.error;We=Ie.data||[],mt=Ze.data||[],tt=hr.data||[],pn=Ei.data||[]}const ht=se.map(Ie=>({id:Ie.id,name:Ie.name,description:Ie.description,workflow:Ie.workflow,quantity:Ie.quantity||1,cutPlan:Ie.cut_plan,createdAt:Ie.created_at,boards:We.filter(Ze=>Ze.project_id===Ie.id).map(Ze=>({id:Ze.id,name:Ze.name,length:Number(Ze.length),width:Number(Ze.width),thickness:Ze.thickness,thicknessInches:Number(Ze.thickness_inches),species:Ze.species,quantity:Ze.quantity,boardFeetPerPiece:Number(Ze.board_feet_per_piece),boardFeet:Number(Ze.board_feet)})),cutPieces:mt.filter(Ze=>Ze.project_id===Ie.id).map(Ze=>({id:Ze.id,name:Ze.name,length:Number(Ze.length),width:Number(Ze.width),thickness:Ze.thickness,species:Ze.species,quantity:Ze.quantity})),sheetGoods:tt.filter(Ze=>Ze.project_id===Ie.id).map(Ze=>({id:Ze.id,name:Ze.name,product:Ze.product_type,thickness:Ze.thickness,length:Number(Ze.length),width:Number(Ze.width),quantity:Ze.quantity,pricePerSheet:Ze.price_per_sheet?Number(Ze.price_per_sheet):null,sqFtPerSheet:Number(Ze.length)*Number(Ze.width)/144})),sheetCutPieces:pn.filter(Ze=>Ze.project_id===Ie.id).map(Ze=>({id:Ze.id,name:Ze.name,length:Number(Ze.length),width:Number(Ze.width),thickness:Ze.thickness,product:Ze.product_type,quantity:Ze.quantity,grainDirection:Ze.grain_direction||"any"})),sheetCutPlan:Ie.sheet_cut_plan}));l(ht),N("synced")}catch(se){console.error("Error loading projects:",se),N("error")}finally{D(!1)}},Ut=u?.workflow||"calculate";Ye.useEffect(()=>{if(u){const se=u.workflow||"calculate";S(se==="known"?"stock":"cutlist")}},[u?.id]);const Ft=async se=>{const ve=parseInt(se)||1;if(!(ve<1||ve===u.quantity)){N("syncing"),le(!0);try{const He=u.cutPieces||[],We=u.boards||[],mt=He.map(Ze=>({...Ze,quantity:(Ze.quantity||1)*ve}));let tt=We,pn=null;if(We.length>0&&He.length>0){const Ze=[],hr=new Set;We.forEach(Wt=>{const ja=`${Wt.length}|${Wt.width}|${Wt.thickness}|${Wt.species||""}`;if(!hr.has(ja)){hr.add(ja);const oa=`${Wt.length>=12?`${Math.round(Wt.length/12)}ft`:`${Wt.length}"`}  ${Wt.width}"`;Ze.push({name:oa,length:Wt.length,width:Wt.width,thickness:Wt.thickness,species:Wt.species})}});const Ei=qm(mt,Ze);Ei&&Ei.boards&&(tt=Ei.boards.map((Wt,ja)=>({...Wt,id:We[ja]?.id||Date.now()+ja})),pn=Ei.cutPlan)}else We.length>0&&He.length===0&&(pn=null);if(await Ct.from("boards").delete().eq("project_id",u.id),tt.length>0){const Ze=tt.map(Wt=>({project_id:u.id,name:Wt.name,length:Wt.length,width:Wt.width,thickness:Wt.thickness,thickness_inches:Wt.thicknessInches||Gl(Wt.thickness)||1,species:Wt.species,quantity:Wt.quantity||1,board_feet_per_piece:Wt.boardFeetPerPiece||Wt.boardFeet,board_feet:Wt.boardFeet})),{data:hr,error:Ei}=await Ct.from("boards").insert(Ze).select();if(Ei)throw Ei;tt=hr.map(Wt=>({id:Wt.id,name:Wt.name,length:Number(Wt.length),width:Number(Wt.width),thickness:Wt.thickness,thicknessInches:Number(Wt.thickness_inches),species:Wt.species,quantity:Wt.quantity,boardFeetPerPiece:Number(Wt.board_feet_per_piece),boardFeet:Number(Wt.board_feet)}))}const{error:ht}=await Ct.from("projects").update({quantity:ve,cut_plan:pn}).eq("id",u.id);if(ht)throw ht;const Ie={...u,quantity:ve,boards:tt,cutPlan:pn};l(o.map(Ze=>Ze.id===u.id?Ie:Ze)),h(Ie),N("synced")}catch(He){console.error("Error updating project quantity:",He),N("error")}finally{le(!1)}}},rn=async se=>{N("syncing");try{const{data:ve,error:He}=await Ct.from("projects").insert({user_id:r.user.id,name:se.name,description:se.description,workflow:se.workflow,quantity:se.quantity||1}).select().single();if(He)throw He;const We={id:ve.id,name:ve.name,description:ve.description,workflow:ve.workflow,quantity:ve.quantity||1,cutPlan:null,sheetCutPlan:null,createdAt:ve.created_at,boards:[],cutPieces:[],sheetGoods:[],sheetCutPieces:[]};l([We,...o]),h(We),w(!1),N("synced")}catch(ve){console.error("Error creating project:",ve),N("error")}},Zt=se=>{h(se),m(null),A(null),S("stock")},ut=async se=>{if(confirm("Are you sure you want to delete this project?")){N("syncing");try{const{error:ve}=await Ct.from("projects").delete().eq("id",se);if(ve)throw ve;l(o.filter(He=>He.id!==se)),u?.id===se&&h(null),N("synced")}catch(ve){console.error("Error deleting project:",ve),N("error")}}},It=async se=>{N("syncing");try{const{data:ve,error:He}=await Ct.from("boards").insert({project_id:u.id,name:se.name,length:se.length,width:se.width,thickness:se.thickness,thickness_inches:se.thicknessInches,species:se.species,quantity:se.quantity,board_feet_per_piece:se.boardFeetPerPiece,board_feet:se.boardFeet}).select().single();if(He)throw He;const We={id:ve.id,name:ve.name,length:Number(ve.length),width:Number(ve.width),thickness:ve.thickness,thicknessInches:Number(ve.thickness_inches),species:ve.species,quantity:ve.quantity,boardFeetPerPiece:Number(ve.board_feet_per_piece),boardFeet:Number(ve.board_feet)},mt={...u,boards:[...u.boards,We],cutPlan:null};l(o.map(tt=>tt.id===u.id?mt:tt)),h(mt),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error adding board:",ve),N("error")}},ft=async se=>{N("syncing");try{const{error:ve}=await Ct.from("boards").update({name:se.name,length:se.length,width:se.width,thickness:se.thickness,thickness_inches:se.thicknessInches,species:se.species,quantity:se.quantity,board_feet_per_piece:se.boardFeetPerPiece,board_feet:se.boardFeet}).eq("id",se.id);if(ve)throw ve;const He={...u,boards:u.boards.map(We=>We.id===se.id?se:We),cutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),m(null),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error updating board:",ve),N("error")}},Kn=async se=>{N("syncing");try{const{error:ve}=await Ct.from("boards").delete().eq("id",se);if(ve)throw ve;const He={...u,boards:u.boards.filter(We=>We.id!==se),cutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error deleting board:",ve),N("error")}},tn=(se,ve)=>{te(ve),se.dataTransfer.effectAllowed="move"},jt=(se,ve)=>{se.preventDefault(),ve!==ce&&Y(ve)},Dt=async(se,ve)=>{if(se.preventDefault(),!ce||ce===ve){te(null),Y(null);return}const He=[...u.boards],We=He.findIndex(ht=>ht.id===ce),mt=He.findIndex(ht=>ht.id===ve);if(We===-1||mt===-1)return;const[tt]=He.splice(We,1);He.splice(mt,0,tt);const pn={...u,boards:He,cutPlan:null};l(o.map(ht=>ht.id===u.id?pn:ht)),h(pn),te(null),Y(null),N("syncing");try{await Ct.from("boards").delete().eq("project_id",u.id);const ht=He.map(Ie=>({id:Ie.id,project_id:u.id,name:Ie.name,length:Ie.length,width:Ie.width,thickness:Ie.thickness,thickness_inches:Ie.thicknessInches,species:Ie.species,quantity:Ie.quantity,board_feet_per_piece:Ie.boardFeetPerPiece,board_feet:Ie.boardFeet}));await Ct.from("boards").insert(ht),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ht){console.error("Error reordering boards:",ht),N("error")}},an=()=>{te(null),Y(null)},St=async se=>{N("syncing");try{const{data:ve,error:He}=await Ct.from("cut_pieces").insert({project_id:u.id,name:se.name,length:se.length,width:se.width,thickness:se.thickness,species:se.species,quantity:se.quantity}).select().single();if(He)throw He;const We={id:ve.id,name:ve.name,length:Number(ve.length),width:Number(ve.width),thickness:ve.thickness,species:ve.species,quantity:ve.quantity},mt=u.cutPieces||[],tt={...u,cutPieces:[...mt,We],cutPlan:null};l(o.map(pn=>pn.id===u.id?tt:pn)),h(tt),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error adding cut piece:",ve),N("error")}},Ln=async se=>{N("syncing");try{const{error:ve}=await Ct.from("cut_pieces").update({name:se.name,length:se.length,width:se.width,thickness:se.thickness,species:se.species,quantity:se.quantity}).eq("id",se.id);if(ve)throw ve;const He=u.cutPieces||[],We={...u,cutPieces:He.map(mt=>mt.id===se.id?se:mt),cutPlan:null};l(o.map(mt=>mt.id===u.id?We:mt)),h(We),A(null),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error updating cut piece:",ve),N("error")}},Tt=async se=>{N("syncing");try{const{error:ve}=await Ct.from("cut_pieces").delete().eq("id",se);if(ve)throw ve;const He=u.cutPieces||[],We={...u,cutPieces:He.filter(mt=>mt.id!==se),cutPlan:null};l(o.map(mt=>mt.id===u.id?We:mt)),h(We),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error deleting cut piece:",ve),N("error")}},Bt=(se,ve)=>{M(ve),se.dataTransfer.effectAllowed="move"},En=(se,ve)=>{se.preventDefault(),ve!==ge&&ae(ve)},Yt=async(se,ve)=>{if(se.preventDefault(),!ge||ge===ve){M(null),ae(null);return}const He=[...u.cutPieces||[]],We=He.findIndex(ht=>ht.id===ge),mt=He.findIndex(ht=>ht.id===ve);if(We===-1||mt===-1)return;const[tt]=He.splice(We,1);He.splice(mt,0,tt);const pn={...u,cutPieces:He,cutPlan:null};l(o.map(ht=>ht.id===u.id?pn:ht)),h(pn),M(null),ae(null),N("syncing");try{await Ct.from("cut_pieces").delete().eq("project_id",u.id);const ht=He.map(Ie=>({id:Ie.id,project_id:u.id,name:Ie.name,length:Ie.length,width:Ie.width,thickness:Ie.thickness,species:Ie.species,quantity:Ie.quantity}));await Ct.from("cut_pieces").insert(ht),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id),N("synced")}catch(ht){console.error("Error reordering cut pieces:",ht),N("error")}},gt=()=>{M(null),ae(null)},ln=async se=>{N("syncing");try{const{data:ve,error:He}=await Ct.from("sheet_goods").insert({project_id:u.id,name:se.name,product_type:se.product,thickness:se.thickness,length:se.length,width:se.width,quantity:se.quantity,price_per_sheet:se.pricePerSheet}).select().single();if(He)throw He;const We={id:ve.id,name:ve.name,product:ve.product_type,thickness:ve.thickness,length:Number(ve.length),width:Number(ve.width),quantity:ve.quantity,pricePerSheet:ve.price_per_sheet?Number(ve.price_per_sheet):null,sqFtPerSheet:Number(ve.length)*Number(ve.width)/144},mt={...u,sheetGoods:[...u.sheetGoods||[],We],sheetCutPlan:null};l(o.map(tt=>tt.id===u.id?mt:tt)),h(mt),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error adding sheet goods:",ve),N("error")}},Or=async se=>{N("syncing");try{const{error:ve}=await Ct.from("sheet_goods").update({name:se.name,product_type:se.product,thickness:se.thickness,length:se.length,width:se.width,quantity:se.quantity,price_per_sheet:se.pricePerSheet}).eq("id",se.id);if(ve)throw ve;const He={...u,sheetGoods:(u.sheetGoods||[]).map(We=>We.id===se.id?{...se,sqFtPerSheet:Number(se.length)*Number(se.width)/144}:We),sheetCutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),G(null),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error updating sheet goods:",ve),N("error")}},Bi=async se=>{N("syncing");try{const{error:ve}=await Ct.from("sheet_goods").delete().eq("id",se);if(ve)throw ve;const He={...u,sheetGoods:(u.sheetGoods||[]).filter(We=>We.id!==se),sheetCutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error deleting sheet goods:",ve),N("error")}},Fr=async se=>{N("syncing");try{const{data:ve,error:He}=await Ct.from("sheet_cut_pieces").insert({project_id:u.id,name:se.name,length:se.length,width:se.width,thickness:se.thickness,product_type:se.product,quantity:se.quantity,grain_direction:se.grainDirection||"any"}).select().single();if(He)throw He;const We={id:ve.id,name:ve.name,length:Number(ve.length),width:Number(ve.width),thickness:ve.thickness,product:ve.product_type,quantity:ve.quantity,grainDirection:ve.grain_direction},mt={...u,sheetCutPieces:[...u.sheetCutPieces||[],We],sheetCutPlan:null};l(o.map(tt=>tt.id===u.id?mt:tt)),h(mt),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error adding sheet cut piece:",ve),N("error")}},xr=async se=>{N("syncing");try{const{error:ve}=await Ct.from("sheet_cut_pieces").update({name:se.name,length:se.length,width:se.width,thickness:se.thickness,product_type:se.product,quantity:se.quantity,grain_direction:se.grainDirection||"any"}).eq("id",se.id);if(ve)throw ve;const He={...u,sheetCutPieces:(u.sheetCutPieces||[]).map(We=>We.id===se.id?se:We),sheetCutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),I(null),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error updating sheet cut piece:",ve),N("error")}},bt=async se=>{N("syncing");try{const{error:ve}=await Ct.from("sheet_cut_pieces").delete().eq("id",se);if(ve)throw ve;const He={...u,sheetCutPieces:(u.sheetCutPieces||[]).filter(We=>We.id!==se),sheetCutPlan:null};l(o.map(We=>We.id===u.id?He:We)),h(He),await Ct.from("projects").update({sheet_cut_plan:null}).eq("id",u.id),N("synced")}catch(ve){console.error("Error deleting sheet cut piece:",ve),N("error")}},sa=(se,ve)=>{ne(ve),se.dataTransfer.effectAllowed="move"},Ir=(se,ve)=>{se.preventDefault(),ve!==W&&pe(ve)},or=(se,ve)=>{if(se.preventDefault(),!W||W===ve){ne(null),pe(null);return}const He=[...u.sheetGoods||[]],We=He.findIndex(ht=>ht.id===W),mt=He.findIndex(ht=>ht.id===ve);if(We===-1||mt===-1)return;const[tt]=He.splice(We,1);He.splice(mt,0,tt);const pn={...u,sheetGoods:He,sheetCutPlan:null};l(o.map(ht=>ht.id===u.id?pn:ht)),h(pn),ne(null),pe(null)},lr=()=>{ne(null),pe(null)},Pn=(se,ve)=>{je(ve),se.dataTransfer.effectAllowed="move"},ii=(se,ve)=>{se.preventDefault(),ve!==ke&&Ge(ve)},gi=(se,ve)=>{if(se.preventDefault(),!ke||ke===ve){je(null),Ge(null);return}const He=[...u.sheetCutPieces||[]],We=He.findIndex(ht=>ht.id===ke),mt=He.findIndex(ht=>ht.id===ve);if(We===-1||mt===-1)return;const[tt]=He.splice(We,1);He.splice(mt,0,tt);const pn={...u,sheetCutPieces:He,sheetCutPlan:null};l(o.map(ht=>ht.id===u.id?pn:ht)),h(pn),je(null),Ge(null)},Aa=()=>{je(null),Ge(null)},ji=async()=>{const se=u.sheetCutPieces||[],ve=u.sheetGoods||[];if(se.length===0){alert("Add cut pieces first before generating a plan.");return}if(ve.length===0){alert("Add sheet stock first before generating a plan.");return}le(!0),await new Promise(Ie=>setTimeout(Ie,100));const He=ve.flatMap(Ie=>{const Ze=Ie.quantity||1;return Array.from({length:Ze},(hr,Ei)=>({id:`${Ie.id}-${Ei}`,name:Ie.name||`${Ie.product} ${Ie.thickness}"`,length:Ie.length,width:Ie.width,thickness:Ie.thickness,thicknessInches:parseFloat(Ie.thickness.replace(/[^\d.]/g,""))||.75,species:Ie.product,quantity:1,boardFeetPerPiece:Ie.length*Ie.width/144,boardFeet:Ie.length*Ie.width/144,materialType:"sheet",pricePerSheet:Ie.pricePerSheet}))}),We=se.map(Ie=>({...Ie,species:Ie.product,thickness:Ie.thickness})),mt=u.quantity||1,tt=mt>1?We.map(Ie=>({...Ie,quantity:(Ie.quantity||1)*mt})):We,pn=su(He,tt,.125),ht={...u,sheetCutPlan:pn};l(o.map(Ie=>Ie.id===u.id?ht:Ie)),h(ht),S("sheetPlan"),N("syncing");try{const{error:Ie}=await Ct.from("projects").update({sheet_cut_plan:pn}).eq("id",u.id);if(Ie)throw Ie;N("synced")}catch(Ie){console.error("Error saving sheet cut plan:",Ie),N("error")}finally{le(!1)}},_n=async()=>{const se=u.cutPieces||[];if(se.length===0){alert("Add cut pieces first before generating a plan.");return}if(u.boards.length===0){alert("Add stock boards first before generating a plan.");return}le(!0),await new Promise(tt=>setTimeout(tt,100));const ve=u.quantity||1,He=ve>1?se.map(tt=>({...tt,quantity:(tt.quantity||1)*ve})):se,We=su(u.boards,He),mt={...u,cutPlan:We};l(o.map(tt=>tt.id===u.id?mt:tt)),h(mt),S("plan"),N("syncing");try{const{error:tt}=await Ct.from("projects").update({cut_plan:We}).eq("id",u.id);if(tt)throw tt;N("synced")}catch(tt){console.error("Error saving cut plan:",tt),N("error")}finally{le(!1)}},Hn=async(se,ve)=>{N("syncing");try{await Ct.from("boards").delete().eq("project_id",u.id);const He=se.map(Ie=>({project_id:u.id,name:Ie.name,length:Ie.length,width:Ie.width,thickness:Ie.thickness,thickness_inches:Ie.thicknessInches,species:Ie.species,quantity:Ie.quantity||1,board_feet_per_piece:Ie.boardFeetPerPiece||Ie.boardFeet,board_feet:Ie.boardFeet})),{data:We,error:mt}=await Ct.from("boards").insert(He).select();if(mt)throw mt;const{error:tt}=await Ct.from("projects").update({cut_plan:ve}).eq("id",u.id);if(tt)throw tt;const pn=We.map(Ie=>({id:Ie.id,name:Ie.name,length:Number(Ie.length),width:Number(Ie.width),thickness:Ie.thickness,thicknessInches:Number(Ie.thickness_inches),species:Ie.species,quantity:Ie.quantity,boardFeetPerPiece:Number(Ie.board_feet_per_piece),boardFeet:Number(Ie.board_feet)})),ht={...u,boards:pn,cutPlan:ve};l(o.map(Ie=>Ie.id===u.id?ht:Ie)),h(ht),S("plan"),N("synced")}catch(He){console.error("Error applying calculated stock:",He),N("error")}},Pi=async()=>{await Ct.auth.signOut(),h(null),l([])},Zi=u?by(u.boards):[],cr=u?[...new Set(u.boards.map(se=>se.species).filter(Boolean))]:[],Jn=u?.cutPieces||[],ur=u?.quantity||1,Rr=()=>ur<=1?Jn:Jn.map(se=>({...se,quantity:(se.quantity||1)*ur}));return n?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Loading..."})]}):r?g.jsxs("div",{className:"app",children:[g.jsxs("div",{className:"user-header",children:[g.jsx("span",{className:"user-email",children:r.user.email}),g.jsxs("div",{className:"sync-status",children:[g.jsx("span",{className:`sync-indicator ${T}`}),g.jsx("span",{children:T==="syncing"?"Syncing...":T==="error"?"Sync error":"Synced"})]}),g.jsx("button",{onClick:Pi,className:"btn-signout",children:"Sign Out"})]}),g.jsx("header",{children:g.jsxs("div",{className:"header-content",children:[g.jsx("img",{src:"/logo.png",alt:"CutSmart by The Joinery",className:"header-logo"}),g.jsx(Em,{icon:"",label:"Menu",className:"header-menu",items:[{icon:"",label:"Settings",onClick:()=>Xe(!0)},{icon:"?",label:"Help",onClick:()=>we(!0)}]})]})}),g.jsx(ux,{isOpen:re,onClose:()=>we(!1)}),g.jsx(hx,{isOpen:Qe,onClose:()=>Xe(!1),userProfile:rt,onSave:yt}),g.jsx(fx,{isOpen:ee,onClose:()=>X(!1),project:u,boards:u?.boards||[],userProfile:rt}),g.jsx(X_,{isOpen:Ke.isOpen,title:Ke.title,message:Ke.message,onConfirm:Ke.onConfirm,onCancel:ze}),g.jsx("main",{children:u?g.jsxs("div",{className:"project-view",children:[g.jsxs("div",{className:"project-header",children:[g.jsxs("div",{className:"project-header-top",children:[g.jsx("button",{onClick:()=>h(null),className:"btn-back",children:" Back to Projects"}),g.jsx(Em,{label:"Actions",className:"project-actions-dropdown",items:[{icon:"",label:"Export to PDF",onClick:()=>p4(u)},...u.boards.length>0?[{icon:"",label:"Purchase Order",onClick:()=>X(!0)}]:[]]})]}),g.jsxs("div",{className:"project-title",children:[g.jsx("h2",{children:u.name}),u.description&&g.jsx("p",{className:"project-description",children:u.description})]}),g.jsxs("div",{className:"project-quantity-selector",children:[g.jsx("label",{children:"Making:"}),g.jsx("input",{type:"number",min:"1",max:"100",value:u.quantity||1,onChange:se=>Ft(se.target.value),className:"project-quantity-input"}),g.jsx("span",{className:"project-quantity-label",children:(u.quantity||1)===1?"item":"items"})]})]}),g.jsxs("div",{className:"material-type-toggle",children:[g.jsxs("button",{className:`material-type-btn ${ie==="lumber"?"active":""}`,onClick:()=>xe("lumber"),children:[" Lumber",(u?.boards?.length||0)+(u?.cutPieces?.length||0)>0&&g.jsx("span",{className:"material-badge",children:(u.boards?.length||0)+(u.cutPieces?.length||0)})]}),g.jsxs("button",{className:`material-type-btn ${ie==="sheet"?"active":""}`,onClick:()=>xe("sheet"),children:[" Sheet Goods",(u?.sheetGoods?.length||0)+(u?.sheetCutPieces?.length||0)>0&&g.jsx("span",{className:"material-badge",children:(u.sheetGoods?.length||0)+(u.sheetCutPieces?.length||0)})]})]}),ie==="lumber"&&g.jsx("div",{className:"workflow-indicator",children:Ut==="calculate"?g.jsx("span",{children:" Calculate Stock Workflow"}):g.jsx("span",{children:" Known Stock Workflow"})}),g.jsx("div",{className:"tab-nav",children:ie==="lumber"?Ut==="calculate"?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:`tab-btn ${j==="cutlist"?"active":""}`,onClick:()=>S("cutlist"),children:[g.jsx("span",{className:"tab-step",children:"1"}),"Cut List (",Jn.length,")"]}),g.jsxs("button",{className:`tab-btn ${j==="stock"?"active":""}`,onClick:()=>S("stock"),children:[g.jsx("span",{className:"tab-step",children:"2"}),"Stock Boards (",u.boards.length,")"]}),g.jsxs("button",{className:`tab-btn ${j==="plan"?"active":""}`,onClick:()=>S("plan"),children:[g.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",u.cutPlan?"":""]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:`tab-btn ${j==="stock"?"active":""}`,onClick:()=>S("stock"),children:[g.jsx("span",{className:"tab-step",children:"1"}),"Stock Boards (",u.boards.length,")"]}),g.jsxs("button",{className:`tab-btn ${j==="cutlist"?"active":""}`,onClick:()=>S("cutlist"),children:[g.jsx("span",{className:"tab-step",children:"2"}),"Cut List (",Jn.length,")"]}),g.jsxs("button",{className:`tab-btn ${j==="plan"?"active":""}`,onClick:()=>S("plan"),children:[g.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",u.cutPlan?"":""]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:`tab-btn ${j==="sheetStock"?"active":""}`,onClick:()=>S("sheetStock"),children:[g.jsx("span",{className:"tab-step",children:"1"}),"Sheets (",u.sheetGoods?.length||0,")"]}),g.jsxs("button",{className:`tab-btn ${j==="sheetCutlist"?"active":""}`,onClick:()=>S("sheetCutlist"),children:[g.jsx("span",{className:"tab-step",children:"2"}),"Cut List (",u.sheetCutPieces?.length||0,")"]}),g.jsxs("button",{className:`tab-btn ${j==="sheetPlan"?"active":""}`,onClick:()=>S("sheetPlan"),children:[g.jsx("span",{className:"tab-step",children:"3"}),"Cut Plan ",u.sheetCutPlan?"":""]})]})}),g.jsxs("div",{className:"project-content",children:[g.jsxs("div",{className:"main-section",children:[j==="stock"&&g.jsx("div",{className:"boards-section",children:Ut==="calculate"&&u.boards.length===0&&Jn.length>0?g.jsx(sx,{cutPieces:Rr(),onApplyStock:Hn,projectQuantity:ur}):Ut==="calculate"&&u.boards.length===0&&Jn.length===0?g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("h3",{children:"Step 2: Calculate Stock Needed"}),g.jsx("p",{children:"First, add your cut pieces in the Cut List tab to calculate how much lumber you need."}),g.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]}):g.jsxs(g.Fragment,{children:[d?g.jsx(Lm,{initialData:d,onSubmit:ft,onCancel:()=>m(null)}):g.jsx(Lm,{onSubmit:It}),u.boards.length>0?g.jsxs("div",{className:"board-list",children:[g.jsx("h3",{children:"Stock Boards"}),g.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),u.boards.map(se=>g.jsx(ix,{board:se,onEdit:m,onDelete:xt,onDragStart:tn,onDragOver:jt,onDrop:Dt,onDragEnd:an,isDragging:ce===se.id,isDragOver:$===se.id},se.id)),Ut==="known"&&Jn.length===0&&g.jsxs("div",{className:"next-step-prompt",children:[g.jsx("p",{children:"Stock boards added! Now add your cut pieces."}),g.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Continue to Cut List "})]})]}):g.jsxs("div",{className:"empty-state empty-state-inline",children:[g.jsx("div",{className:"empty-state-icon",children:""}),g.jsx("h3",{children:"No stock boards yet"}),g.jsx("p",{children:"Add the lumber you have available using the form above."})]}),Ut==="calculate"&&u.boards.length>0&&Jn.length>0&&g.jsx("div",{className:"recalculate-section",children:g.jsx("button",{onClick:async()=>{N("syncing");try{await Ct.from("boards").delete().eq("project_id",u.id),await Ct.from("projects").update({cut_plan:null}).eq("id",u.id);const se={...u,boards:[],cutPlan:null};l(o.map(ve=>ve.id===u.id?se:ve)),h(se),N("synced")}catch(se){console.error("Error clearing boards:",se),N("error")}},className:"btn-secondary",children:"Clear Boards & Recalculate"})})]})}),j==="cutlist"&&g.jsxs("div",{className:"cut-list-section",children:[b?g.jsx(Dm,{initialData:b,onSubmit:Ln,onCancel:()=>A(null),availableThicknesses:Zi,availableSpecies:cr}):g.jsx(Dm,{onSubmit:St,availableThicknesses:Zi,availableSpecies:cr}),Jn.length>0?g.jsxs("div",{className:"cut-piece-list",children:[g.jsx("h3",{children:"Cut Pieces"}),g.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),Jn.map(se=>g.jsx(rx,{piece:se,onEdit:A,onDelete:et,onDragStart:Bt,onDragOver:En,onDrop:Yt,onDragEnd:gt,isDragging:ge===se.id,isDragOver:H===se.id},se.id))]}):g.jsxs("div",{className:"empty-state empty-state-inline",children:[g.jsx("div",{className:"empty-state-icon",children:""}),g.jsx("h3",{children:"No cut pieces yet"}),g.jsx("p",{children:"Add the pieces you need to cut for your project using the form above."})]}),Jn.length>0&&g.jsxs("div",{className:"next-step-section",children:[Ut==="calculate"&&u.boards.length===0&&g.jsxs("div",{className:"next-step-prompt",children:[g.jsx("p",{children:"Cut list ready! Now calculate how much lumber you need."}),g.jsx("button",{onClick:()=>S("stock"),className:"btn-primary btn-large",children:"Continue to Calculate Stock "})]}),Ut==="known"&&u.boards.length===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"You need stock boards to generate a cut plan."}),g.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Go to Stock Boards"})]}),u.boards.length>0&&g.jsx("div",{className:"generate-plan-section",children:g.jsx("button",{onClick:_n,className:"btn-primary btn-large",children:"Generate Cut Plan "})})]})]}),j==="plan"&&g.jsx("div",{className:"cut-plan-section",children:u.cutPlan?g.jsx(Bm,{cutPlan:u.cutPlan,boards:u.boards,onRegenerate:_n,isRegenerating:U,workflowType:u.workflow}):g.jsxs("div",{className:"no-plan",children:[g.jsx("h3",{children:"Cut Plan"}),g.jsx("p",{children:"No cut plan generated yet."}),Ut==="calculate"?g.jsxs(g.Fragment,{children:[Jn.length===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Start by adding your cut pieces."}),g.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]}),Jn.length>0&&u.boards.length===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Next, calculate how much lumber you need."}),g.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Calculate Stock Needed"})]})]}):g.jsxs(g.Fragment,{children:[u.boards.length===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Start by adding your stock boards."}),g.jsx("button",{onClick:()=>S("stock"),className:"btn-primary",children:"Go to Stock Boards"})]}),u.boards.length>0&&Jn.length===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Next, add your cut pieces."}),g.jsx("button",{onClick:()=>S("cutlist"),className:"btn-primary",children:"Go to Cut List"})]})]}),Jn.length>0&&u.boards.length>0&&g.jsx("button",{onClick:_n,className:"btn-primary btn-large",children:"Generate Cut Plan"})]})}),j==="sheetStock"&&g.jsxs("div",{className:"boards-section sheet-goods-section",children:[Le?g.jsx(Om,{initialData:Le,onSubmit:Or,onCancel:()=>G(null)}):g.jsx(Om,{onSubmit:ln}),(u.sheetGoods?.length||0)>0?g.jsxs("div",{className:"board-list sheet-list",children:[g.jsx("h3",{children:"Sheet Stock"}),g.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),u.sheetGoods.map(se=>g.jsx(tx,{sheet:se,onEdit:G,onDelete:Bi,onDragStart:sa,onDragOver:Ir,onDrop:or,onDragEnd:lr,isDragging:W===se.id,isDragOver:ue===se.id},se.id)),(u.sheetCutPieces?.length||0)===0&&g.jsxs("div",{className:"next-step-prompt",children:[g.jsx("p",{children:"Sheet stock added! Now add your cut pieces."}),g.jsx("button",{onClick:()=>S("sheetCutlist"),className:"btn-primary",children:"Continue to Cut List "})]})]}):g.jsxs("div",{className:"empty-state empty-state-inline",children:[g.jsx("div",{className:"empty-state-icon",children:""}),g.jsx("h3",{children:"No sheet stock yet"}),g.jsx("p",{children:"Add the plywood, MDF, or other sheet goods you have available using the form above."})]})]}),j==="sheetCutlist"&&g.jsxs("div",{className:"cut-list-section sheet-cut-list-section",children:[L?g.jsx(Rm,{initialData:L,onSubmit:xr,onCancel:()=>I(null),availableProducts:[...new Set((u.sheetGoods||[]).map(se=>se.product))],availableThicknesses:[...new Set((u.sheetGoods||[]).map(se=>se.thickness))]}):g.jsx(Rm,{onSubmit:Fr,availableProducts:[...new Set((u.sheetGoods||[]).map(se=>se.product))],availableThicknesses:[...new Set((u.sheetGoods||[]).map(se=>se.thickness))]}),(u.sheetCutPieces?.length||0)>0?g.jsxs("div",{className:"cut-piece-list sheet-cut-piece-list",children:[g.jsx("h3",{children:"Cut Pieces"}),g.jsx("p",{className:"reorder-hint",children:"Drag to reorder"}),u.sheetCutPieces.map(se=>g.jsx(nx,{piece:se,onEdit:I,onDelete:bt,onDragStart:Pn,onDragOver:ii,onDrop:gi,onDragEnd:Aa,isDragging:ke===se.id,isDragOver:Be===se.id},se.id))]}):g.jsxs("div",{className:"empty-state empty-state-inline",children:[g.jsx("div",{className:"empty-state-icon",children:""}),g.jsx("h3",{children:"No cut pieces yet"}),g.jsx("p",{children:"Add the pieces you need to cut from your sheet stock using the form above."})]}),(u.sheetCutPieces?.length||0)>0&&g.jsxs("div",{className:"next-step-section",children:[(u.sheetGoods?.length||0)===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"You need sheet stock to generate a cut plan."}),g.jsx("button",{onClick:()=>S("sheetStock"),className:"btn-primary",children:"Go to Sheet Stock"})]}),(u.sheetGoods?.length||0)>0&&g.jsx("div",{className:"generate-plan-section",children:g.jsx("button",{onClick:ji,className:"btn-primary btn-large",children:"Generate Cut Plan "})})]})]}),j==="sheetPlan"&&g.jsx("div",{className:"cut-plan-section sheet-cut-plan-section",children:u.sheetCutPlan?g.jsx(Bm,{cutPlan:u.sheetCutPlan,boards:u.sheetGoods||[],onRegenerate:ji,isRegenerating:U,workflowType:"known",materialType:"sheet"}):g.jsxs("div",{className:"no-plan",children:[g.jsx("h3",{children:"Cut Plan"}),g.jsx("p",{children:"No cut plan generated yet."}),(u.sheetGoods?.length||0)===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Start by adding your sheet stock."}),g.jsx("button",{onClick:()=>S("sheetStock"),className:"btn-primary",children:"Go to Sheet Stock"})]}),(u.sheetGoods?.length||0)>0&&(u.sheetCutPieces?.length||0)===0&&g.jsxs("div",{className:"workflow-prompt",children:[g.jsx("p",{children:"Next, add your cut pieces."}),g.jsx("button",{onClick:()=>S("sheetCutlist"),className:"btn-primary",children:"Go to Cut List"})]}),(u.sheetCutPieces?.length||0)>0&&(u.sheetGoods?.length||0)>0&&g.jsx("button",{onClick:ji,className:"btn-primary btn-large",children:"Generate Cut Plan"})]})})]}),g.jsx("aside",{className:"summary-section",children:g.jsx(lx,{project:u})})]})]}):g.jsx("div",{className:"project-selection",children:k?g.jsxs(g.Fragment,{children:[g.jsx(cx,{onSubmit:rn}),g.jsx("button",{onClick:()=>w(!1),className:"btn-secondary",style:{marginTop:"1rem"},children:"Cancel"})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>w(!0),className:"btn-primary btn-large",children:"+ New Project"}),B?g.jsx(px,{count:3}):o.length>0?g.jsxs("div",{className:"project-list",children:[g.jsx("h2",{children:"Your Projects"}),o.map(se=>g.jsxs("div",{className:"project-card",children:[g.jsxs("div",{className:"project-card-info",onClick:()=>Zt(se),children:[g.jsx("h3",{children:se.name}),se.description&&g.jsx("p",{children:se.description}),g.jsxs("span",{className:"project-meta",children:[se.boards.length," boards ",se.boards.reduce((ve,He)=>ve+He.boardFeet,0).toFixed(2)," BF",(se.cutPieces?.length||0)>0&&g.jsxs(g.Fragment,{children:["  ",se.cutPieces.length," cut pieces"]})]})]}),g.jsx("button",{onClick:ve=>{ve.stopPropagation(),vt("Delete Project?",`Are you sure you want to delete "${se.name}"? This will also delete all boards and cut pieces in this project.`,()=>{ut(se.id),ze()})},className:"btn-delete",children:"Delete"})]},se.id))]}):g.jsxs("div",{className:"empty-state empty-state-projects",children:[g.jsx("div",{className:"empty-state-icon",children:""}),g.jsx("h3",{children:"No projects yet"}),g.jsx("p",{children:"Create your first project to start planning your cuts and calculating lumber needs."})]})]})})}),g.jsx("footer",{children:g.jsx("p",{children:"Board Feet = (Thickness  Width  Length) / 144"})})]}):g.jsx(K_,{})}py.createRoot(document.getElementById("root")).render(g.jsx(Ye.StrictMode,{children:g.jsx(gx,{})}));export{Bn as _};
